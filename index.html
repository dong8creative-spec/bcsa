<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì´ ëª¨ì—¬ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•˜ê³ , ë„¤íŠ¸ì›Œí‚¹í•˜ë©° í•¨ê»˜ ì„±ì¥í•´ë‚˜ê°€ëŠ” ì»¤ë®¤ë‹ˆí‹°">
    <title>ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤ - Busan Young CEO Community</title>
    
    <!-- í°íŠ¸ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- PortOne (êµ¬ ì•„ì„í¬íŠ¸) ë³¸ì¸ì¸ì¦ SDK -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Noto Sans KR', 'sans-serif'],
                        pop: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        brand: '#0045a5', 
                        accent: '#3b82f6',
                        dark: '#0f172a',
                        gray: '#64748b',
                        soft: '#f8fafc',
                    },
                    borderRadius: {
                        '4xl': '2rem',
                        '5xl': '2.5rem',
                    },
                    boxShadow: {
                        'float': '0 20px 40px -5px rgba(0, 69, 165, 0.25)', 
                        'deep-blue': '0 4px 25px rgba(0, 69, 165, 0.15)',
                        'deep-blue-hover': '0 15px 35px rgba(0, 69, 165, 0.3)',
                        'glass': '0 8px 32px 0 rgba(0, 69, 165, 0.08)',
                    },
                    animation: {
                        'fade-in-down': 'fadeInDown 0.3s ease-out forwards',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'zoom-in': 'zoomIn 0.2s ease-out forwards',
                        'scroll-right': 'scrollRight 40s linear infinite',
                        'scroll-right-fast': 'scrollRight 20s linear infinite', // ì„¸ë¯¸ë‚˜ í›„ê¸°ìš© (2ë°° ì†ë„)
                    },
                    keyframes: {
                        fadeInDown: {
                            '0%': { opacity: '0', transform: 'translateY(-10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        zoomIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        },
                        scrollRight: {
                            '0%': { transform: 'translateX(-50%)' },
                            '100%': { transform: 'translateX(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #ffffff; color: #1e293b; font-family: 'Noto Sans KR', sans-serif; -webkit-tap-highlight-color: transparent; }
        html { scroll-behavior: smooth; }
        .break-keep { word-break: keep-all; word-wrap: break-word; }
        .btn-hover { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .btn-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0, 69, 165, 0.5); }
        .card-zoom { overflow: hidden; }
        .card-zoom img { transition: transform 0.5s ease; }
        .card-zoom:hover img { transform: scale(1.05); }
        .nav-item { position: relative; transition: color 0.3s ease; }
        .nav-item::before { content: ''; position: absolute; inset: 0; border-radius: 9999px; background: rgba(59, 130, 246, 0.1); transform: scale(0.8); opacity: 0; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: -1; }
        .nav-item:hover::before { transform: scale(1); opacity: 1; }
        .nav-item.active { color: #0045a5; font-weight: 700; }
        .nav-item.active::before { background: rgba(0, 69, 165, 0.08); transform: scale(1); opacity: 1; }
        
        /* Modal Scrollbar */
        .modal-scroll::-webkit-scrollbar { width: 6px; }
        .modal-scroll::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .modal-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* íƒ€ì„ë¼ì¸ ë¼ì¸ ìŠ¤íƒ€ì¼ */
        .timeline-line::before {
            content: '';
            position: absolute;
            left: 19px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
            z-index: 0;
        }
        @media (min-width: 768px) {
            .timeline-line::before { left: 50%; transform: translateX(-50%); }
        }
        
        /* ìº˜ë¦°ë” ì „ìš© ìŠ¤íƒ€ì¼ */
        .calendar-top-border { border-top: 0.25px solid #0045a5; }
        .calendar-left-border { border-left: 0.25px solid #0045a5; }

        /* ë¬´í•œ ë¡¤ë§ ì»¨í…Œì´ë„ˆ */
        .scrolling-wrapper {
            display: flex;
            width: max-content;
        }
        .scrolling-wrapper:hover {
            animation-play-state: paused;
        }
        
        /* Hide Scrollbar */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        /* ====================================================================
        ğŸ“˜ [ê´€ë¦¬ì ë§¤ë‰´ì–¼] ë°ì´í„° ì—°ê²° ê°€ì´ë“œ
        ====================================================================
        1. ğŸ–¼ï¸ ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸ ë° ê¶Œì¥ ì‚¬ì´ì¦ˆ (ìµœì í™”ìš©)
           - ë©”ì¸ íˆì–´ë¡œ ë°°ê²½: 1920x1080px (ê³ í™”ì§ˆ, ì–´ë‘ìš´ í†¤ ê¶Œì¥)
           - íŠ¹ì¥ì (Features) ì´ë¯¸ì§€: 600x400px (ì§ì‚¬ê°í˜•)
           - ì„¸ë¯¸ë‚˜/í™œë™ ì¸ë„¤ì¼: 800x600px (4:3 ë¹„ìœ¨)
           - íšŒì› í”„ë¡œí•„: 200x200px (ì •ì‚¬ê°í˜•, ì–¼êµ´ ì¤‘ì‹¬)

        2. ğŸ“Š êµ¬ê¸€ ì‹œíŠ¸(CSV) ì¤€ë¹„ ì‚¬í•­
           - íŒŒì¼ -> ê³µìœ  -> ì›¹ì— ê²Œì‹œ -> 'CSV' í˜•ì‹ ì„ íƒ í›„ ë§í¬ ë³µì‚¬
           - [íšŒì› ì‹œíŠ¸ ì»¬ëŸ¼ ìˆœì„œ]: ì´ë¦„ | ì—…ì¢… | ì§ì±… | íšŒì‚¬ëª… | ì´ë¯¸ì§€URL
           - [ì„¸ë¯¸ë‚˜ ì‹œíŠ¸ ì»¬ëŸ¼ ìˆœì„œ]: ì œëª© | ë‚ ì§œ(YYYY.MM.DD) | ì¥ì†Œ | ì„¤ëª… | ì´ë¯¸ì§€URL | ìƒíƒœ | ì¹´í…Œê³ ë¦¬ | í˜„ì¬ì¸ì› | ìµœëŒ€ì¸ì›
        ====================================================================
        */

        const { useState, useEffect, useRef } = React;

        // ==========================================
        // ğŸ” PortOne ì´ˆê¸°í™”
        // ==========================================
        // PortOne ê°€ë§¹ì  ì‹ë³„ì½”ë“œ (ì‹¤ì œ ì‚¬ìš© ì‹œ ë°œê¸‰ë°›ì€ ì½”ë“œë¡œ êµì²´ í•„ìš”)
        const PORTONE_IMP_CODE = 'imp00000000'; // TODO: ì‹¤ì œ ê°€ë§¹ì  ì‹ë³„ì½”ë“œë¡œ êµì²´ í•„ìš”
        
        // PortOne ì´ˆê¸°í™”
        if (window.IMP) {
            window.IMP.init(PORTONE_IMP_CODE);
            console.log('âœ… PortOne ì´ˆê¸°í™” ì™„ë£Œ');
        } else {
            console.error('âŒ PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        // ==========================================
        // ğŸ’¾ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ ì‚¬ìš©ì ê´€ë¦¬
        // ==========================================
        const STORAGE_KEY_USERS = 'busan_ycc_users';
        const STORAGE_KEY_CURRENT_USER = 'busan_ycc_current_user';
        
        // ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ
        const loadUsersFromStorage = () => {
            try {
                const stored = localStorage.getItem(STORAGE_KEY_USERS);
                return stored ? JSON.parse(stored) : [];
            } catch (error) {
                console.error('ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                return [];
            }
        };
        
        // ì‚¬ìš©ì ë°ì´í„° ì €ì¥
        const saveUsersToStorage = (users) => {
            try {
                localStorage.setItem(STORAGE_KEY_USERS, JSON.stringify(users));
            } catch (error) {
                console.error('ì‚¬ìš©ì ë°ì´í„° ì €ì¥ ì˜¤ë¥˜:', error);
            }
        };
        
        // í˜„ì¬ ì‚¬ìš©ì ë¡œë“œ
        const loadCurrentUserFromStorage = () => {
            try {
                const stored = localStorage.getItem(STORAGE_KEY_CURRENT_USER);
                return stored ? JSON.parse(stored) : null;
            } catch (error) {
                console.error('í˜„ì¬ ì‚¬ìš©ì ë¡œë“œ ì˜¤ë¥˜:', error);
                return null;
            }
        };
        
        // í˜„ì¬ ì‚¬ìš©ì ì €ì¥
        const saveCurrentUserToStorage = (user) => {
            try {
                if (user) {
                    localStorage.setItem(STORAGE_KEY_CURRENT_USER, JSON.stringify(user));
                } else {
                    localStorage.removeItem(STORAGE_KEY_CURRENT_USER);
                }
            } catch (error) {
                console.error('í˜„ì¬ ì‚¬ìš©ì ì €ì¥ ì˜¤ë¥˜:', error);
            }
        };

        // ==========================================
        // ğŸš€ [ê´€ë¦¬ì ì„¤ì •] ë°ì´í„° ë§í¬
        // ==========================================
        const CONFIG_SHEET_URL = ""; 
        const MEMBER_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTEmEPSeDn1EUcf0DQWJ1EJ3t4nonCL42odDnJn7j8kxAkxl2qJDsXs6mDnxX2tfBJusuNC8ULgWXt4/pub?output=csv"; 
        const SEMINAR_SHEET_URL = ""; 
        const FOOD_SHEET_URL = ""; 
        const ADMIN_SHEET_EDIT_URL = "https://docs.google.com/spreadsheets"; 

        // ==========================================

        const Icons = {
            Menu: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            Search: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            MapPin: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Calendar: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            Users: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            ArrowRight: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Star: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            CheckCircle: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            X: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Info: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            ArrowLeft: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>,
            Clock: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Settings: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
            Plus: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>,
            Trash: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
            Edit: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>,
            Lock: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            Unlock: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></svg>,
            Eye: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>,
            EyeOff: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/></svg>,
            Key: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="7.5" cy="15.5" r="5.5"/><path d="m21 2-9.6 9.6"/><path d="m15.5 7.5 3 3L22 7l-3-3"/></svg>,
            Tag: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l5 5a2 2 0 0 0 2.828 0l7.172-7.172a2 2 0 0 0 0-2.828l-5-5z"/><circle cx="7.5" cy="7.5" r="2"/></svg>,
            Google: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>,
            Apple: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.74 1.18 0 2.45-1.01 4.12-.65 1.25.13 2.15.55 3.08 1.48-3.1 1.76-2.36 5.5.54 6.84-.57 1.62-1.38 3.22-2.82 4.56zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>,
            List: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>,
            Restaurant: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>,
            Phone: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>,
            Map: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>,
            Camera: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>,
            MessageCircle: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>,
            DollarSign: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
            Youtube: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>,
            Instagram: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>,
            Facebook: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>,
            MessageSquare: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
            Zap: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Shield: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
            Target: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
            TrendingUp: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
            Smile: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" x2="9.01" y1="9" y2="9"/><line x1="15" x2="15.01" y1="9" y2="9"/></svg>,
            Mail: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>,
        };

        const defaultContent = {
            hero_title: "í•¨ê»˜ ì„±ì¥í•˜ëŠ”\nì²­ë…„ ì‚¬ì—…ê°€ ì»¤ë®¤ë‹ˆí‹°\në¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤",
            hero_desc: "ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì´ ëª¨ì—¬ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•˜ê³ , ë„¤íŠ¸ì›Œí‚¹í•˜ë©° í•¨ê»˜ ì„±ì¥í•´ë‚˜ê°€ëŠ” ê³µê°„ì…ë‹ˆë‹¤.",
            stat_1_val: "200+", stat_1_desc: "í™œë™ì¤‘ì¸ ì‚¬ì—…ê°€",
            stat_2_val: "80+", stat_2_desc: "ì§„í–‰ëœ ì„¸ë¯¸ë‚˜",
            stat_3_val: "35+", stat_3_desc: "íˆ¬ì ì„±ê³µ ì‚¬ë¡€",
            stat_4_val: "100%", stat_4_desc: "ì„±ì¥ ì—´ì •",
            cta_title: "ì‚¬ì—…ì˜ ê¿ˆì„ í˜„ì‹¤ë¡œ!",
            cta_desc: "í˜¼ì ê³ ë¯¼í•˜ì§€ ë§ˆì„¸ìš”. ë¶€ì‚° ìµœê³ ì˜ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ê³¼ í•¨ê»˜ ë‹¹ì‹ ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ë‹¤ìŒ ë‹¨ê³„ë¡œ ëŒì–´ì˜¬ë¦¬ì„¸ìš”.",
            category_area_options: ["ë¶€ì‚° ì „ì²´", "í•´ìš´ëŒ€êµ¬ / IT", "ë¶€ì‚°ì§„êµ¬ / ìœ í†µ", "ë‚¨êµ¬ / ê¸ˆìœµ"],
            category_activity_options: ["ë¹„ì¦ˆë‹ˆìŠ¤ ì„¸ë¯¸ë‚˜", "íˆ¬ì ì„¤ëª…íšŒ", "ë„¤íŠ¸ì›Œí‚¹ íŒŒí‹°", "ë©˜í† ë§"],
            category_target_options: ["ì˜ˆë¹„/ì´ˆê¸° ì°½ì—…ê°€", "ì‹œë¦¬ì¦ˆA ë‹¨ê³„", "ëŒ€í•™ìƒ", "ì¼ë°˜ì¸"],
        };

        const defaultMembersData = [
            // íŒŒíŠ¸ë„ˆì‚¬ ë“±ê¸‰ (3ëª…) - í›„ì›í•œ íšŒì›ë§Œ
            { id: 1, name: "ê¹€ë¯¼ìˆ˜", industry: "IT/ì†Œí”„íŠ¸ì›¨ì–´", role: "CEO", company: "ë„¥ìŠ¤íŠ¸ì›¨ì´ë¸Œ", img: "https://randomuser.me/api/portraits/men/32.jpg", memberGrade: "íŒŒíŠ¸ë„ˆì‚¬", approvalStatus: "approved", hasDonated: true },
            { id: 2, name: "ì´ì˜í¬", industry: "ìœ í†µ/ë¬´ì—­", role: "ëŒ€í‘œ", company: "ê¸€ë¡œë²ŒíŠ¸ë ˆì´ë“œ", img: "https://randomuser.me/api/portraits/women/44.jpg", memberGrade: "íŒŒíŠ¸ë„ˆì‚¬", approvalStatus: "approved", hasDonated: true },
            { id: 3, name: "ë°•ì§€ì„±", industry: "ì œì¡°ì—…", role: "ì´ì‚¬", company: "ë¶€ì‚°ì •ë°€", img: "https://randomuser.me/api/portraits/men/85.jpg", memberGrade: "íŒŒíŠ¸ë„ˆì‚¬", approvalStatus: "approved", hasDonated: true },
            // ìš´ì˜ì§„ ë“±ê¸‰ (3ëª…) - ê´€ë¦¬ìê°€ ì§€ì •
            { id: 4, name: "ìµœìˆ˜ì§„", industry: "ë””ìì¸", role: "í”„ë¦¬ëœì„œ", company: "í¬ë¦¬ì—ì´í‹°ë¸Œë©", img: "https://randomuser.me/api/portraits/women/65.jpg", memberGrade: "ìš´ì˜ì§„", approvalStatus: "approved" },
            { id: 5, name: "ì •ëŒ€í˜„", industry: "ë§ˆì¼€íŒ…", role: "ëŒ€í‘œ", company: "ë””ì§€í„¸ë§ˆì¼€íŒ…ì½”ë¦¬ì•„", img: "https://randomuser.me/api/portraits/men/45.jpg", memberGrade: "ìš´ì˜ì§„", approvalStatus: "approved" },
            { id: 6, name: "í•œì†Œì˜", industry: "êµìœ¡", role: "ì›ì¥", company: "ë¶€ì‚°ì°½ì—…ì•„ì¹´ë°ë¯¸", img: "https://randomuser.me/api/portraits/women/28.jpg", memberGrade: "ìš´ì˜ì§„", approvalStatus: "approved" },
            // ì‚¬ì—…ì ë“±ê¸‰ (3ëª…)
            { id: 7, name: "ì˜¤ì¤€í˜¸", industry: "ìš”ì‹ì—…", role: "ì‚¬ì¥", company: "ë¶€ì‚°ë§›ì§‘í˜‘ë™ì¡°í•©", img: "https://randomuser.me/api/portraits/men/67.jpg", memberGrade: "ì‚¬ì—…ì", approvalStatus: "approved" },
            { id: 8, name: "ìœ¤ë¯¸ë¼", industry: "íŒ¨ì…˜", role: "ëŒ€í‘œ", company: "ë¶€ì‚°íŒ¨ì…˜ìŠ¤íŠœë””ì˜¤", img: "https://randomuser.me/api/portraits/women/52.jpg", memberGrade: "ì‚¬ì—…ì", approvalStatus: "approved" },
            { id: 9, name: "ê°•íƒœì˜", industry: "ë¶€ë™ì‚°", role: "ëŒ€í‘œ", company: "ë¶€ì‚°ë¶€ë™ì‚°ì»¨ì„¤íŒ…", img: "https://randomuser.me/api/portraits/men/23.jpg", memberGrade: "ì‚¬ì—…ì", approvalStatus: "approved" },
            // ì˜ˆì°½ ë“±ê¸‰ (3ëª…)
            { id: 10, name: "ì†¡ì§€ì€", industry: "ì»¨ì„¤íŒ…", role: "ëŒ€í‘œ", company: "ë¹„ì¦ˆë‹ˆìŠ¤ì»¨ì„¤íŒ…ê·¸ë£¹", img: "https://randomuser.me/api/portraits/women/38.jpg", memberGrade: "ì˜ˆì°½", approvalStatus: "approved" },
            { id: 11, name: "ì„ë™ìš±", industry: "IT/ì†Œí”„íŠ¸ì›¨ì–´", role: "CTO", company: "í…Œí¬ìŠ¤íƒ€íŠ¸ì—…", img: "https://randomuser.me/api/portraits/men/56.jpg", memberGrade: "ì˜ˆì°½", approvalStatus: "approved" },
            { id: 12, name: "ì¡°í˜œì§„", industry: "ë¯¸ë””ì–´", role: "ëŒ€í‘œ", company: "ë¶€ì‚°ë¯¸ë””ì–´ë©", img: "https://randomuser.me/api/portraits/women/41.jpg", memberGrade: "ì˜ˆì°½", approvalStatus: "approved" },
        ];

        const calculateStatus = (dateStr) => {
            if (!dateStr) return "ë¯¸ì •";
            const matches = dateStr.match(/(\d{4})[\.-](\d{2})[\.-](\d{2})/);
            if (!matches) return "ëª¨ì§‘ì¤‘";
            const year = parseInt(matches[1]);
            const month = parseInt(matches[2]) - 1;
            const day = parseInt(matches[3]);
            const seminarDate = new Date(year, month, day);
            const today = new Date();
            seminarDate.setHours(0,0,0,0);
            today.setHours(0,0,0,0);
            const diffTime = seminarDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            if (diffDays < 0) return "ì¢…ë£Œ";
            if (diffDays <= 14) return "ë§ˆê°ì„ë°•";
            return "ëª¨ì§‘ì¤‘";
        };

        const defaultSeminarsData = [
            { id: 1, category: "íˆ¬ì/IR", title: "2025 ìƒë°˜ê¸° ìŠ¤íƒ€íŠ¸ì—… íˆ¬ì íŠ¸ë Œë“œ", date: "2025.03.15", location: "ë¶€ì‚° ìœ ë¼ì‹œì•„ í”Œë«í¼ 104í˜¸", desc: "VC ì‹¬ì‚¬ì—­ ì´ˆì²­, 2025ë…„ ì£¼ëª©í•´ì•¼ í•  ìŠ¤íƒ€íŠ¸ì—… íŠ¸ë Œë“œì™€ íˆ¬ì ìœ ì¹˜ ì „ëµ ê³µìœ .", img: "https://images.unsplash.com/photo-1544531586-fde5298cdd40?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", currentParticipants: 142, maxParticipants: 150, price: 50000, requiresPayment: true },
            { id: 2, category: "ë„¤íŠ¸ì›Œí‚¹/ëª¨ì„", title: "ë¶€ì‚° ì²­ë…„ ì°½ì—…ê°€ ë„¤íŠ¸ì›Œí‚¹ ë‚˜ì´íŠ¸", date: "2025.03.22", location: "í•´ìš´ëŒ€ ë”ë² ì´ 101 ë£¨í”„íƒ‘", desc: "ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì°½ì—…ê°€ë“¤ì´ ëª¨ì—¬ ììœ ë¡­ê²Œ ë„¤íŠ¸ì›Œí‚¹í•˜ê³  í˜‘ì—… ê¸°íšŒë¥¼ ì°¾ëŠ” íŒŒí‹°.", img: "https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", currentParticipants: 85, maxParticipants: 100, price: 30000, requiresPayment: true },
            { id: 3, category: "êµìœ¡/ì„¸ë¯¸ë‚˜", title: "ì´ˆê¸° ì°½ì—…ê°€ë¥¼ ìœ„í•œ ì„¸ë¬´/ë…¸ë¬´ íŠ¹ê°•", date: "2025.04.05", location: "ë¶€ì‚°ì°½ì¡°ê²½ì œí˜ì‹ ì„¼í„° 3ì¸µ", desc: "ì°½ì—… ì´ˆê¸°ì— ê¼­ ì•Œì•„ì•¼ í•  ì„¸ê¸ˆ ê´€ë¦¬ì™€ ê·¼ë¡œ ê³„ì•½ì„œ ì‘ì„±ë²• ì‹¤ë¬´ ê°•ì˜.", img: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80", currentParticipants: 20, maxParticipants: 50, price: 0, requiresPayment: false },
        ].map(item => ({ ...item, status: calculateStatus(item.date) }));

        const defaultCommunityPosts = [
            { id: 1, category: 'ê³µì§€ì‚¬í•­', title: 'ë¶€ì²­ì‚¬ ì»¤ë®¤ë‹ˆí‹° ì´ìš© ê°€ì´ë“œ', author: 'ê´€ë¦¬ì', date: '2025.03.01', views: 120, content: 'ì„œë¡œ ì¡´ì¤‘í•˜ë©° ìœ ìµí•œ ì •ë³´ë¥¼ ë‚˜ëˆ„ëŠ” ê³µê°„ì´ ë©ì‹œë‹¤.', isSecret: false, password: 'admin', reply: null, likes: 15, comments: [], seminarTitle: null },
            { id: 2, category: 'ì¸ë ¥êµ¬ì¸', title: 'í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì êµ¬í•©ë‹ˆë‹¤ (React)', author: 'ê¹€ìŠ¤íƒ€íŠ¸', date: '2025.03.02', views: 45, content: 'ë¶€ì‚° ì„¼í…€ì‹œí‹° ê·¼ë¬´, ê²½ë ¥ 3ë…„ì°¨ ì´ìƒ êµ¬í•©ë‹ˆë‹¤.', isSecret: false, password: '123', reply: null, likes: 8, comments: [], seminarTitle: null },
            { id: 3, category: 'í”„ë¡œê·¸ë¨ í›„ê¸°', title: 'ì§€ë‚œ íˆ¬ì í”„ë¡œê·¸ë¨ ì •ë§ ìœ ìµí–ˆìŠµë‹ˆë‹¤', author: 'ì´ì„±ì¥', date: '2025.03.03', views: 30, content: 'íˆ¬ì ì‹¬ì‚¬ì—­ë‹˜ì˜ í”¼ë“œë°±ì´ í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.', isSecret: false, password: '123', reply: "ê°ì‚¬í•©ë‹ˆë‹¤. ë‹¤ìŒ í”„ë¡œê·¸ë¨ë„ ê¸°ëŒ€í•´ì£¼ì„¸ìš”!", rating: 5, images: [], likes: 12, comments: [{ id: 1, author: 'ê´€ë¦¬ì', content: 'ê°ì‚¬í•©ë‹ˆë‹¤!', date: '2025.03.03' }], seminarTitle: '2025 ìƒë°˜ê¸° ìŠ¤íƒ€íŠ¸ì—… íˆ¬ì íŠ¸ë Œë“œ' },
            { id: 4, category: 'ê±´ì˜ì‚¬í•­', title: 'ë‹¤ìŒ ëª¨ì„ ì¥ì†Œ ê´€ë ¨ ê±´ì˜ë“œë¦½ë‹ˆë‹¤', author: 'ë°•ì œì•ˆ', date: '2025.03.04', views: 10, content: 'ë¹„ë°€ê¸€ì…ë‹ˆë‹¤.', isSecret: true, password: '123', reply: null, likes: 3, comments: [], seminarTitle: null },
        ];

        const defaultFoodData = [
            { id: 1, title: "í•´ìš´ëŒ€ ì•”ì†Œê°ˆë¹„ì§‘", category: "í•œì‹", address: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ì¤‘ë™2ë¡œ10ë²ˆê¸¸ 32-10", desc: "ì…ì•ˆì—ì„œ ì‚´ì‚´ ë…¹ëŠ” ìƒê°ˆë¹„ì™€ ê°ìì‚¬ë¦¬ê°€ ì¼í’ˆì¸ ë¶€ì‚° ëŒ€í‘œ ë§›ì§‘", img: "https://images.unsplash.com/photo-1558030006-4506719b7342?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", reservation: true, status: 'approved' },
            { id: 2, title: "ìŒë‘¥ì´ë¼ì§€êµ­ë°¥", category: "í•œì‹", address: "ë¶€ì‚° ë‚¨êµ¬ ìœ ì—”í‰í™”ë¡œ 35-1", desc: "ì§„í•œ êµ­ë¬¼ê³¼ í‘¸ì§í•œ ìˆ˜ìœ¡ ë°±ë°˜ì´ ìœ ëª…í•œ ë¡œì»¬ë“¤ì˜ ì†Œìš¸ í‘¸ë“œ", img: "https://images.unsplash.com/photo-1590301157890-4810ed352733?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", reservation: false, status: 'approved' },
            { id: 3, title: "ì˜µìŠ¤(OPS) í•´ìš´ëŒ€ì ", category: "ì¹´í˜/ë””ì €íŠ¸", address: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ì¤‘ë™1ë¡œ 31", desc: "ìŠˆí¬ë¦¼ë¹µê³¼ í•™ì›ì „ì´ ìœ ëª…í•œ ë¶€ì‚°ì˜ ëŒ€í‘œ ë² ì´ì»¤ë¦¬", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", reservation: false, status: 'approved' },
            { id: 4, title: "ì´ì¬ëª¨í”¼ì", category: "ì–‘ì‹", address: "ë¶€ì‚° ì¤‘êµ¬ ê´‘ë³µì¤‘ì•™ë¡œ 31", desc: "ì¹˜ì¦ˆê°€ ë“¬ë¿ ë“¤ì–´ê°„ ì„ì‹¤ì¹˜ì¦ˆ í”¼ìë¡œ ìœ ëª…í•œ ë‚¨í¬ë™ì˜ í„°ì¤ëŒ€ê°", img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", reservation: true, status: 'approved' },
        ];

        const convertDriveLink = (url) => {
            if (!url) return "";
            if (url.includes('drive.google.com') && url.includes('/d/')) {
                try {
                    const fileId = url.split('/d/')[1].split('/')[0];
                    return `https://drive.google.com/uc?export=view&id=${fileId}`;
                } catch (e) { return url; }
            }
            return url;
        };

        const CalendarSelectModal = ({ seminar, onClose, onConfirm, autoRegister = false }) => {
            const [deviceInfo, setDeviceInfo] = useState(null);
            const [isMobile, setIsMobile] = useState(false);
            
            useEffect(() => {
                // ëª¨ë°”ì¼/PC êµ¬ë¶„
                const mobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                setIsMobile(mobile);
                
                // ê¸°ê¸° ë° OS ê°ì§€
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;
                const platform = navigator.platform || '';
                const isIOS = /iPhone|iPad|iPod/i.test(userAgent);
                const isMac = /Macintosh|MacIntel|MacPPC|Mac68K/i.test(platform) || (/Mac/i.test(userAgent) && !isIOS);
                const isWindows = /Win/i.test(platform) || /Windows/i.test(userAgent);
                const isAndroid = /Android/i.test(userAgent);
                
                let deviceType = 'google';
                let osType = 'Unknown';
                
                if (isIOS) {
                    deviceType = 'apple';
                    osType = 'iOS';
                } else if (isMac) {
                    deviceType = 'apple';
                    osType = 'macOS';
                } else if (isWindows) {
                    deviceType = 'google';
                    osType = 'Windows';
                } else if (isAndroid) {
                    deviceType = 'google';
                    osType = 'Android';
                }
                
                setDeviceInfo({ deviceType, osType, isMobile: mobile });
            }, []);
            
            // ê¸°ê¸° ìë™ ê°ì§€
            const detectDevice = () => {
                if (!deviceInfo) return 'google';
                return deviceInfo.deviceType;
            };

            const handleGoogle = () => {
                const parts = seminar.date.match(/(\d{4})[\.-](\d{2})[\.-](\d{2})/);
                if (!parts) return alert("ë‚ ì§œ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                const startStr = `${parts[1]}${parts[2]}${parts[3]}T090000`;
                let endHour = 9 + 2; 
                let endStr = `${parts[1]}${parts[2]}${parts[3]}T${endHour.toString().padStart(2,'0')}0000`;
                const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(seminar.title)}&dates=${startStr}/${endStr}&details=${encodeURIComponent(seminar.desc)}&location=${encodeURIComponent(seminar.location)}`;
                window.open(url, '_blank');
                onConfirm();
            };

            const handleApple = () => {
                const parts = seminar.date.match(/(\d{4})[\.-](\d{2})[\.-](\d{2})/);
                if (!parts) return alert("ë‚ ì§œ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                const startStr = `${parts[1]}${parts[2]}${parts[3]}T090000`;
                let endHour = 9 + 2;
                let endStr = `${parts[1]}${parts[2]}${parts[3]}T${endHour.toString().padStart(2,'0')}0000`;
                const icsContent = `BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nDTSTART:${startStr}\nDTEND:${endStr}\nSUMMARY:${seminar.title}\nDESCRIPTION:${seminar.desc}\nLOCATION:${seminar.location}\nEND:VEVENT\nEND:VCALENDAR`;
                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const link = document.createElement('a');
                link.href = window.URL.createObjectURL(blob);
                link.setAttribute('download', `${seminar.title}.ics`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                onConfirm();
            };

            // ìë™ ë“±ë¡ í•¨ìˆ˜
            const handleAutoRegister = () => {
                const device = detectDevice();
                if (device === 'apple') {
                    handleApple();
                } else {
                    handleGoogle();
                }
            };

            // ìë™ ë“±ë¡ì´ í™œì„±í™”ë˜ì–´ ìˆê³  ëª¨ë°”ì¼ì´ë©´ ìë™ ì‹¤í–‰
            useEffect(() => {
                if (autoRegister && isMobile && deviceInfo) {
                    setTimeout(() => {
                        handleAutoRegister();
                    }, 500);
                }
            }, [autoRegister, isMobile, deviceInfo]);


            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) onConfirm(); }}>
                    <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md z-10 p-8 text-center relative border-[0.5px] border-brand" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onConfirm(); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                            <Icons.X size={18}/>
                        </button>
                        <div className="w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30">
                            <Icons.CheckCircle size={36} className="text-white" />
                        </div>
                        <h3 className="text-2xl font-bold text-dark mb-2">ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                        {isMobile && autoRegister ? (
                            <>
                                <p className="text-sm text-gray-600 mb-6 leading-relaxed">ìº˜ë¦°ë”ì— ì¼ì •ì´ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onConfirm(); }} className="w-full py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all shadow-md text-base">
                                    í™•ì¸
                                </button>
                            </>
                        ) : (
                            <>
                                <p className="text-sm text-gray-600 mb-2 leading-relaxed">ìŠì§€ ì•Šë„ë¡ ìº˜ë¦°ë”ì—<br/>ì¼ì •ì„ ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                                {deviceInfo && <p className="text-xs text-gray-500 mb-6">({deviceInfo.osType || 'PC'} í™˜ê²½ ê°ì§€ë¨)</p>}
                                <div className="space-y-3">
                                     <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleAutoRegister(); }} className="w-full flex items-center justify-center gap-3 py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all shadow-md text-base">
                                        {detectDevice() === 'apple' ? (
                                            <>
                                                <Icons.Apple className="w-5 h-5" /> {deviceInfo?.osType === 'macOS' ? 'Apple ìº˜ë¦°ë”ì— ë“±ë¡' : 'ìº˜ë¦°ë”ì— ìë™ ë“±ë¡'}
                                            </>
                                        ) : (
                                            <>
                                                <Icons.Google className="w-5 h-5" /> {deviceInfo?.osType === 'Windows' ? 'Google ìº˜ë¦°ë”ì— ë“±ë¡' : 'ìº˜ë¦°ë”ì— ìë™ ë“±ë¡'}
                                            </>
                                        )}
                                     </button>
                                     <div className="flex gap-2">
                                         <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleGoogle(); }} className="flex-1 flex items-center justify-center gap-2 py-3 bg-white border-2 border-gray-200 text-gray-700 font-bold rounded-xl hover:border-brand hover:text-brand hover:bg-brand/5 transition-all shadow-sm text-sm">
                                            <Icons.Google className="w-4 h-4" /> êµ¬ê¸€
                                         </button>
                                         <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleApple(); }} className="flex-1 flex items-center justify-center gap-2 py-3 bg-white border-2 border-gray-200 text-gray-700 font-bold rounded-xl hover:border-brand hover:text-brand hover:bg-brand/5 transition-all shadow-sm text-sm">
                                            <Icons.Apple className="w-4 h-4" /> Apple
                                         </button>
                                     </div>
                                     <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onConfirm(); }} className="w-full mt-2 py-3 text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors">ë‚˜ì¤‘ì— ë“±ë¡í•˜ê¸°</button>
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        };

        const SignUpModal = ({ onClose, onSignUp, existingUsers = [] }) => {
            const [formData, setFormData] = useState({ 
                id: '', 
                email: '',
                password: '', 
                name: '', 
                userType: '', // ë¹ˆ ê°’ìœ¼ë¡œ ì‹œì‘ (Step 2ì—ì„œ ì„ íƒ)
                businessType: '',
                businessCategory: '',
                company: '', 
                role: '', 
                address: '',
                phone: '',
                residentNumber: '',
                businessRegistrationNumber: '', // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸
                businessVerified: false, // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ê²€ì¦ ì™„ë£Œ ì—¬ë¶€
                img: '',
                isIdentityVerified: false,
                verifiedName: '', // PortOne ë³¸ì¸ì¸ì¦ëœ ì´ë¦„
                verifiedPhone: '', // PortOne ë³¸ì¸ì¸ì¦ëœ ì „í™”ë²ˆí˜¸
                verifiedBirthday: '', // PortOne ë³¸ì¸ì¸ì¦ëœ ìƒë…„ì›”ì¼
                verifiedGender: '', // PortOne ë³¸ì¸ì¸ì¦ëœ ì„±ë³„
                impUid: '', // PortOne ë³¸ì¸ì¸ì¦ ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                approvalStatus: 'pending' // ê´€ë¦¬ì ìŠ¹ì¸ ìƒíƒœ: pending, approved, rejected
            });
            const [showPassword, setShowPassword] = useState(false);
            const [showResidentNumber, setShowResidentNumber] = useState(false);
            const [currentStep, setCurrentStep] = useState(1); // 1: ê¸°ë³¸ì •ë³´, 2: íšŒì›ë¶„ë¥˜, 3: ìƒì„¸ì •ë³´, 4: ë³¸ì¸ì¸ì¦
            
            useEffect(() => {
                console.log('SignUpModal ë Œë”ë§ë¨');
                return () => {
                    console.log('SignUpModal ì–¸ë§ˆìš´íŠ¸ë¨');
                };
            }, []);
            
            const handleFileChange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setFormData({ ...formData, img: reader.result });
                    };
                    reader.readAsDataURL(file);
                }
            };

            // ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ í•´ì‹œí™” (ê°„ë‹¨í•œ ì˜ˆì‹œ, ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨)
            const hashResidentNumber = (rrn) => {
                if (!rrn) return '';
                const cleaned = rrn.replace(/[^0-9]/g, '');
                const last4 = cleaned.slice(-4);
                return btoa(last4); // Base64 ì¸ì½”ë”© (ì‹¤ì œë¡œëŠ” SHA-256 ì‚¬ìš© ê¶Œì¥)
            };

            // ì¤‘ë³µ ê°€ì… ì²´í¬
            const checkDuplicateRRN = (rrn) => {
                if (!rrn) return false;
                const hashedRRN = hashResidentNumber(rrn);
                return existingUsers.some(user => user.hashedRRN === hashedRRN);
            };

            // ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ í˜•ì‹ ê²€ì¦
            const validateResidentNumber = (rrn) => {
                const cleaned = rrn.replace(/[^0-9]/g, '');
                if (cleaned.length !== 13) return false;
                const month = parseInt(cleaned.slice(2, 4));
                const day = parseInt(cleaned.slice(4, 6));
                if (month < 1 || month > 12) return false;
                if (day < 1 || day > 31) return false;
                return true;
            };

            const handleNextStep = () => {
                if (currentStep === 1) {
                    // Step 1: ê¸°ë³¸ ì •ë³´ ê²€ì¦
                    if (!formData.id || !formData.email || !formData.password || !formData.name) {
                        return alert("ê¸°ë³¸ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    }
                    setCurrentStep(2);
                } else if (currentStep === 2) {
                    // Step 2: íšŒì› ë¶„ë¥˜ ê²€ì¦
                    if (!formData.userType) {
                        return alert("íšŒì› ë¶„ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    }
                    setCurrentStep(3);
                } else if (currentStep === 3) {
                    // Step 3: ìƒì„¸ ì •ë³´ ê²€ì¦
                    if (formData.userType === 'ì‚¬ì—…ì') {
                        if (!formData.businessType || !formData.businessCategory || !formData.company || !formData.address) {
                            return alert("ì‚¬ì—…ì ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        }
                        if (!formData.businessRegistrationNumber) {
                            return alert("ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        }
                        if (!formData.businessVerified) {
                            return alert("ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ê²€ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.");
                        }
                    } else if (formData.userType === 'ì˜ˆë¹„ì°½ì—…ì') {
                        if (!formData.address) {
                            return alert("ì§‘ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        }
                    }
                    if (!formData.phone) {
                        return alert("ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    }
                    setCurrentStep(4);
                }
            };

            const handlePrevStep = () => {
                if (currentStep > 1) {
                    setCurrentStep(currentStep - 1);
                }
            };

            const handleIdentityVerification = async () => {
                // PortOne (êµ¬ ì•„ì„í¬íŠ¸) ë³¸ì¸ì¸ì¦ API ì—°ë™
                // ì‹¤ì œ ì‚¬ìš© ì‹œ: https://admin.portone.io ì—ì„œ ê°€ë§¹ì  ì‹ë³„ì½”ë“œ ë°œê¸‰ í•„ìš”
                
                try {
                    // PortOne ê°€ë§¹ì  ì‹ë³„ì½”ë“œ (ì‹¤ì œ ì‚¬ìš© ì‹œ ë°œê¸‰ë°›ì€ ì½”ë“œë¡œ êµì²´)
                    const IMP = window.IMP;
                    if (!IMP) {
                        alert('PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    // PortOne ì´ˆê¸°í™”
                    IMP.init(PORTONE_IMP_CODE);
                    
                    // ë³¸ì¸ì¸ì¦ ìš”ì²­
                    IMP.certification({
                        pg: 'inicis', // PGì‚¬ ì½”ë“œ (inicis, nice, kcp ë“±)
                        merchant_uid: `cert_${Date.now()}`, // ë³¸ì¸ì¸ì¦ ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                        m_redirect_url: window.location.href, // ì¸ì¦ ì™„ë£Œ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ URL
                        popup: true, // íŒì—… ëª¨ë“œ
                        name: formData.name || 'ë³¸ì¸ì¸ì¦', // ì¸ì¦ ìš”ì²­ì ì´ë¦„
                        phone: formData.phone || '', // ì¸ì¦ ìš”ì²­ì ì „í™”ë²ˆí˜¸
                    }, (rsp) => {
                        // ì¸ì¦ ì™„ë£Œ ì½œë°±
                        if (rsp.success) {
                            // ì¸ì¦ ì„±ê³µ
                            console.log('ë³¸ì¸ì¸ì¦ ì„±ê³µ:', rsp);
                            
                            // ì¸ì¦ ì •ë³´ ì €ì¥ (ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ ì „ì†¡í•˜ì—¬ ê²€ì¦ í•„ìš”)
                            // rsp.imp_uid: PortOne ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                            // rsp.merchant_uid: ê°€ë§¹ì  ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                            // rsp.name: ì¸ì¦ëœ ì´ë¦„
                            // rsp.phone: ì¸ì¦ëœ ì „í™”ë²ˆí˜¸
                            // rsp.birthday: ìƒë…„ì›”ì¼ (YYYYMMDD)
                            // rsp.gender: ì„±ë³„ (M/F)
                            
                            // ì¸ì¦ ì™„ë£Œ ìƒíƒœ ì—…ë°ì´íŠ¸
                            setFormData({
                                ...formData,
                                isIdentityVerified: true,
                                verifiedName: rsp.name,
                                verifiedPhone: rsp.phone,
                                verifiedBirthday: rsp.birthday,
                                verifiedGender: rsp.gender,
                                impUid: rsp.imp_uid // PortOne ê±°ë˜ ê³ ìœ ë²ˆí˜¸ ì €ì¥
                            });
                            
                            alert(`ë³¸ì¸ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì¸ì¦ëœ ì´ë¦„: ${rsp.name}\nì¸ì¦ëœ ì „í™”ë²ˆí˜¸: ${rsp.phone}`);
                        } else {
                            // ì¸ì¦ ì‹¤íŒ¨
                            console.error('ë³¸ì¸ì¸ì¦ ì‹¤íŒ¨:', rsp);
                            alert(`ë³¸ì¸ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\nì—ëŸ¬ ë©”ì‹œì§€: ${rsp.error_msg || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`);
                        }
                    });
                    
                } catch (error) {
                    console.error('ë³¸ì¸ì¸ì¦ ì˜¤ë¥˜:', error);
                    alert('ë³¸ì¸ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                }
            };

            const handleSubmit = (e) => { 
                e.preventDefault(); 
                
                if (!formData.isIdentityVerified) {
                    return alert("ë³¸ì¸ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.");
                }
                
                if (!formData.residentNumber) {
                    return alert("ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                }
                
                if (!validateResidentNumber(formData.residentNumber)) {
                    return alert("ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
                
                if (checkDuplicateRRN(formData.residentNumber)) {
                    return alert("ì´ë¯¸ ê°€ì…ëœ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ì…ë‹ˆë‹¤. ì¤‘ë³µ ê°€ì…ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.");
                }
                
                // ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ í•´ì‹œí™”í•˜ì—¬ ì €ì¥
                const hashedRRN = hashResidentNumber(formData.residentNumber);
                const submitData = {
                    ...formData,
                    hashedRRN: hashedRRN,
                    residentNumber: '', // ì›ë³¸ì€ ì €ì¥í•˜ì§€ ì•ŠìŒ
                    approvalStatus: 'pending', // ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ
                    createdAt: new Date().toISOString()
                };
                
                onSignUp(submitData); 
                alert("íšŒì›ê°€ì… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nê´€ë¦¬ì ìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìŠ¹ì¸ ìƒíƒœëŠ” ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                onClose(); 
            };
            
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}>
                    <div className="absolute inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-lg"></div>
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-4xl z-10 relative border-[0.5px] border-brand max-h-[95vh] overflow-hidden flex flex-col" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                        {/* í—¤ë” */}
                        <div className="bg-gradient-to-r from-brand to-blue-600 text-white p-6 relative">
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/20 text-white transition-all">
                                <Icons.X size={20}/>
                            </button>
                            <div className="text-center">
                                <h3 className="text-3xl font-bold mb-2">íšŒì›ê°€ì…</h3>
                                <p className="text-blue-100 text-sm">ë¶€ì²­ì‚¬ ì»¤ë®¤ë‹ˆí‹°ì— ê°€ì…í•˜ì„¸ìš”</p>
                            </div>
                            {/* ì§„í–‰ ë‹¨ê³„ í‘œì‹œ */}
                            <div className="flex items-center justify-center gap-1 mt-6">
                                {[1, 2, 3, 4].map(step => (
                                    <div key={step} className="flex items-center">
                                        <div className={`w-9 h-9 rounded-full flex items-center justify-center font-bold text-sm transition-all ${currentStep >= step ? 'bg-white text-brand' : 'bg-white/20 text-white/60'}`}>
                                            {currentStep > step ? <Icons.CheckCircle size={18} /> : step}
                                        </div>
                                        {step < 4 && <div className={`w-8 h-1 mx-1 transition-all ${currentStep > step ? 'bg-white' : 'bg-white/20'}`} />}
                                    </div>
                                ))}
                            </div>
                            <div className="flex justify-center gap-4 mt-3 text-xs">
                                <span className={currentStep === 1 ? 'font-bold' : 'opacity-70'}>ê¸°ë³¸ì •ë³´</span>
                                <span className={currentStep === 2 ? 'font-bold' : 'opacity-70'}>íšŒì›ë¶„ë¥˜</span>
                                <span className={currentStep === 3 ? 'font-bold' : 'opacity-70'}>ìƒì„¸ì •ë³´</span>
                                <span className={currentStep === 4 ? 'font-bold' : 'opacity-70'}>ë³¸ì¸ì¸ì¦</span>
                            </div>
                        </div>

                        {/* ë³¸ë¬¸ */}
                        <div className="flex-1 overflow-y-auto modal-scroll p-8">
                            <form onSubmit={handleSubmit} className="space-y-6">
                                {/* Step 1: ê¸°ë³¸ ì •ë³´ */}
                                {currentStep === 1 && (
                                    <div className="space-y-5 animate-fade-in">
                                        <div className="mb-6">
                                            <h4 className="text-xl font-bold text-dark mb-1">ê¸°ë³¸ ì •ë³´</h4>
                                            <p className="text-sm text-gray-500">ë¡œê·¸ì¸ì— í•„ìš”í•œ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                                        </div>
                                        
                                        {/* í”„ë¡œí•„ ì‚¬ì§„ */}
                                        <div className="flex flex-col items-center mb-6 p-6 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200">
                                            <div className="w-24 h-24 rounded-full bg-gradient-to-br from-brand/20 to-brand/10 overflow-hidden mb-3 relative group border-4 border-brand/20">
                                                {formData.img ? <img src={formData.img} className="w-full h-full object-cover" /> : <Icons.Users className="w-12 h-12 text-brand/40 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" />}
                                                <div className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer">
                                                    <Icons.Camera className="text-white w-5 h-5" />
                                                </div>
                                                <input type="file" accept="image/*" className="absolute inset-0 opacity-0 cursor-pointer" onChange={handleFileChange} />
                                            </div>
                                            <span className="text-xs text-gray-500 font-medium">í”„ë¡œí•„ ì‚¬ì§„ (ì„ íƒì‚¬í•­)</span>
                                        </div>

                                        {/* ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ í•œëˆˆì— ë³´ì´ë„ë¡ */}
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ì•„ì´ë”” <span className="text-red-500">*</span></label>
                                                <input type="text" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.id} onChange={e => setFormData({...formData, id: e.target.value})} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ì´ë©”ì¼ <span className="text-red-500">*</span> <span className="text-xs text-gray-500 font-normal">(ë¡œê·¸ì¸ì— ì‚¬ìš©)</span></label>
                                                <input type="email" placeholder="example@email.com" className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.email} onChange={e => setFormData({...formData, email: e.target.value})} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸ <span className="text-red-500">*</span></label>
                                                <div className="relative">
                                                    <input type={showPassword ? "text" : "password"} placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors pr-12 text-sm" value={formData.password} onChange={e => setFormData({...formData, password: e.target.value})} />
                                                    <button type="button" onClick={() => setShowPassword(!showPassword)} className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors">
                                                        {showPassword ? <Icons.EyeOff size={18} /> : <Icons.Eye size={18} />}
                                                    </button>
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ì´ë¦„ <span className="text-red-500">*</span></label>
                                                <input type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} />
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* Step 2: íšŒì› ë¶„ë¥˜ ì„ íƒ */}
                                {currentStep === 2 && (
                                    <div className="space-y-5 animate-fade-in">
                                        <div className="mb-6 text-center">
                                            <h4 className="text-2xl font-bold text-dark mb-2">íšŒì› ë¶„ë¥˜ ì„ íƒ</h4>
                                            <p className="text-sm text-gray-500">ë³¸ì¸ì˜ ë¶„ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                                        </div>

                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto">
                                            <button
                                                type="button"
                                                onClick={() => setFormData({...formData, userType: 'ì‚¬ì—…ì', businessType: 'ê°œì¸ì‚¬ì—…ì'})}
                                                className={`p-6 rounded-2xl border-2 transition-all text-left ${
                                                    formData.userType === 'ì‚¬ì—…ì' 
                                                        ? 'border-brand bg-brand/5 shadow-lg' 
                                                        : 'border-gray-200 hover:border-brand/50'
                                                }`}
                                            >
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${formData.userType === 'ì‚¬ì—…ì' ? 'bg-brand text-white' : 'bg-gray-100 text-gray-400'}`}>
                                                        <Icons.Users size={24} />
                                                    </div>
                                                    <h5 className="text-lg font-bold text-dark">ì‚¬ì—…ì</h5>
                                                </div>
                                                <p className="text-sm text-gray-600">í˜„ì¬ ì‚¬ì—…ì„ ìš´ì˜ ì¤‘ì´ì‹  ë¶„</p>
                                            </button>

                                            <button
                                                type="button"
                                                onClick={() => setFormData({...formData, userType: 'ì˜ˆë¹„ì°½ì—…ì', businessType: ''})}
                                                className={`p-6 rounded-2xl border-2 transition-all text-left ${
                                                    formData.userType === 'ì˜ˆë¹„ì°½ì—…ì' 
                                                        ? 'border-brand bg-brand/5 shadow-lg' 
                                                        : 'border-gray-200 hover:border-brand/50'
                                                }`}
                                            >
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${formData.userType === 'ì˜ˆë¹„ì°½ì—…ì' ? 'bg-brand text-white' : 'bg-gray-100 text-gray-400'}`}>
                                                        <Icons.Star size={24} />
                                                    </div>
                                                    <h5 className="text-lg font-bold text-dark">ì˜ˆë¹„ì°½ì—…ì</h5>
                                                </div>
                                                <p className="text-sm text-gray-600">ì°½ì—…ì„ ì¤€ë¹„ ì¤‘ì´ì‹  ë¶„</p>
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Step 3: ìƒì„¸ ì •ë³´ */}
                                {currentStep === 3 && (
                                    <div className="space-y-5 animate-fade-in">
                                        <div className="mb-6">
                                            <h4 className="text-xl font-bold text-dark mb-1">ìƒì„¸ ì •ë³´</h4>
                                            <p className="text-sm text-gray-500">
                                                {formData.userType === 'ì‚¬ì—…ì' ? 'ì‚¬ì—…ì ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”' : 'ì˜ˆë¹„ì°½ì—…ì ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'}
                                            </p>
                                        </div>

                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-5">

                                            {formData.userType === 'ì‚¬ì—…ì' && (
                                                <>
                                                    <div>
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì‚¬ì—…ì ìœ í˜• <span className="text-red-500">*</span></label>
                                                        <select className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors bg-white text-sm" value={formData.businessType} onChange={e => setFormData({...formData, businessType: e.target.value})}>
                                                            <option value="ê°œì¸ì‚¬ì—…ì">ê°œì¸ì‚¬ì—…ì</option>
                                                            <option value="ë²•ì¸ì‚¬ì—…ì">ë²•ì¸ì‚¬ì—…ì</option>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì‚¬ì—…í˜•íƒœ <span className="text-red-500">*</span></label>
                                                        <select className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors bg-white text-sm" value={formData.businessCategory} onChange={e => setFormData({...formData, businessCategory: e.target.value})}>
                                                            <optgroup label="ì œì¡°ì—…">
                                                                <option>ì‹í’ˆì œì¡°ì—…</option>
                                                                <option>ì˜ë¥˜ì œì¡°ì—…</option>
                                                                <option>í™”í•™ì œì¡°ì—…</option>
                                                                <option>ì „ìì œí’ˆì œì¡°ì—…</option>
                                                                <option>ê¸°ê³„ì œì¡°ì—…</option>
                                                                <option>ê¸°íƒ€ ì œì¡°ì—…</option>
                                                            </optgroup>
                                                            <optgroup label="ë„ë§¤ ë° ì†Œë§¤ì—…">
                                                                <option>ë„ë§¤ì—…</option>
                                                                <option>ì†Œë§¤ì—…</option>
                                                                <option>ì˜¨ë¼ì¸ ì‡¼í•‘ëª°</option>
                                                                <option>í¸ì˜ì /ë§ˆíŠ¸</option>
                                                            </optgroup>
                                                            <optgroup label="ì„œë¹„ìŠ¤ì—…">
                                                                <option>IT/ì†Œí”„íŠ¸ì›¨ì–´</option>
                                                                <option>ì›¹/ì•± ê°œë°œ</option>
                                                                <option>ë””ìì¸/ê´‘ê³ </option>
                                                                <option>ì»¨ì„¤íŒ…</option>
                                                                <option>êµìœ¡/í•™ì›</option>
                                                                <option>ì˜ë£Œ/ë³‘ì›</option>
                                                                <option>ë¯¸ìš©/ë„¤ì¼</option>
                                                                <option>ìš”ì‹ì—… (í•œì‹)</option>
                                                                <option>ìš”ì‹ì—… (ì–‘ì‹)</option>
                                                                <option>ìš”ì‹ì—… (ì¤‘ì‹)</option>
                                                                <option>ìš”ì‹ì—… (ì¼ì‹)</option>
                                                                <option>ìš”ì‹ì—… (ì¹´í˜)</option>
                                                                <option>ìˆ™ë°•ì—…</option>
                                                                <option>ìš´ì†¡ì—…</option>
                                                                <option>ë¶€ë™ì‚°</option>
                                                                <option>ë²•ë¥ /íšŒê³„</option>
                                                                <option>ê¸°íƒ€ ì„œë¹„ìŠ¤ì—…</option>
                                                            </optgroup>
                                                            <optgroup label="ê±´ì„¤ì—…">
                                                                <option>ê±´ì„¤ì—…</option>
                                                                <option>ì¸í…Œë¦¬ì–´</option>
                                                                <option>í† ëª©ê³µì‚¬</option>
                                                            </optgroup>
                                                            <optgroup label="ë†ì—…/ì„ì—…/ì–´ì—…">
                                                                <option>ë†ì—…</option>
                                                                <option>ì¶•ì‚°ì—…</option>
                                                                <option>ì„ì—…</option>
                                                                <option>ì–´ì—…</option>
                                                            </optgroup>
                                                            <optgroup label="ê¸°íƒ€">
                                                                <option>ê¸°íƒ€ ì‚¬ì—…</option>
                                                            </optgroup>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì—…ì²´ëª… <span className="text-red-500">*</span></label>
                                                        <input type="text" placeholder="íšŒì‚¬/ì‚¬ì—…ì²´ ì´ë¦„" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.company} onChange={e => setFormData({...formData, company: e.target.value})} />
                                                    </div>
                                                    <div>
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì§ì±…</label>
                                                        <input type="text" placeholder="ëŒ€í‘œ, ì´ì‚¬, íŒ€ì¥ ë“±" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.role} onChange={e => setFormData({...formData, role: e.target.value})} />
                                                    </div>
                                                    <div className="md:col-span-2">
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì—…ì²´ì£¼ì†Œ <span className="text-red-500">*</span></label>
                                                        <input type="text" placeholder="ì‚¬ì—…ì¥ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.address} onChange={e => setFormData({...formData, address: e.target.value})} />
                                                    </div>
                                                    <div className="md:col-span-2">
                                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ <span className="text-red-500">*</span> <span className="text-xs text-gray-500 font-normal">(ìš´ì˜ ì¤‘ì¸ íšŒì‚¬ë§Œ ë“±ë¡ ê°€ëŠ¥)</span></label>
                                                        <div className="flex gap-2">
                                                            <input 
                                                                type="text" 
                                                                placeholder="123-45-67890" 
                                                                className="flex-1 p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" 
                                                                value={formData.businessRegistrationNumber} 
                                                                onChange={e => {
                                                                    let value = e.target.value.replace(/[^0-9]/g, '');
                                                                    if (value.length > 3) value = value.slice(0, 3) + '-' + value.slice(3);
                                                                    if (value.length > 6) value = value.slice(0, 6) + '-' + value.slice(6, 10);
                                                                    setFormData({...formData, businessRegistrationNumber: value, businessVerified: false});
                                                                }}
                                                                maxLength="12"
                                                                disabled={formData.businessVerified}
                                                            />
                                                            <button
                                                                type="button"
                                                                onClick={async () => {
                                                                    if (!formData.businessRegistrationNumber) {
                                                                        return alert("ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                                                                    }
                                                                    const cleaned = formData.businessRegistrationNumber.replace(/[^0-9]/g, '');
                                                                    if (cleaned.length !== 10) {
                                                                        return alert("ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ëŠ” 10ìë¦¬ ìˆ«ìì…ë‹ˆë‹¤.");
                                                                    }
                                                                    
                                                                    // êµ­ì„¸ì²­ í™ˆíƒìŠ¤ API ì—°ë™
                                                                    try {
                                                                        // ì‹¤ì œ êµ¬í˜„ ì‹œ: êµ­ì„¸ì²­ í™ˆíƒìŠ¤ API í˜¸ì¶œ
                                                                        // const response = await fetch('https://api.hometax.go.kr/v1/business/verify', {
                                                                        //     method: 'POST',
                                                                        //     headers: {
                                                                        //         'Content-Type': 'application/json',
                                                                        //         'Authorization': `Bearer ${HOMETAX_API_KEY}`
                                                                        //     },
                                                                        //     body: JSON.stringify({
                                                                        //         businessNumber: cleaned,
                                                                        //         companyName: formData.company
                                                                        //     })
                                                                        // });
                                                                        // const result = await response.json();
                                                                        
                                                                        // ì„ì‹œ: ì‹¤ì œ API ì—°ë™ ì „ê¹Œì§€ í™•ì¸ ë²„íŠ¼ìœ¼ë¡œ ëŒ€ì²´
                                                                        if (confirm(`ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ${formData.businessRegistrationNumber}ë¥¼ ê²€ì¦í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n(ì‹¤ì œ êµ¬í˜„ ì‹œ êµ­ì„¸ì²­ í™ˆíƒìŠ¤ APIê°€ í˜¸ì¶œë˜ì–´ ìš´ì˜ ì¤‘ì¸ íšŒì‚¬ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤)`)) {
                                                                            // ì‹¤ì œë¡œëŠ” API ì‘ë‹µì— ë”°ë¼ ê²€ì¦
                                                                            // if (result.status === 'OPERATING' && result.verified) {
                                                                            setFormData({...formData, businessVerified: true});
                                                                            alert("ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ê°€ ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤. ìš´ì˜ ì¤‘ì¸ íšŒì‚¬ì…ë‹ˆë‹¤.");
                                                                            // } else {
                                                                            //     alert("ìš´ì˜ ì¤‘ì¸ íšŒì‚¬ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤. í˜„ì¬ ìƒíƒœ: " + result.status);
                                                                            // }
                                                                        }
                                                                    } catch (error) {
                                                                        console.error('ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ê²€ì¦ ì˜¤ë¥˜:', error);
                                                                        alert('ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ê²€ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                                                                    }
                                                                }}
                                                                disabled={formData.businessVerified || !formData.businessRegistrationNumber}
                                                                className={`px-6 py-3.5 rounded-xl font-bold text-sm transition-colors ${
                                                                    formData.businessVerified 
                                                                        ? 'bg-green-100 text-green-700 cursor-not-allowed' 
                                                                        : 'bg-brand text-white hover:bg-blue-700'
                                                                }`}
                                                            >
                                                                {formData.businessVerified ? (
                                                                    <span className="flex items-center gap-2">
                                                                        <Icons.CheckCircle size={16} />
                                                                        ê²€ì¦ì™„ë£Œ
                                                                    </span>
                                                                ) : (
                                                                    'ê²€ì¦í•˜ê¸°'
                                                                )}
                                                            </button>
                                                        </div>
                                                        {formData.businessVerified && (
                                                            <p className="text-xs text-green-600 mt-2 flex items-center gap-1">
                                                                <Icons.CheckCircle size={12} />
                                                                ìš´ì˜ ì¤‘ì¸ ì‚¬ì—…ìë¡œ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.
                                                            </p>
                                                        )}
                                                        <p className="text-[10px] text-gray-500 mt-2">
                                                            âš ï¸ êµ­ì„¸ì²­ í™ˆíƒìŠ¤ APIë¥¼ í†µí•´ ìš´ì˜ ì¤‘ì¸ íšŒì‚¬ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                                                        </p>
                                                    </div>
                                                </>
                                            )}

                                            {formData.userType === 'ì˜ˆë¹„ì°½ì—…ì' && (
                                                <div className="md:col-span-2">
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">ì§‘ì£¼ì†Œ <span className="text-red-500">*</span></label>
                                                    <input type="text" placeholder="ê±°ì£¼ì§€ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.address} onChange={e => setFormData({...formData, address: e.target.value})} />
                                                </div>
                                            )}

                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ì „í™”ë²ˆí˜¸ <span className="text-red-500">*</span></label>
                                                <input type="tel" placeholder="010-1234-5678" className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={formData.phone} onChange={e => setFormData({...formData, phone: e.target.value})} />
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* Step 4: ë³¸ì¸ì¸ì¦ ë° ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ */}
                                {currentStep === 4 && (
                                    <div className="space-y-5 animate-fade-in">
                                        <div className="mb-6">
                                            <h4 className="text-xl font-bold text-dark mb-1">ë³¸ì¸ì¸ì¦</h4>
                                            <p className="text-sm text-gray-500">ë²•ì  í™•ì¸ì ˆì°¨ë¥¼ ìœ„í•œ ë³¸ì¸ì¸ì¦ì„ ì§„í–‰í•´ì£¼ì„¸ìš”</p>
                                        </div>

                                        {/* ë³¸ì¸ì¸ì¦ ì„¹ì…˜ */}
                                        <div className="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border-2 border-blue-200">
                                            <div className="flex items-start gap-4 mb-4">
                                                <div className="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center shrink-0">
                                                    <Icons.CheckCircle className="w-6 h-6 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h5 className="font-bold text-dark mb-2">ë³¸ì¸ì¸ì¦ í•„ìˆ˜</h5>
                                                    <p className="text-sm text-gray-600 mb-4">ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì…ë ¥ ì „ ë³¸ì¸ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”. ë³¸ì¸ì¸ì¦ì€ ë²•ì  í™•ì¸ì ˆì°¨ë¥¼ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤.</p>
                                                    {!formData.isIdentityVerified ? (
                                                        <button type="button" onClick={handleIdentityVerification} className="px-6 py-3 bg-blue-500 text-white font-bold rounded-xl hover:bg-blue-600 transition-colors shadow-lg">
                                                            ë³¸ì¸ì¸ì¦ ì‹œì‘í•˜ê¸°
                                                        </button>
                                                    ) : (
                                                        <div className="flex items-center gap-2 text-green-600 font-bold">
                                                            <Icons.CheckCircle size={20} />
                                                            <span>ë³¸ì¸ì¸ì¦ ì™„ë£Œ</span>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        </div>

                                        {/* ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì…ë ¥ */}
                                        <div className="bg-red-50 p-6 rounded-2xl border-2 border-red-200">
                                            <div className="flex items-start gap-3 mb-4">
                                                <Icons.Info className="w-5 h-5 text-red-600 shrink-0 mt-0.5" />
                                                <div className="flex-1">
                                                    <h5 className="font-bold text-red-700 mb-2">ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì…ë ¥</h5>
                                                    <p className="text-xs text-red-600 mb-4 leading-relaxed">
                                                        ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ëŠ” <span className="font-bold">ê°œì¸ì •ë³´ë³´í˜¸ë²•</span>ì— ë”°ë¼ ìˆ˜ì§‘Â·ì´ìš©ë©ë‹ˆë‹¤.<br/>
                                                        ë³¸ì¸ì¸ì¦ ì™„ë£Œ í›„ì—ë§Œ ì…ë ¥ ê°€ëŠ¥í•˜ë©°, í•´ì‹œí™”ë˜ì–´ ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤.
                                                    </p>
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-bold text-gray-700 mb-2">ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ <span className="text-red-500">*</span></label>
                                                <div className="relative">
                                                    <input 
                                                        type={showResidentNumber ? "text" : "password"} 
                                                        placeholder="123456-1234567" 
                                                        className="w-full p-3.5 border-2 border-gray-200 rounded-xl focus:border-red-400 focus:outline-none transition-colors pr-12 text-sm" 
                                                        value={formData.residentNumber} 
                                                        onChange={e => {
                                                            let value = e.target.value.replace(/[^0-9]/g, '');
                                                            if (value.length > 6) value = value.slice(0, 6) + '-' + value.slice(6, 13);
                                                            setFormData({...formData, residentNumber: value});
                                                        }} 
                                                        maxLength="14"
                                                        disabled={!formData.isIdentityVerified}
                                                    />
                                                    <button type="button" onClick={() => setShowResidentNumber(!showResidentNumber)} className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors" disabled={!formData.isIdentityVerified}>
                                                        {showResidentNumber ? <Icons.EyeOff size={18} /> : <Icons.Eye size={18} />}
                                                    </button>
                                                </div>
                                                {!formData.isIdentityVerified && (
                                                    <p className="text-xs text-red-600 mt-2">ë³¸ì¸ì¸ì¦ì„ ë¨¼ì € ì™„ë£Œí•´ì£¼ì„¸ìš”.</p>
                                                )}
                                                <p className="text-[10px] text-gray-500 mt-2 leading-relaxed">
                                                    âš ï¸ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ëŠ” SHA-256 í•´ì‹œí™”ë˜ì–´ ì €ì¥ë˜ë©°, ì›ë³¸ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br/>
                                                    ì¤‘ë³µ ê°€ì… ë°©ì§€ ë° ë²•ì  í™•ì¸ì ˆì°¨ë¥¼ ìœ„í•´ì„œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </form>
                        </div>

                        {/* í•˜ë‹¨ ë²„íŠ¼ */}
                        <div className="border-t border-gray-200 p-6 bg-gray-50 flex gap-3">
                            {currentStep > 1 && (
                                <button type="button" onClick={handlePrevStep} className="flex-1 py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-colors">
                                    ì´ì „
                                </button>
                            )}
                            {currentStep < 4 ? (
                                <button type="button" onClick={handleNextStep} className="flex-1 py-3 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-brand/30 transition-all">
                                    ë‹¤ìŒ ë‹¨ê³„
                                </button>
                            ) : (
                                <button type="button" onClick={handleSubmit} disabled={!formData.isIdentityVerified || !formData.residentNumber} className="flex-1 py-3 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-brand/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                                    ê°€ì…í•˜ê¸°
                                </button>
                            )}
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="px-6 py-3 text-gray-500 hover:text-gray-700 font-medium transition-colors">
                                ì·¨ì†Œ
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const LoginModal = ({ onClose, onLogin }) => {
            const [id, setId] = useState('');
            const [password, setPassword] = useState('');
            const [showPassword, setShowPassword] = useState(false);
            
            useEffect(() => {
                console.log('LoginModal ë Œë”ë§ë¨');
                return () => {
                    console.log('LoginModal ì–¸ë§ˆìš´íŠ¸ë¨');
                };
            }, []);

            const handleSubmit = (e) => { e.preventDefault(); onLogin(id, password); };
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}>
                    <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md z-10 p-8 text-center relative border-[0.5px] border-brand" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                            <Icons.X size={18}/>
                        </button>
                        <div className="mb-8">
                            <div className="w-16 h-16 bg-gradient-to-br from-brand to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand/30">
                                <Icons.Users className="w-8 h-8 text-white" />
                            </div>
                            <h3 className="text-3xl font-bold text-dark mb-2">ë¡œê·¸ì¸</h3>
                            <p className="text-sm text-gray-500">ë¶€ì²­ì‚¬ ì»¤ë®¤ë‹ˆí‹°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</p>
                        </div>
                        <form onSubmit={handleSubmit} className="space-y-5 text-left">
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ì•„ì´ë””</label>
                                <input type="text" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-4 border-[0.5px] border-brand/30 rounded-2xl focus:border-brand focus:outline-none transition-colors" value={id} onChange={e => setId(e.target.value)} />
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
                                <div className="relative">
                                    <input type={showPassword ? "text" : "password"} placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" className="w-full p-4 border-[0.5px] border-brand/30 rounded-2xl focus:border-brand focus:outline-none transition-colors pr-12" value={password} onChange={e => setPassword(e.target.value)} />
                                    <button type="button" onClick={() => setShowPassword(!showPassword)} className="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors">
                                        {showPassword ? <Icons.EyeOff size={20} /> : <Icons.Eye size={20} />}
                                    </button>
                                </div>
                            </div>
                            <button type="submit" className="w-full py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all mt-6 text-lg">
                                ë¡œê·¸ì¸
                            </button>
                        </form>
                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="w-full mt-4 text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            );
        };

        const MyPageView = ({ onBack, user, mySeminars, myFoods, myPosts, onWithdraw, onUpdateProfile, onCancelSeminar }) => {
            const [activeTab, setActiveTab] = useState('seminars');
            const [isEditingProfile, setIsEditingProfile] = useState(false);
            const [editFormData, setEditFormData] = useState({
                name: user.name || '',
                company: user.company || '',
                role: user.role || '',
                industry: user.industry || user.businessCategory || '',
                address: user.address || '',
                phone: user.phone || '',
                img: user.img || ''
            });
            
            const handleWithdrawClick = () => {
                if(confirm("ì •ë§ë¡œ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ì •ë³´ê°€ ì‚­ì œë©ë‹ˆë‹¤.")) {
                    onWithdraw();
                }
            }

            const handleSaveProfile = async () => {
                if (!editFormData.name) {
                    return alert("ì´ë¦„ì€ í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.");
                }
                if (onUpdateProfile) {
                    await onUpdateProfile(editFormData);
                    setIsEditingProfile(false);
                } else {
                    alert("í”„ë¡œí•„ ìˆ˜ì • ê¸°ëŠ¥ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
                }
            }

            const handleFileChange = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                if (file.size > 1024 * 1024) {
                    alert("ì´ë¯¸ì§€ í¬ê¸°ëŠ” 1MB ì´í•˜ë¡œ ì œí•œë©ë‹ˆë‹¤.");
                    return;
                }
                const reader = new FileReader();
                reader.onloadend = () => {
                    setEditFormData({...editFormData, img: reader.result});
                };
                reader.readAsDataURL(file);
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-4xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <h2 className="text-3xl font-bold text-dark">ë§ˆì´í˜ì´ì§€</h2>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors">
                                <Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ
                            </button>
                        </div>
                        
                        {/* í”„ë¡œí•„ ì„¹ì…˜ */}
                        <div className="bg-white rounded-3xl p-8 shadow-card mb-8">
                            <div className="flex flex-col md:flex-row items-center gap-6">
                                <div className="relative">
                                    <div className="w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center text-4xl overflow-hidden">
                                        {editFormData.img ? <img src={editFormData.img} className="w-full h-full object-cover"/> : "ğŸ‘¤"}
                                    </div>
                                    {isEditingProfile && (
                                        <label className="absolute bottom-0 right-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center cursor-pointer hover:bg-blue-700 transition-colors">
                                            <Icons.Camera size={16} />
                                            <input type="file" accept="image/*" className="hidden" onChange={handleFileChange} />
                                        </label>
                                    )}
                                </div>
                                <div className="text-center md:text-left flex-1">
                                    {isEditingProfile ? (
                                        <div className="space-y-3">
                                            <input type="text" value={editFormData.name} onChange={e => setEditFormData({...editFormData, name: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="ì´ë¦„" />
                                            <input type="text" value={editFormData.company} onChange={e => setEditFormData({...editFormData, company: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="íšŒì‚¬ëª…" />
                                            <input type="text" value={editFormData.role} onChange={e => setEditFormData({...editFormData, role: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="ì§ì±…" />
                                            <input type="text" value={editFormData.industry} onChange={e => setEditFormData({...editFormData, industry: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="ì—…ì¢…" />
                                            <input type="text" value={editFormData.address} onChange={e => setEditFormData({...editFormData, address: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="ì£¼ì†Œ" />
                                            <input type="text" value={editFormData.phone} onChange={e => setEditFormData({...editFormData, phone: e.target.value})} className="w-full p-2 border-2 border-gray-200 rounded-lg focus:border-brand focus:outline-none" placeholder="ì „í™”ë²ˆí˜¸" />
                                            <div className="flex gap-2">
                                                <button type="button" onClick={handleSaveProfile} className="flex-1 py-2 bg-brand text-white font-bold rounded-lg hover:bg-blue-700">ì €ì¥</button>
                                                <button type="button" onClick={() => { setIsEditingProfile(false); setEditFormData({name: user.name || '', company: user.company || '', role: user.role || '', industry: user.industry || user.businessCategory || '', address: user.address || '', phone: user.phone || '', img: user.img || ''}); }} className="flex-1 py-2 bg-gray-200 text-gray-700 font-bold rounded-lg hover:bg-gray-300">ì·¨ì†Œ</button>
                                            </div>
                                        </div>
                                    ) : (
                                        <>
                                            <h3 className="text-2xl font-bold text-dark">{user.name} <span className="text-base font-normal text-gray-500">({user.id})</span></h3>
                                            <p className="text-gray-600 mt-1">{user.company} | {user.role}</p>
                                            <span className="inline-block px-3 py-1 bg-brand/10 text-brand text-xs font-bold rounded-full mt-2">{user.industry}</span>
                                            <button type="button" onClick={() => setIsEditingProfile(true)} className="mt-4 px-4 py-2 bg-brand/10 text-brand font-bold rounded-lg hover:bg-brand/20 transition-colors text-sm">
                                                ê°œì¸ì •ë³´ ìˆ˜ì •
                                            </button>
                                            {user.approvalStatus === 'pending' && (
                                                <div className="mt-4 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-xl">
                                                    <div className="flex items-center gap-2 mb-2">
                                                        <Icons.Info className="w-5 h-5 text-yellow-600" />
                                                        <span className="font-bold text-yellow-700">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘</span>
                                                    </div>
                                                    <p className="text-xs text-yellow-600">íšŒì›ê°€ì… ì‹ ì²­ì´ ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤. ìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                                                </div>
                                            )}
                                            {user.approvalStatus === 'rejected' && (
                                                <div className="mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl">
                                                    <div className="flex items-center gap-2 mb-2">
                                                        <Icons.X className="w-5 h-5 text-red-600" />
                                                        <span className="font-bold text-red-700">ìŠ¹ì¸ ê±°ì ˆ</span>
                                                    </div>
                                                    <p className="text-xs text-red-600">íšŒì›ê°€ì… ì‹ ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.</p>
                                                </div>
                                            )}
                                            
                                            {/* PortOne ë³¸ì¸ì¸ì¦ ì •ë³´ ì‹œê°í™” */}
                                            {user.isIdentityVerified && (
                                                <div className="mt-4 p-5 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl">
                                                    <div className="flex items-center gap-2 mb-3">
                                                        <div className="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center">
                                                            <Icons.CheckCircle className="w-6 h-6 text-white" />
                                                        </div>
                                                        <div>
                                                            <h4 className="font-bold text-green-700">PortOne ë³¸ì¸ì¸ì¦ ì™„ë£Œ</h4>
                                                            <p className="text-xs text-green-600">ì¸ì¦ëœ ê°œì¸ì •ë³´</p>
                                                        </div>
                                                    </div>
                                                    <div className="grid grid-cols-2 gap-3 mt-3">
                                                        <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-1">ì¸ì¦ëœ ì´ë¦„</div>
                                                            <div className="font-bold text-sm text-dark">{user.verifiedName || user.name}</div>
                                                        </div>
                                                        <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-1">ì¸ì¦ëœ ì „í™”ë²ˆí˜¸</div>
                                                            <div className="font-bold text-sm text-dark">{user.verifiedPhone || user.phone || '-'}</div>
                                                        </div>
                                                        {user.verifiedBirthday && (
                                                            <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                                <div className="text-xs text-gray-500 mb-1">ìƒë…„ì›”ì¼</div>
                                                                <div className="font-bold text-sm text-dark">
                                                                    {user.verifiedBirthday.replace(/(\d{4})(\d{2})(\d{2})/, '$1ë…„ $2ì›” $3ì¼')}
                                                                </div>
                                                            </div>
                                                        )}
                                                        {user.verifiedGender && (
                                                            <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                                <div className="text-xs text-gray-500 mb-1">ì„±ë³„</div>
                                                                <div className="font-bold text-sm text-dark">{user.verifiedGender === 'M' ? 'ë‚¨ì„±' : 'ì—¬ì„±'}</div>
                                                            </div>
                                                        )}
                                                    </div>
                                                    {user.impUid && (
                                                        <div className="mt-3 pt-3 border-t border-green-200">
                                                            <div className="flex items-center justify-between">
                                                                <span className="text-xs text-gray-500">ì¸ì¦ ê±°ë˜ë²ˆí˜¸</span>
                                                                <span className="text-xs font-mono text-gray-600 bg-white px-2 py-1 rounded">{user.impUid.substring(0, 12)}...</span>
                                                            </div>
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                        </>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* íƒ­ ë©”ë‰´ */}
                        <div className="flex gap-2 mb-6 border-b border-gray-200 pb-1 overflow-x-auto">
                            <button onClick={() => setActiveTab('seminars')} className={`px-4 py-2 font-bold transition-colors border-b-2 whitespace-nowrap ${activeTab === 'seminars' ? 'border-brand text-brand' : 'border-transparent text-gray-400 hover:text-gray-600'}`}>ì‹ ì²­í•œ ëª¨ì„</button>
                            <button onClick={() => setActiveTab('foods')} className={`px-4 py-2 font-bold transition-colors border-b-2 whitespace-nowrap ${activeTab === 'foods' ? 'border-brand text-brand' : 'border-transparent text-gray-400 hover:text-gray-600'}`}>ë§›ì§‘ ë“±ë¡ ë‚´ì—­</button>
                            <button onClick={() => setActiveTab('posts')} className={`px-4 py-2 font-bold transition-colors border-b-2 whitespace-nowrap ${activeTab === 'posts' ? 'border-brand text-brand' : 'border-transparent text-gray-400 hover:text-gray-600'}`}>ë‚´ ê²Œì‹œê¸€</button>
                            <button onClick={() => setActiveTab('verification')} className={`px-4 py-2 font-bold transition-colors border-b-2 whitespace-nowrap ${activeTab === 'verification' ? 'border-brand text-brand' : 'border-transparent text-gray-400 hover:text-gray-600'}`}>ë³¸ì¸ì¸ì¦ ì •ë³´</button>
                            {user.hasDonated && (
                                <button onClick={() => setActiveTab('company')} className={`px-4 py-2 font-bold transition-colors border-b-2 whitespace-nowrap ${activeTab === 'company' ? 'border-brand text-brand' : 'border-transparent text-gray-400 hover:text-gray-600'}`}>íšŒì‚¬ ì†Œê°œ</button>
                            )}
                        </div>

                        {/* íƒ­ ì»¨í…ì¸  */}
                        <div className="bg-white rounded-3xl shadow-sm p-6 min-h-[300px] mb-8">
                            {activeTab === 'seminars' && (
                                <ul className="space-y-4">
                                    {mySeminars.length > 0 ? mySeminars.map((s, idx) => (
                                        <li key={idx} className="flex justify-between items-center p-4 border rounded-xl hover:bg-gray-50">
                                            <div>
                                                <div className="font-bold text-dark">{s.title}</div>
                                                <div className="text-xs text-gray-500 mt-1">{s.date} | {s.location}</div>
                                            </div>
                                            <div className="flex gap-2 items-center">
                                                <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-bold">ì‹ ì²­ì™„ë£Œ</span>
                                                <button type="button" onClick={() => {
                                                    if(confirm("ì„¸ë¯¸ë‚˜ ì‹ ì²­ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                                                        if (onCancelSeminar) {
                                                            onCancelSeminar(s.id);
                                                        }
                                                    }
                                                }} className="text-xs text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50">ì·¨ì†Œ</button>
                                            </div>
                                        </li>
                                    )) : <li className="text-center text-gray-400 py-10">ì‹ ì²­í•œ ëª¨ì„ì´ ì—†ìŠµë‹ˆë‹¤.</li>}
                                </ul>
                            )}
                            {activeTab === 'foods' && (
                                <ul className="space-y-4">
                                    {myFoods.length > 0 ? myFoods.map((f, idx) => (
                                        <li key={idx} className="flex justify-between items-center p-4 border rounded-xl hover:bg-gray-50">
                                            <div>
                                                <div className="font-bold text-dark">{f.title}</div>
                                                <div className="text-xs text-gray-500 mt-1">{f.category} | {f.address}</div>
                                            </div>
                                            <span className={`text-xs px-2 py-1 rounded font-bold ${f.status === 'approved' ? 'bg-blue-100 text-blue-700' : 'bg-yellow-100 text-yellow-700'}`}>{f.status === 'approved' ? 'ë“±ë¡ì™„ë£Œ' : 'ìŠ¹ì¸ëŒ€ê¸°'}</span>
                                        </li>
                                    )) : <li className="text-center text-gray-400 py-10">ë“±ë¡ ì‹ ì²­í•œ ë§›ì§‘ì´ ì—†ìŠµë‹ˆë‹¤.</li>}
                                </ul>
                            )}
                            {activeTab === 'posts' && (
                                <ul className="space-y-4">
                                    {myPosts.length > 0 ? myPosts.map((p, idx) => (
                                        <li key={idx} className="flex justify-between items-center p-4 border rounded-xl hover:bg-gray-50">
                                            <div>
                                                <div className="flex items-center gap-2 mb-1">
                                                    <span className="text-[10px] bg-gray-100 px-2 py-0.5 rounded text-gray-600">{p.category}</span>
                                                    <div className="font-bold text-dark">{p.title}</div>
                                                </div>
                                                <div className="text-xs text-gray-400">{p.date}</div>
                                            </div>
                                            <span className={`text-xs px-2 py-1 rounded font-bold ${p.reply ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-500'}`}>{p.reply ? 'ë‹µë³€ì™„ë£Œ' : 'ë‹µë³€ëŒ€ê¸°'}</span>
                                        </li>
                                    )) : <li className="text-center text-gray-400 py-10">ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>}
                                </ul>
                            )}
                            {activeTab === 'company' && user.hasDonated && (
                                <div className="space-y-6">
                                    <div className="bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-2xl p-6">
                                        <h3 className="text-xl font-bold text-yellow-700 mb-4 flex items-center gap-2">
                                            <Icons.Star className="w-5 h-5" /> íšŒì‚¬ ì†Œê°œ ì‘ì„±
                                        </h3>
                                        <p className="text-sm text-yellow-600 mb-6">í›„ì› íšŒì› ì „ìš© ê¸°ëŠ¥ì…ë‹ˆë‹¤. íšŒì‚¬ë¥¼ ì†Œê°œí•´ì£¼ì„¸ìš”.</p>
                                        
                                        {/* ëŒ€í‘œ ì´ë¯¸ì§€ */}
                                        <div className="mb-6">
                                            <label className="block text-sm font-bold text-gray-700 mb-2">ëŒ€í‘œ ì´ë¯¸ì§€ (1ì¥)</label>
                                            <input
                                                type="text"
                                                placeholder="ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ì„¸ìš”"
                                                className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm mb-2"
                                                value={companyIntro.companyMainImage}
                                                onChange={(e) => setCompanyIntro({...companyIntro, companyMainImage: e.target.value})}
                                            />
                                            {companyIntro.companyMainImage && (
                                                <div className="relative w-full h-64 rounded-xl overflow-hidden mt-2">
                                                    <img src={companyIntro.companyMainImage} alt="ëŒ€í‘œ ì´ë¯¸ì§€" className="w-full h-full object-cover" />
                                                </div>
                                            )}
                                        </div>
                                        
                                        {/* íšŒì‚¬ ì†Œê°œ í…ìŠ¤íŠ¸ */}
                                        <div className="mb-6">
                                            <label className="block text-sm font-bold text-gray-700 mb-2">íšŒì‚¬ ì†Œê°œ</label>
                                            <textarea
                                                placeholder="íšŒì‚¬ì— ëŒ€í•œ ì†Œê°œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”"
                                                className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors h-32 resize-none text-sm"
                                                value={companyIntro.companyDescription}
                                                onChange={(e) => setCompanyIntro({...companyIntro, companyDescription: e.target.value})}
                                            />
                                        </div>
                                        
                                        {/* ì¶”ê°€ ì‚¬ì§„ 3ì¥ */}
                                        <div className="mb-6">
                                            <label className="block text-sm font-bold text-gray-700 mb-2">ì¶”ê°€ ì‚¬ì§„ (ìµœëŒ€ 3ì¥)</label>
                                            <div className="grid grid-cols-3 gap-3 mb-3">
                                                {[0, 1, 2].map((idx) => (
                                                    <div key={idx}>
                                                        <input
                                                            type="text"
                                                            placeholder={`ì‚¬ì§„ ${idx + 1} URL`}
                                                            className="w-full p-2 border-[0.5px] border-brand/30 rounded-lg focus:border-brand focus:outline-none transition-colors text-xs mb-2"
                                                            value={companyIntro.companyImages[idx] || ''}
                                                            onChange={(e) => {
                                                                const newImages = [...companyIntro.companyImages];
                                                                newImages[idx] = e.target.value;
                                                                setCompanyIntro({...companyIntro, companyImages: newImages});
                                                            }}
                                                        />
                                                        {companyIntro.companyImages[idx] && (
                                                            <div className="relative aspect-square rounded-lg overflow-hidden">
                                                                <img src={companyIntro.companyImages[idx]} alt={`ì¶”ê°€ ì‚¬ì§„ ${idx + 1}`} className="w-full h-full object-cover" />
                                                            </div>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                        
                                        <button
                                            type="button"
                                            onClick={async () => {
                                                const updatedUser = {
                                                    ...user,
                                                    companyMainImage: companyIntro.companyMainImage,
                                                    companyDescription: companyIntro.companyDescription,
                                                    companyImages: companyIntro.companyImages.filter(img => img)
                                                };
                                                await onUpdateProfile(updatedUser);
                                                alert('íšŒì‚¬ ì†Œê°œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                                            }}
                                            className="w-full py-3 bg-brand text-white font-bold rounded-xl hover:bg-blue-700 transition-colors"
                                        >
                                            ì €ì¥í•˜ê¸°
                                        </button>
                                    </div>
                                </div>
                            )}
                            {activeTab === 'verification' && (
                                <div className="space-y-6">
                                    {user.isIdentityVerified ? (
                                        <>
                                            {/* ì¸ì¦ ìƒíƒœ ì¹´ë“œ */}
                                            <div className="bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg">
                                                <div className="flex items-center gap-4 mb-4">
                                                    <div className="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                                                        <Icons.CheckCircle className="w-8 h-8 text-white" />
                                                    </div>
                                                    <div>
                                                        <h3 className="text-2xl font-bold mb-1">ë³¸ì¸ì¸ì¦ ì™„ë£Œ</h3>
                                                        <p className="text-green-100 text-sm">PortOneì„ í†µí•œ ë³¸ì¸ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</p>
                                                    </div>
                                                </div>
                                                {user.impUid && (
                                                    <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 mt-4">
                                                        <div className="text-xs text-green-100 mb-1">ì¸ì¦ ê±°ë˜ ê³ ìœ ë²ˆí˜¸</div>
                                                        <div className="font-mono text-sm break-all">{user.impUid}</div>
                                                    </div>
                                                )}
                                            </div>

                                            {/* ì¸ì¦ ì •ë³´ ìƒì„¸ */}
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div className="bg-white border-2 border-green-200 rounded-xl p-5">
                                                    <div className="flex items-center gap-2 mb-3">
                                                        <Icons.Users className="w-5 h-5 text-green-600" />
                                                        <h4 className="font-bold text-dark">ì¸ì¦ëœ ì´ë¦„</h4>
                                                    </div>
                                                    <div className="text-2xl font-bold text-green-600">{user.verifiedName || user.name}</div>
                                                    <div className="text-xs text-gray-500 mt-2">PortOne ë³¸ì¸ì¸ì¦ìœ¼ë¡œ í™•ì¸ëœ ì´ë¦„</div>
                                                </div>

                                                <div className="bg-white border-2 border-green-200 rounded-xl p-5">
                                                    <div className="flex items-center gap-2 mb-3">
                                                        <Icons.Phone className="w-5 h-5 text-green-600" />
                                                        <h4 className="font-bold text-dark">ì¸ì¦ëœ ì „í™”ë²ˆí˜¸</h4>
                                                    </div>
                                                    <div className="text-xl font-bold text-green-600">{user.verifiedPhone || user.phone || '-'}</div>
                                                    <div className="text-xs text-gray-500 mt-2">ë³¸ì¸ì¸ì¦ìœ¼ë¡œ í™•ì¸ëœ ì „í™”ë²ˆí˜¸</div>
                                                </div>

                                                {user.verifiedBirthday && (
                                                    <div className="bg-white border-2 border-green-200 rounded-xl p-5">
                                                        <div className="flex items-center gap-2 mb-3">
                                                            <Icons.Calendar className="w-5 h-5 text-green-600" />
                                                            <h4 className="font-bold text-dark">ìƒë…„ì›”ì¼</h4>
                                                        </div>
                                                        <div className="text-xl font-bold text-green-600">
                                                            {user.verifiedBirthday.replace(/(\d{4})(\d{2})(\d{2})/, '$1ë…„ $2ì›” $3ì¼')}
                                                        </div>
                                                        <div className="text-xs text-gray-500 mt-2">ë³¸ì¸ì¸ì¦ìœ¼ë¡œ í™•ì¸ëœ ìƒë…„ì›”ì¼</div>
                                                    </div>
                                                )}

                                                {user.verifiedGender && (
                                                    <div className="bg-white border-2 border-green-200 rounded-xl p-5">
                                                        <div className="flex items-center gap-2 mb-3">
                                                            <Icons.Users className="w-5 h-5 text-green-600" />
                                                            <h4 className="font-bold text-dark">ì„±ë³„</h4>
                                                        </div>
                                                        <div className="text-xl font-bold text-green-600">{user.verifiedGender === 'M' ? 'ë‚¨ì„±' : 'ì—¬ì„±'}</div>
                                                        <div className="text-xs text-gray-500 mt-2">ë³¸ì¸ì¸ì¦ìœ¼ë¡œ í™•ì¸ëœ ì„±ë³„</div>
                                                    </div>
                                                )}
                                            </div>

                                            {/* ì¸ì¦ ì¼ì‹œ */}
                                            {user.createdAt && (
                                                <div className="bg-gray-50 rounded-xl p-4 border border-gray-200">
                                                    <div className="flex items-center justify-between">
                                                        <div>
                                                            <div className="text-xs text-gray-500 mb-1">ì¸ì¦ ì™„ë£Œ ì¼ì‹œ</div>
                                                            <div className="font-bold text-dark">
                                                                {new Date(user.createdAt).toLocaleString('ko-KR', {
                                                                    year: 'numeric',
                                                                    month: 'long',
                                                                    day: 'numeric',
                                                                    hour: '2-digit',
                                                                    minute: '2-digit'
                                                                })}
                                                            </div>
                                                        </div>
                                                        <Icons.CheckCircle className="w-8 h-8 text-green-500" />
                                                    </div>
                                                </div>
                                            )}
                                        </>
                                    ) : (
                                        <div className="text-center py-20">
                                            <div className="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                                <Icons.Info className="w-12 h-12 text-yellow-600" />
                                            </div>
                                            <h3 className="text-xl font-bold text-dark mb-2">ë³¸ì¸ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>
                                            <p className="text-gray-500 mb-6">PortOne ë³¸ì¸ì¸ì¦ì„ í†µí•´ ê°œì¸ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”</p>
                                            <div className="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 max-w-md mx-auto">
                                                <p className="text-sm text-yellow-700">
                                                    ë³¸ì¸ì¸ì¦ì€ íšŒì›ê°€ì… ì‹œ ìë™ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.<br/>
                                                    ì¸ì¦ ì •ë³´ëŠ” ì•ˆì „í•˜ê²Œ ë³´ê´€ë˜ë©°, ì„œë¹„ìŠ¤ ì´ìš©ì„ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤.
                                                </p>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                        <div className="text-right">
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleWithdrawClick(); }} className="text-xs text-red-400 hover:text-red-600 underline">íšŒì› íƒˆí‡´í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            );
        };

        const FoodRegistrationModal = ({ onClose, onSubmit }) => {
            const [formData, setFormData] = useState({ title: '', category: 'í•œì‹', region: '', address: '', businessNum: '', reservation: 'false', desc: '', img: '' });
            
            useEffect(() => {
                console.log('FoodRegistrationModal ë Œë”ë§ë¨');
                return () => {
                    console.log('FoodRegistrationModal ì–¸ë§ˆìš´íŠ¸ë¨');
                };
            }, []);
            
            const handleSubmit = () => { if (!formData.title || !formData.region || !formData.address || !formData.businessNum) return alert("í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”."); onSubmit({ ...formData, reservation: formData.reservation === 'true', status: 'pending' }); onClose(); };
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) onClose(); }}>
                    <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                    <div className="bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative border-[0.5px] border-brand" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                            <Icons.X size={18}/>
                        </button>
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-orange-500/30">
                                <Icons.MapPin className="w-8 h-8 text-white" />
                            </div>
                            <h3 className="text-3xl font-bold text-dark mb-2">ë§›ì§‘ ë“±ë¡ ì‹ ì²­</h3>
                            <p className="text-sm text-gray-500">ë¶€ì‚°ì˜ ë§›ì§‘ì„ ì¶”ì²œí•´ì£¼ì„¸ìš”</p>
                        </div>
                        <div className="space-y-5">
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ìƒí˜¸ëª… <span className="text-red-500">*</span></label>
                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ìƒí˜¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.title} onChange={e=>setFormData({...formData, title:e.target.value})}/>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì¹´í…Œê³ ë¦¬</label>
                                    <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.category} onChange={e=>setFormData({...formData, category:e.target.value})}>
                                        <option>í•œì‹</option>
                                        <option>ì–‘ì‹</option>
                                        <option>ì¤‘ì‹</option>
                                        <option>ì¼ì‹</option>
                                        <option>ì¹´í˜/ë””ì €íŠ¸</option>
                                        <option>ì£¼ì </option>
                                        <option>ê¸°íƒ€</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì§€ì—­ <span className="text-red-500">*</span></label>
                                    <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì˜ˆ: í•´ìš´ëŒ€êµ¬ ìš°ë™" value={formData.region} onChange={e=>setFormData({...formData, region:e.target.value})}/>
                                </div>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ìƒì„¸ ì£¼ì†Œ <span className="text-red-500">*</span></label>
                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ìƒì„¸ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" value={formData.address} onChange={e=>setFormData({...formData, address:e.target.value})}/>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ <span className="text-red-500">*</span></label>
                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì‹ ë¢°ë„ í™•ì¸ìš©" value={formData.businessNum} onChange={e=>setFormData({...formData, businessNum:e.target.value})}/>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€</label>
                                <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.reservation} onChange={e=>setFormData({...formData, reservation:e.target.value})}>
                                    <option value="false">í˜„ì¥ ë°©ë¬¸ë§Œ ê°€ëŠ¥</option>
                                    <option value="true">ì˜ˆì•½ ê°€ëŠ¥</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ë§›ì§‘ ì„¤ëª…</label>
                                <textarea className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors h-24 resize-none" placeholder="ë§›ì§‘ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.desc} onChange={e=>setFormData({...formData, desc:e.target.value})}/>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-gray-600 mb-2">ì´ë¯¸ì§€ URL</label>
                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.img} onChange={e=>setFormData({...formData, img:e.target.value})}/>
                            </div>
                        </div>
                        <div className="flex gap-4 mt-8">
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="flex-1 py-4 bg-gray-100 text-gray-700 font-bold rounded-2xl hover:bg-gray-200 transition-all">
                                ì·¨ì†Œ
                            </button>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleSubmit(); }} className="flex-1 py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all">
                                ì‹ ì²­í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const BusanFoodView = ({ onBack, foodList, onRegister, currentUser }) => {
            const [isRegisterModalOpen, setIsRegisterModalOpen] = useState(false);
            const approvedFoodList = foodList.filter(item => item.status === 'approved');
            const openMap = (name) => { window.open(`https://map.naver.com/v5/search/${encodeURIComponent(name)}`, '_blank'); };
            const openReservation = (name, available) => { if (!available) return alert("í˜„ì¬ ì˜¨ë¼ì¸ ì˜ˆì•½ì´ ì§€ì›ë˜ì§€ ì•ŠëŠ” ë§¤ì¥ì…ë‹ˆë‹¤. ì „í™” ë¬¸ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤."); window.open(`https://app.catchtable.co.kr/ct/search/total?query=${encodeURIComponent(name)}`, '_blank'); };
            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in"><div className="container mx-auto max-w-7xl"><div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4"><div><h2 className="text-3xl font-bold text-dark mb-2">ë¶€ì‚° ì° ë§›ì§‘ & í•«í”Œ</h2><p className="text-gray-500 text-sm">í˜„ì§€ì¸ë“¤ì´ ì¶”ì²œí•˜ëŠ” ë¶€ì‚°ì˜ ìˆ¨ì€ ë§›ì§‘ì„ í™•ì¸í•˜ê³  ì˜ˆì•½í•˜ì„¸ìš”.</p></div><div className="flex gap-2"><button type="button" onClick={(e) => { 
                                    e.preventDefault(); 
                                    e.stopPropagation(); 
                                    if (!currentUser) {
                                        alert("ë§›ì§‘ ë“±ë¡ì€ íšŒì›ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                                        return;
                                    }
                                    console.log('ë§›ì§‘ ë“±ë¡ ë²„íŠ¼ í´ë¦­');
                                    setIsRegisterModalOpen(true); 
                                }} className="flex items-center gap-2 bg-brand text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-brand/20"><Icons.Plus size={20} /> ë§›ì§‘ ë“±ë¡í•˜ê¸°</button><button onClick={onBack} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors"><Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ</button></div></div><div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">{approvedFoodList.map((item, idx) => (<div key={idx} className="bg-white rounded-3xl overflow-hidden shadow-card hover:shadow-xl transition-all border border-transparent hover:border-brand/20 flex flex-col group h-full"><div className="relative h-56 overflow-hidden card-zoom"><img src={item.img} alt={item.title} className="w-full h-full object-cover"/><div className="absolute top-4 left-4 px-3 py-1 bg-white/90 backdrop-blur rounded-full text-xs font-bold text-dark shadow-sm">{item.category}</div></div><div className="p-6 flex flex-col flex-1"><div className="flex justify-between items-start mb-2"><h3 className="text-xl font-bold text-dark group-hover:text-brand transition-colors line-clamp-1">{item.title}</h3>{item.reservation ? <span className="text-[10px] font-bold px-2 py-0.5 bg-green-100 text-green-700 rounded-full shrink-0">ì˜ˆì•½ê°€ëŠ¥</span> : <span className="text-[10px] font-bold px-2 py-0.5 bg-gray-100 text-gray-500 rounded-full shrink-0">í˜„ì¥ë°©ë¬¸</span>}</div><div className="flex items-center gap-2 text-sm text-gray-500 mb-4"><Icons.MapPin className="w-4 h-4 text-brand shrink-0" /><span className="line-clamp-1">{item.address}</span></div><p className="text-gray-500 text-sm line-clamp-2 mb-6 flex-1 break-keep">{item.desc}</p><div className="grid grid-cols-2 gap-3 mt-auto"><button onClick={() => openMap(item.title)} className="flex items-center justify-center gap-2 py-3 bg-gray-50 text-gray-700 font-bold rounded-xl hover:bg-gray-100 transition-colors text-sm"><Icons.Map size={16} /> ì§€ë„ ë³´ê¸°</button><button onClick={() => openReservation(item.title, item.reservation)} className={`flex items-center justify-center gap-2 py-3 font-bold rounded-xl transition-colors text-sm ${item.reservation ? 'bg-brand text-white hover:bg-blue-700' : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`}><Icons.Calendar size={16} /> ì˜ˆì•½ í•˜ê¸°</button></div></div></div>))}</div></div>{isRegisterModalOpen && (<FoodRegistrationModal onClose={() => setIsRegisterModalOpen(false)} onSubmit={onRegister} />)}</div>
            );
        };

        // ê³µì§€ì‚¬í•­ ì „ìš© í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
        const NoticeView = ({ onBack, posts }) => {
            const [selectedCategory, setSelectedCategory] = useState('ì „ì²´');
            const [selectedPost, setSelectedPost] = useState(null);
            
            const categories = ['ì „ì²´', 'ì¼ë°˜ê³µì§€', 'ì„¸ë¯¸ë‚˜', 'ë‚´ë¶€ì•ˆë‚´'];
            const filteredPosts = selectedCategory === 'ì „ì²´' 
                ? posts.filter(p => p.category === 'ê³µì§€ì‚¬í•­')
                : posts.filter(p => p.category === 'ê³µì§€ì‚¬í•­' && p.title.includes(selectedCategory));
            
            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-7xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <div>
                                <h2 className="text-3xl font-bold text-dark mb-2">ê³µì§€ì‚¬í•­</h2>
                                <p className="text-gray-500 text-sm">ë‹¨ì²´ ì†Œì‹ ì•ˆë‚´</p>
                            </div>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors">
                                <Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ
                            </button>
                        </div>

                        {/* ì¹´í…Œê³ ë¦¬ í•„í„° */}
                        <div className="flex gap-2 mb-6 flex-wrap">
                            {categories.map(cat => (
                                <button
                                    key={cat}
                                    type="button"
                                    onClick={() => setSelectedCategory(cat)}
                                    className={`px-4 py-2 rounded-xl font-bold text-sm transition-colors ${
                                        selectedCategory === cat
                                            ? 'bg-brand text-white'
                                            : 'bg-white text-gray-600 hover:bg-gray-50'
                                    }`}
                                >
                                    {cat}
                                </button>
                            ))}
                        </div>

                        {/* ê³µì§€ ë¦¬ìŠ¤íŠ¸ */}
                        {filteredPosts.length > 0 ? (
                            <div className="space-y-4">
                                {filteredPosts.map((post) => (
                                    <div
                                        key={post.id}
                                        className="bg-white rounded-3xl p-6 shadow-card hover:shadow-lg transition-all border border-transparent hover:border-brand/20 cursor-pointer"
                                        onClick={() => setSelectedPost(post)}
                                    >
                                        <div className="flex items-start justify-between">
                                            <div className="flex-1">
                                                <div className="flex items-center gap-3 mb-2">
                                                    <span className="text-xs font-bold px-3 py-1 bg-brand/10 text-brand rounded-full">ê³µì§€ì‚¬í•­</span>
                                                    {selectedCategory !== 'ì „ì²´' && (
                                                        <span className="text-xs text-gray-500">{selectedCategory}</span>
                                                    )}
                                                </div>
                                                <h3 className="text-xl font-bold text-dark mb-2">{post.title}</h3>
                                                <div className="flex items-center gap-4 text-sm text-gray-500">
                                                    <span>{post.author}</span>
                                                    <span>{post.date}</span>
                                                    <span>ì¡°íšŒ {post.views}</span>
                                                </div>
                                            </div>
                                            <Icons.ArrowRight className="w-5 h-5 text-gray-400 shrink-0" />
                                        </div>
                                    </div>
                                ))}
                            </div>
                        ) : (
                            <div className="text-center py-20 text-gray-500">
                                <Icons.Info className="w-12 h-12 mx-auto mb-4 text-gray-300" />
                                <p>ë“±ë¡ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}

                        {/* ê³µì§€ ìƒì„¸ ëª¨ë‹¬ */}
                        {selectedPost && (
                            <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setSelectedPost(null); }}>
                                <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
                                <div className="bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setSelectedPost(null); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                        <Icons.X size={18}/>
                                    </button>
                                    <div className="mb-6">
                                        <div className="flex items-center gap-3 mb-4">
                                            <span className="text-xs font-bold px-3 py-1 bg-brand/10 text-brand rounded-full">ê³µì§€ì‚¬í•­</span>
                                        </div>
                                        <h3 className="text-2xl font-bold text-dark mb-4">{selectedPost.title}</h3>
                                        <div className="flex items-center gap-4 text-sm text-gray-500 mb-6">
                                            <span>{selectedPost.author}</span>
                                            <span>{selectedPost.date}</span>
                                            <span>ì¡°íšŒ {selectedPost.views}</span>
                                        </div>
                                        <div className="bg-soft p-6 rounded-2xl border border-brand/5">
                                            <p className="text-gray-700 leading-relaxed whitespace-pre-wrap">{selectedPost.content}</p>
                                        </div>
                                        {selectedPost.reply && (
                                            <div className="mt-6 bg-brand/5 p-6 rounded-2xl border border-brand/20">
                                                <div className="flex items-center gap-2 mb-2">
                                                    <Icons.MessageCircle size={16} className="text-brand" />
                                                    <span className="font-bold text-brand">ê´€ë¦¬ì ë‹µë³€</span>
                                                </div>
                                                <p className="text-gray-700">{selectedPost.reply}</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const AllMembersView = ({ onBack, members }) => {
            const [searchName, setSearchName] = useState('');
            const [searchIndustry, setSearchIndustry] = useState('');
            const [searchRegion, setSearchRegion] = useState('');
            const [selectedIndustryFilter, setSelectedIndustryFilter] = useState('ì „ì²´');
            const [selectedGradeFilter, setSelectedGradeFilter] = useState('ì „ì²´');
            const [selectedMember, setSelectedMember] = useState(null);
            const [filteredMembers, setFilteredMembers] = useState(members);

            // ì—…ì¢… ëª©ë¡ ì¶”ì¶œ
            const industries = ['ì „ì²´', ...new Set(members.map(m => m.industry || m.businessCategory || 'ê¸°íƒ€').filter(Boolean))];
            // ë“±ê¸‰ ëª©ë¡ ì¶”ì¶œ
            const grades = ['ì „ì²´', 'íŒŒíŠ¸ë„ˆì‚¬', 'ìš´ì˜ì§„', 'ì‚¬ì—…ì', 'ì˜ˆì°½'];

            useEffect(() => {
                let filtered = members.filter(member => {
                    const matchName = !searchName || member.name.toLowerCase().includes(searchName.toLowerCase());
                    const matchIndustry = !searchIndustry || (member.industry || member.businessCategory || '').toLowerCase().includes(searchIndustry.toLowerCase());
                    const matchRegion = !searchRegion || (member.address || '').includes(searchRegion);
                    const matchIndustryFilter = selectedIndustryFilter === 'ì „ì²´' || (member.industry || member.businessCategory || 'ê¸°íƒ€') === selectedIndustryFilter;
                    const matchGradeFilter = selectedGradeFilter === 'ì „ì²´' || (member.memberGrade || '') === selectedGradeFilter;
                    return matchName && matchIndustry && matchRegion && matchIndustryFilter && matchGradeFilter;
                });
                setFilteredMembers(filtered);
            }, [searchName, searchIndustry, searchRegion, selectedIndustryFilter, selectedGradeFilter, members]);
            
            // ë“±ê¸‰ë³„ë¡œ ê·¸ë£¹í™”
            const membersByGrade = {
                'íŒŒíŠ¸ë„ˆì‚¬': filteredMembers.filter(m => m.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬'),
                'ìš´ì˜ì§„': filteredMembers.filter(m => m.memberGrade === 'ìš´ì˜ì§„'),
                'ì‚¬ì—…ì': filteredMembers.filter(m => m.memberGrade === 'ì‚¬ì—…ì'),
                'ì˜ˆì°½': filteredMembers.filter(m => m.memberGrade === 'ì˜ˆì°½'),
                'ë“±ê¸‰ ì—†ìŒ': filteredMembers.filter(m => !m.memberGrade)
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-7xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <div>
                                <h2 className="text-3xl font-bold text-dark mb-2">íšŒì› ê²€ìƒ‰</h2>
                                <p className="text-gray-500 text-sm">ì‹ ë¢° ê¸°ë°˜ì˜ ì¸ë§¥ ë„¤íŠ¸ì›Œí‚¹</p>
                            </div>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors">
                                <Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                            </button>
                        </div>

                        {/* ê²€ìƒ‰ë°” */}
                        <div className="bg-white rounded-3xl shadow-card p-6 mb-8">
                            <div className="grid grid-cols-1 md:grid-cols-5 gap-4 mb-4">
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì´ë¦„ ê²€ìƒ‰</label>
                                    <div className="relative">
                                        <Icons.Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400" />
                                        <input 
                                            type="text" 
                                            placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" 
                                            className="w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" 
                                            value={searchName} 
                                            onChange={e => setSearchName(e.target.value)}
                                        />
                                    </div>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì—…ì¢… ê²€ìƒ‰</label>
                                    <input 
                                        type="text" 
                                        placeholder="ì—…ì¢…ì„ ì…ë ¥í•˜ì„¸ìš”" 
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" 
                                        value={searchIndustry} 
                                        onChange={e => setSearchIndustry(e.target.value)}
                                    />
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì§€ì—­ ê²€ìƒ‰</label>
                                    <input 
                                        type="text" 
                                        placeholder="ì§€ì—­ì„ ì…ë ¥í•˜ì„¸ìš”" 
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" 
                                        value={searchRegion} 
                                        onChange={e => setSearchRegion(e.target.value)}
                                    />
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ì—…ì¢… í•„í„°</label>
                                    <select 
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm bg-white" 
                                        value={selectedIndustryFilter} 
                                        onChange={e => setSelectedIndustryFilter(e.target.value)}
                                    >
                                        {industries.map(ind => (
                                            <option key={ind} value={ind}>{ind}</option>
                                        ))}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-gray-600 mb-2">ë“±ê¸‰ í•„í„°</label>
                                    <select 
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm bg-white" 
                                        value={selectedGradeFilter} 
                                        onChange={e => setSelectedGradeFilter(e.target.value)}
                                    >
                                        {grades.map(grade => (
                                            <option key={grade} value={grade}>{grade}</option>
                                        ))}
                                    </select>
                                </div>
                            </div>
                            <div className="text-xs text-gray-500">
                                ê²€ìƒ‰ ê²°ê³¼: <span className="font-bold text-brand">{filteredMembers.length}</span>ëª…
                            </div>
                        </div>

                        {/* ë“±ê¸‰ë³„ íšŒì› ëª©ë¡ */}
                        {selectedGradeFilter === 'ì „ì²´' ? (
                            <div className="space-y-12">
                                {Object.entries(membersByGrade).map(([grade, gradeMembers]) => {
                                    if (gradeMembers.length === 0) return null;
                                    return (
                                        <div key={grade}>
                                            <div className="flex items-center gap-3 mb-6">
                                                <h3 className="text-2xl font-bold text-dark">
                                                    {grade === 'ë“±ê¸‰ ì—†ìŒ' ? 'ë“±ê¸‰ ì—†ìŒ' : `${grade} ë“±ê¸‰`}
                                                </h3>
                                                <span className="px-4 py-1 bg-gray-100 text-gray-600 rounded-full text-sm font-bold">
                                                    {gradeMembers.length}ëª…
                                                </span>
                                            </div>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                                                {gradeMembers.map((member, idx) => (
                                                    <div key={idx} className={`bg-white rounded-3xl shadow-card hover:shadow-lg transition-all border border-transparent hover:border-brand/20 ${member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && member.hasDonated ? 'flex flex-row items-start gap-4 p-4' : 'flex flex-col items-center text-center p-6'} group cursor-pointer`} onClick={() => setSelectedMember(member)}>
                                                        {member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && member.hasDonated ? (
                                                            <>
                                                                <div className="flex-shrink-0">
                                                                    <div className="w-20 h-20 rounded-full overflow-hidden mb-2 border-4 border-soft group-hover:border-brand/20 transition-colors">
                                                                        <img src={member.img} alt={member.name} className="w-full h-full object-cover" onError={(e) => { e.target.src = `https://ui-avatars.com/api/?name=${member.name}&background=random`; }} />
                                                                    </div>
                                                                    <h3 className="text-lg font-bold text-dark mb-1 text-center">{member.name}</h3>
                                                                    <p className="text-xs text-brand font-medium mb-2 text-center">{member.company}</p>
                                                                    <div className="flex items-center justify-center gap-2 mb-2 flex-wrap">
                                                                        <span className="px-2 py-0.5 bg-gray-100 text-gray-500 rounded-full text-[10px] font-bold">{member.industry || 'ì—…ì¢… ë¯¸ì§€ì •'}</span>
                                                                        <span className="px-2 py-0.5 bg-gradient-to-r from-yellow-500 to-yellow-700 text-white rounded-full text-[10px] font-bold shadow-lg" style={{ textShadow: '0 1px 2px rgba(0,0,0,0.3)', boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.2)' }}>íŒŒíŠ¸ë„ˆì‚¬</span>
                                                                    </div>
                                                                </div>
                                                                <div className="flex-1 min-w-0">
                                                                    <h4 className="text-sm font-bold text-yellow-700 mb-2 flex items-center gap-1">
                                                                        <Icons.Star className="w-4 h-4" /> íšŒì‚¬ ì†Œê°œ
                                                                    </h4>
                                                                    {member.companyMainImage && (
                                                                        <div className="relative w-full h-32 rounded-lg overflow-hidden mb-2">
                                                                            <img src={member.companyMainImage} alt="íšŒì‚¬ ëŒ€í‘œ ì´ë¯¸ì§€" className="w-full h-full object-cover" />
                                                                        </div>
                                                                    )}
                                                                    {member.companyDescription && (
                                                                        <p className="text-xs text-gray-600 line-clamp-3 mb-2">{member.companyDescription}</p>
                                                                    )}
                                                                    {member.companyImages && member.companyImages.length > 0 && (
                                                                        <div className="grid grid-cols-3 gap-1">
                                                                            {member.companyImages.slice(0, 3).map((img, imgIdx) => (
                                                                                <div key={imgIdx} className="relative aspect-square rounded overflow-hidden">
                                                                                    <img src={img} alt={`íšŒì‚¬ ì‚¬ì§„ ${imgIdx + 1}`} className="w-full h-full object-cover" />
                                                                                </div>
                                                                            ))}
                                                                        </div>
                                                                    )}
                                                                    {!member.companyMainImage && !member.companyDescription && (
                                                                        <p className="text-xs text-gray-400">íšŒì‚¬ ì†Œê°œê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
                                                                    )}
                                                                </div>
                                                            </>
                                                        ) : (
                                                            <>
                                                                <div className="w-24 h-24 rounded-full overflow-hidden mb-4 border-4 border-soft group-hover:border-brand/20 transition-colors">
                                                                    <img src={member.img} alt={member.name} className="w-full h-full object-cover" onError={(e) => { e.target.src = `https://ui-avatars.com/api/?name=${member.name}&background=random`; }} />
                                                                </div>
                                                                <h3 className="text-xl font-bold text-dark mb-1">{member.name}</h3>
                                                                <p className="text-sm text-brand font-medium mb-2">{member.company} {member.role}</p>
                                                                <div className="flex items-center justify-center gap-2 mb-2 flex-wrap">
                                                                    <span className="px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold">{member.industry || member.businessCategory || 'ì—…ì¢… ë¯¸ì§€ì •'}</span>
                                                                    {member.memberGrade && (
                                                                        <span className={`px-3 py-1 text-xs font-bold rounded-full ${
                                                                            member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? 'bg-gradient-to-r from-yellow-500 to-yellow-700 text-white shadow-lg' :
                                                                            member.memberGrade === 'ìš´ì˜ì§„' ? 'bg-white text-red-600 border-2 border-red-600' :
                                                                            member.memberGrade === 'ì‚¬ì—…ì' ? 'bg-gray-200 text-blue-700' :
                                                                            'bg-gray-200 text-gray-900'
                                                                        }`} style={member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? { textShadow: '0 1px 2px rgba(0,0,0,0.3)', boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.2)' } : {}}>
                                                                            {member.memberGrade}
                                                                        </span>
                                                                    )}
                                                                </div>
                                                                <div className="flex items-center gap-1 mb-4">
                                                                    <Icons.Star className="w-4 h-4 text-yellow-400 fill-yellow-400" />
                                                                    <span className="text-xs text-gray-500">4.5</span>
                                                                    <span className="text-xs text-gray-400">(12)</span>
                                                                </div>
                                                                <button className="w-full py-2.5 rounded-xl border border-gray-200 text-sm font-bold text-gray-600 hover:bg-brand hover:text-white hover:border-brand transition-all">í”„ë¡œí•„ ë³´ê¸°</button>
                                                            </>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        ) : filteredMembers.length > 0 ? (
                            <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                                {filteredMembers.map((member, idx) => (
                                    <div key={idx} className={`bg-white rounded-3xl shadow-card hover:shadow-lg transition-all border border-transparent hover:border-brand/20 ${member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && member.hasDonated ? 'flex flex-row items-start gap-4 p-4' : 'flex flex-col items-center text-center p-6'} group cursor-pointer`} onClick={() => setSelectedMember(member)}>
                                        {member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && member.hasDonated ? (
                                            <>
                                                <div className="flex-shrink-0">
                                                    <div className="w-20 h-20 rounded-full overflow-hidden mb-2 border-4 border-soft group-hover:border-brand/20 transition-colors">
                                                        <img src={member.img} alt={member.name} className="w-full h-full object-cover" onError={(e) => { e.target.src = `https://ui-avatars.com/api/?name=${member.name}&background=random`; }} />
                                                    </div>
                                                    <h3 className="text-lg font-bold text-dark mb-1 text-center">{member.name}</h3>
                                                    <p className="text-xs text-brand font-medium mb-2 text-center">{member.company}</p>
                                                    <div className="flex items-center justify-center gap-2 mb-2 flex-wrap">
                                                        <span className="px-2 py-0.5 bg-gray-100 text-gray-500 rounded-full text-[10px] font-bold">{member.industry || 'ì—…ì¢… ë¯¸ì§€ì •'}</span>
                                                        <span className="px-2 py-0.5 bg-gradient-to-r from-yellow-500 to-yellow-700 text-white rounded-full text-[10px] font-bold shadow-lg" style={{ textShadow: '0 1px 2px rgba(0,0,0,0.3)', boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.2)' }}>íŒŒíŠ¸ë„ˆì‚¬</span>
                                                    </div>
                                                </div>
                                                <div className="flex-1 min-w-0">
                                                    <h4 className="text-sm font-bold text-yellow-700 mb-2 flex items-center gap-1">
                                                        <Icons.Star className="w-4 h-4" /> íšŒì‚¬ ì†Œê°œ
                                                    </h4>
                                                    {member.companyMainImage && (
                                                        <div className="relative w-full h-32 rounded-lg overflow-hidden mb-2">
                                                            <img src={member.companyMainImage} alt="íšŒì‚¬ ëŒ€í‘œ ì´ë¯¸ì§€" className="w-full h-full object-cover" />
                                                        </div>
                                                    )}
                                                    {member.companyDescription && (
                                                        <p className="text-xs text-gray-600 line-clamp-3 mb-2">{member.companyDescription}</p>
                                                    )}
                                                    {member.companyImages && member.companyImages.length > 0 && (
                                                        <div className="grid grid-cols-3 gap-1">
                                                            {member.companyImages.slice(0, 3).map((img, imgIdx) => (
                                                                <div key={imgIdx} className="relative aspect-square rounded overflow-hidden">
                                                                    <img src={img} alt={`íšŒì‚¬ ì‚¬ì§„ ${imgIdx + 1}`} className="w-full h-full object-cover" />
                                                                </div>
                                                            ))}
                                                        </div>
                                                    )}
                                                    {!member.companyMainImage && !member.companyDescription && (
                                                        <p className="text-xs text-gray-400">íšŒì‚¬ ì†Œê°œê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
                                                    )}
                                                </div>
                                            </>
                                        ) : (
                                            <>
                                                <div className="w-24 h-24 rounded-full overflow-hidden mb-4 border-4 border-soft group-hover:border-brand/20 transition-colors">
                                                    <img src={member.img} alt={member.name} className="w-full h-full object-cover" onError={(e) => { e.target.src = `https://ui-avatars.com/api/?name=${member.name}&background=random`; }} />
                                                </div>
                                                <h3 className="text-xl font-bold text-dark mb-1">{member.name}</h3>
                                                <p className="text-sm text-brand font-medium mb-2">{member.company} {member.role}</p>
                                                <div className="flex items-center justify-center gap-2 mb-2 flex-wrap">
                                                    <span className="px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold">{member.industry || member.businessCategory || 'ì—…ì¢… ë¯¸ì§€ì •'}</span>
                                                    {member.memberGrade && (
                                                        <span className={`px-3 py-1 text-xs font-bold rounded-full ${
                                                            member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? 'bg-gradient-to-r from-yellow-500 to-yellow-700 text-white shadow-lg' :
                                                            member.memberGrade === 'ìš´ì˜ì§„' ? 'bg-white text-red-600 border-2 border-red-600' :
                                                            member.memberGrade === 'ì‚¬ì—…ì' ? 'bg-gray-200 text-blue-700' :
                                                            'bg-gray-200 text-gray-900'
                                                        }`} style={member.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? { textShadow: '0 1px 2px rgba(0,0,0,0.3)', boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.2)' } : {}}>
                                                            {member.memberGrade}
                                                        </span>
                                                    )}
                                                </div>
                                                <div className="flex items-center gap-1 mb-4">
                                                    <Icons.Star className="w-4 h-4 text-yellow-400 fill-yellow-400" />
                                                    <span className="text-xs text-gray-500">4.5</span>
                                                    <span className="text-xs text-gray-400">(12)</span>
                                                </div>
                                                <button className="w-full py-2.5 rounded-xl border border-gray-200 text-sm font-bold text-gray-600 hover:bg-brand hover:text-white hover:border-brand transition-all">í”„ë¡œí•„ ë³´ê¸°</button>
                                            </>
                                        )}
                                    </div>
                                ))}
                            </div>
                        ) : (
                            <div className="text-center py-20 text-gray-500">
                                <Icons.Info className="w-12 h-12 mx-auto mb-4 text-gray-300" />
                                <p>ì¡°ê±´ì— ë§ëŠ” íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}

                        {/* íšŒì› ìƒì„¸ ëª¨ë‹¬ */}
                        {selectedMember && (
                            <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setSelectedMember(null); }}>
                                <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
                                <div className="bg-white rounded-3xl shadow-2xl w-full max-w-6xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setSelectedMember(null); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                        <Icons.X size={18}/>
                                    </button>
                                    
                                    {/* 4ë“±ë¶„ ì„¹ì…˜ */}
                                    <div className="grid grid-cols-2 gap-4 mb-6">
                                        {/* 1ë“±ë¶„: í›„ì›í•œ íšŒì› */}
                                        <div className="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-4 border-2 border-yellow-200">
                                            <h4 className="text-sm font-bold text-yellow-700 mb-2 flex items-center gap-2">
                                                <Icons.Star className="w-4 h-4" /> í›„ì›í•œ íšŒì›
                                            </h4>
                                            <div className="space-y-2 max-h-48 overflow-y-auto">
                                                {filteredMembers.filter(m => m.hasDonated).map((m, idx) => (
                                                    <div key={idx} className="bg-white rounded-lg p-2 flex items-center gap-2 cursor-pointer hover:bg-yellow-50" onClick={() => setSelectedMember(m)}>
                                                        <img src={m.img || `https://ui-avatars.com/api/?name=${m.name}&background=random`} alt={m.name} className="w-10 h-10 rounded-full object-cover" />
                                                        <div className="flex-1 min-w-0">
                                                            <div className="text-xs font-bold text-dark truncate">{m.name}</div>
                                                            <div className="text-[10px] text-gray-500 truncate">{m.company}</div>
                                                        </div>
                                                    </div>
                                                ))}
                                                {filteredMembers.filter(m => m.hasDonated).length === 0 && (
                                                    <p className="text-xs text-gray-400 text-center py-4">í›„ì›í•œ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤</p>
                                                )}
                                            </div>
                                        </div>
                                        
                                        {/* 2ë“±ë¶„: ê´€ë¦¬ì ê¶Œí•œ íšŒì› */}
                                        <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 border-2 border-blue-200">
                                            <h4 className="text-sm font-bold text-blue-700 mb-2 flex items-center gap-2">
                                                <Icons.Shield className="w-4 h-4" /> ê´€ë¦¬ì ê¶Œí•œ íšŒì›
                                            </h4>
                                            <div className="space-y-2 max-h-48 overflow-y-auto">
                                                {filteredMembers.filter(m => m.isAdmin).map((m, idx) => (
                                                    <div key={idx} className="bg-white rounded-lg p-2 flex items-center gap-2 cursor-pointer hover:bg-blue-50" onClick={() => setSelectedMember(m)}>
                                                        <img src={m.img || `https://ui-avatars.com/api/?name=${m.name}&background=random`} alt={m.name} className="w-10 h-10 rounded-full object-cover" />
                                                        <div className="flex-1 min-w-0">
                                                            <div className="text-xs font-bold text-dark truncate">{m.name}</div>
                                                            <div className="text-[10px] text-gray-500 truncate">{m.company}</div>
                                                        </div>
                                                    </div>
                                                ))}
                                                {filteredMembers.filter(m => m.isAdmin).length === 0 && (
                                                    <p className="text-xs text-gray-400 text-center py-4">ê´€ë¦¬ì ê¶Œí•œ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤</p>
                                                )}
                                            </div>
                                        </div>
                                        
                                        {/* 3ë“±ë¶„: ì¼ë°˜íšŒì›(ì‚¬ì—…ì) */}
                                        <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4 border-2 border-green-200">
                                            <h4 className="text-sm font-bold text-green-700 mb-2 flex items-center gap-2">
                                                <Icons.Briefcase className="w-4 h-4" /> ì¼ë°˜íšŒì›(ì‚¬ì—…ì)
                                            </h4>
                                            <div className="space-y-2 max-h-48 overflow-y-auto">
                                                {filteredMembers.filter(m => !m.hasDonated && !m.isAdmin && m.businessType === 'ì‚¬ì—…ì').map((m, idx) => (
                                                    <div key={idx} className="bg-white rounded-lg p-2 flex items-center gap-2 cursor-pointer hover:bg-green-50" onClick={() => setSelectedMember(m)}>
                                                        <img src={m.img || `https://ui-avatars.com/api/?name=${m.name}&background=random`} alt={m.name} className="w-10 h-10 rounded-full object-cover" />
                                                        <div className="flex-1 min-w-0">
                                                            <div className="text-xs font-bold text-dark truncate">{m.name}</div>
                                                            <div className="text-[10px] text-gray-500 truncate">{m.company}</div>
                                                        </div>
                                                    </div>
                                                ))}
                                                {filteredMembers.filter(m => !m.hasDonated && !m.isAdmin && m.businessType === 'ì‚¬ì—…ì').length === 0 && (
                                                    <p className="text-xs text-gray-400 text-center py-4">ì¼ë°˜íšŒì›(ì‚¬ì—…ì)ì´ ì—†ìŠµë‹ˆë‹¤</p>
                                                )}
                                            </div>
                                        </div>
                                        
                                        {/* 4ë“±ë¶„: ì¼ë°˜íšŒì›(ì˜ˆë¹„ì°½ì—…ì) */}
                                        <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200">
                                            <h4 className="text-sm font-bold text-purple-700 mb-2 flex items-center gap-2">
                                                <Icons.User className="w-4 h-4" /> ì¼ë°˜íšŒì›(ì˜ˆë¹„ì°½ì—…ì)
                                            </h4>
                                            <div className="space-y-2 max-h-48 overflow-y-auto">
                                                {filteredMembers.filter(m => !m.hasDonated && !m.isAdmin && m.businessType === 'ì˜ˆë¹„ì°½ì—…ì').map((m, idx) => (
                                                    <div key={idx} className="bg-white rounded-lg p-2 flex items-center gap-2 cursor-pointer hover:bg-purple-50" onClick={() => setSelectedMember(m)}>
                                                        <img src={m.img || `https://ui-avatars.com/api/?name=${m.name}&background=random`} alt={m.name} className="w-10 h-10 rounded-full object-cover" />
                                                        <div className="flex-1 min-w-0">
                                                            <div className="text-xs font-bold text-dark truncate">{m.name}</div>
                                                            <div className="text-[10px] text-gray-500 truncate">{m.company || 'ì˜ˆë¹„ì°½ì—…ì'}</div>
                                                        </div>
                                                    </div>
                                                ))}
                                                {filteredMembers.filter(m => !m.hasDonated && !m.isAdmin && m.businessType === 'ì˜ˆë¹„ì°½ì—…ì').length === 0 && (
                                                    <p className="text-xs text-gray-400 text-center py-4">ì¼ë°˜íšŒì›(ì˜ˆë¹„ì°½ì—…ì)ì´ ì—†ìŠµë‹ˆë‹¤</p>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {/* ì„ íƒëœ íšŒì› ìƒì„¸ ì •ë³´ */}
                                    <div className="border-t border-gray-200 pt-6">
                                        <div className="flex flex-col md:flex-row gap-6 mb-6">
                                            <div className="w-32 h-32 rounded-full overflow-hidden border-4 border-brand/20 shrink-0 mx-auto md:mx-0">
                                                <img src={selectedMember.img} alt={selectedMember.name} className="w-full h-full object-cover" onError={(e) => { e.target.src = `https://ui-avatars.com/api/?name=${selectedMember.name}&background=random`; }} />
                                            </div>
                                            <div className="flex-1">
                                            <h3 className="text-2xl font-bold text-dark mb-2">{selectedMember.name}</h3>
                                            <p className="text-brand font-medium mb-2">{selectedMember.company} | {selectedMember.role}</p>
                                            <div className="flex items-center gap-2 mb-4">
                                                <span className="inline-block px-3 py-1 bg-brand/10 text-brand text-sm font-bold rounded-full">{selectedMember.industry || selectedMember.businessCategory || 'ì—…ì¢… ë¯¸ì§€ì •'}</span>
                                                {selectedMember.memberGrade && (
                                                    <span className={`inline-block px-3 py-1 text-sm font-bold rounded-full ${
                                                        selectedMember.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? 'bg-gradient-to-r from-yellow-500 to-yellow-700 text-white shadow-lg' :
                                                        selectedMember.memberGrade === 'ìš´ì˜ì§„' ? 'bg-white text-red-600 border-2 border-red-600' :
                                                        selectedMember.memberGrade === 'ì‚¬ì—…ì' ? 'bg-gray-200 text-blue-700' :
                                                        'bg-gray-200 text-gray-900'
                                                    }`} style={selectedMember.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' ? { textShadow: '0 1px 2px rgba(0,0,0,0.3)', boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.2)' } : {}}>
                                                        {selectedMember.memberGrade}
                                                    </span>
                                                )}
                                            </div>
                                                <div className="flex items-center gap-4 text-sm text-gray-600 mb-3">
                                                    <div className="flex items-center gap-1">
                                                        <Icons.Star className="w-4 h-4 text-yellow-400 fill-yellow-400" />
                                                        <span className="font-bold">4.5</span>
                                                        <span className="text-gray-400">(12ê°œ í›„ê¸°)</span>
                                                    </div>
                                                    <div className="flex items-center gap-1">
                                                        <Icons.Phone className="w-4 h-4" />
                                                        <span>{selectedMember.phone || 'ì—°ë½ì²˜ ë¯¸ê³µê°œ'}</span>
                                                    </div>
                                                </div>
                                                {/* PortOne ë³¸ì¸ì¸ì¦ ìƒíƒœ í‘œì‹œ */}
                                                {selectedMember.isIdentityVerified ? (
                                                    <div className="flex items-center gap-2 px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg">
                                                        <Icons.CheckCircle className="w-4 h-4 text-green-600" />
                                                        <span className="text-xs font-bold text-green-700">PortOne ë³¸ì¸ì¸ì¦ ì™„ë£Œ</span>
                                                    </div>
                                                ) : (
                                                    <div className="flex items-center gap-2 px-3 py-1.5 bg-gray-50 border border-gray-200 rounded-lg">
                                                        <Icons.X className="w-4 h-4 text-gray-400" />
                                                        <span className="text-xs text-gray-500">ë³¸ì¸ì¸ì¦ ë¯¸ì™„ë£Œ</span>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                        
                                        {/* PortOne ë³¸ì¸ì¸ì¦ ì •ë³´ ìƒì„¸ (ì¸ì¦ ì™„ë£Œ ì‹œì—ë§Œ í‘œì‹œ) */}
                                        {selectedMember.isIdentityVerified && (
                                            <div className="bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6 mb-6">
                                                <div className="flex items-center gap-3 mb-4">
                                                    <div className="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                                        <Icons.CheckCircle className="w-6 h-6 text-white" />
                                                    </div>
                                                    <div>
                                                        <h4 className="font-bold text-green-700 text-lg">PortOne ë³¸ì¸ì¸ì¦ ì •ë³´</h4>
                                                        <p className="text-xs text-green-600">ì¸ì¦ëœ ê°œì¸ì •ë³´ í™•ì¸</p>
                                                    </div>
                                                </div>
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div className="bg-white/80 rounded-xl p-4 border border-green-100">
                                                        <div className="text-xs text-gray-500 mb-2">ì¸ì¦ëœ ì´ë¦„</div>
                                                        <div className="font-bold text-lg text-green-600">{selectedMember.verifiedName || selectedMember.name}</div>
                                                    </div>
                                                    <div className="bg-white/80 rounded-xl p-4 border border-green-100">
                                                        <div className="text-xs text-gray-500 mb-2">ì¸ì¦ëœ ì „í™”ë²ˆí˜¸</div>
                                                        <div className="font-bold text-lg text-green-600">{selectedMember.verifiedPhone || selectedMember.phone || '-'}</div>
                                                    </div>
                                                    {selectedMember.verifiedBirthday && (
                                                        <div className="bg-white/80 rounded-xl p-4 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-2">ìƒë…„ì›”ì¼</div>
                                                            <div className="font-bold text-lg text-green-600">
                                                                {selectedMember.verifiedBirthday.replace(/(\d{4})(\d{2})(\d{2})/, '$1ë…„ $2ì›” $3ì¼')}
                                                            </div>
                                                        </div>
                                                    )}
                                                    {selectedMember.verifiedGender && (
                                                        <div className="bg-white/80 rounded-xl p-4 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-2">ì„±ë³„</div>
                                                            <div className="font-bold text-lg text-green-600">{selectedMember.verifiedGender === 'M' ? 'ë‚¨ì„±' : 'ì—¬ì„±'}</div>
                                                        </div>
                                                    )}
                                                </div>
                                                {selectedMember.impUid && (
                                                    <div className="mt-4 pt-4 border-t border-green-200">
                                                        <div className="flex items-center justify-between bg-white/60 rounded-lg p-3">
                                                            <span className="text-xs text-gray-500">ì¸ì¦ ê±°ë˜ ê³ ìœ ë²ˆí˜¸</span>
                                                            <span className="text-xs font-mono text-gray-700 bg-white px-3 py-1 rounded border border-green-100">{selectedMember.impUid}</span>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                        
                                        {/* í›„ì› íšŒì›ì˜ íšŒì‚¬ ì†Œê°œ ì„¹ì…˜ */}
                                        {selectedMember.hasDonated && (
                                            <div className="bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-2xl p-6 mb-6">
                                                <div className="flex items-center gap-3 mb-4">
                                                    <div className="w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center">
                                                        <Icons.Star className="w-6 h-6 text-white" />
                                                    </div>
                                                    <div>
                                                        <h4 className="font-bold text-yellow-700 text-lg">íšŒì‚¬ ì†Œê°œ</h4>
                                                        <p className="text-xs text-yellow-600">í›„ì› íšŒì› ì „ìš© ì†Œê°œ ê³µê°„</p>
                                                    </div>
                                                </div>
                                                
                                                {/* ëŒ€í‘œ ì´ë¯¸ì§€ */}
                                                {selectedMember.companyMainImage && (
                                                    <div className="mb-4">
                                                        <label className="block text-xs font-bold text-gray-700 mb-2">ëŒ€í‘œ ì´ë¯¸ì§€</label>
                                                        <div className="relative w-full h-64 rounded-xl overflow-hidden">
                                                            <img src={selectedMember.companyMainImage} alt="íšŒì‚¬ ëŒ€í‘œ ì´ë¯¸ì§€" className="w-full h-full object-cover" />
                                                        </div>
                                                    </div>
                                                )}
                                                
                                                {/* íšŒì‚¬ ì†Œê°œ í…ìŠ¤íŠ¸ */}
                                                {selectedMember.companyDescription && (
                                                    <div className="mb-4">
                                                        <label className="block text-xs font-bold text-gray-700 mb-2">íšŒì‚¬ ì†Œê°œ</label>
                                                        <p className="text-sm text-gray-700 bg-white/80 rounded-xl p-4 border border-yellow-100 whitespace-pre-line">
                                                            {selectedMember.companyDescription}
                                                        </p>
                                                    </div>
                                                )}
                                                
                                                {/* ì¶”ê°€ ì‚¬ì§„ 3ì¥ */}
                                                {selectedMember.companyImages && selectedMember.companyImages.length > 0 && (
                                                    <div>
                                                        <label className="block text-xs font-bold text-gray-700 mb-2">ì¶”ê°€ ì‚¬ì§„</label>
                                                        <div className="grid grid-cols-3 gap-3">
                                                            {selectedMember.companyImages.slice(0, 3).map((img, idx) => (
                                                                <div key={idx} className="relative aspect-square rounded-xl overflow-hidden">
                                                                    <img src={img} alt={`íšŒì‚¬ ì‚¬ì§„ ${idx + 1}`} className="w-full h-full object-cover" />
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                        
                                        <div className="border-t border-gray-200 pt-6">
                                            <h4 className="text-lg font-bold text-dark mb-4">í‰ê°€ ìš”ì•½</h4>
                                            <div className="space-y-2">
                                                <div className="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                                                    <span className="text-sm text-gray-600">ì „ë¬¸ì„±</span>
                                                    <div className="flex items-center gap-2">
                                                        <div className="w-32 h-2 bg-gray-200 rounded-full overflow-hidden">
                                                            <div className="h-full bg-yellow-400" style={{ width: '90%' }}></div>
                                                        </div>
                                                        <span className="text-sm font-bold text-gray-700">4.5</span>
                                                    </div>
                                                </div>
                                                <div className="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                                                    <span className="text-sm text-gray-600">ì‹ ë¢°ë„</span>
                                                    <div className="flex items-center gap-2">
                                                        <div className="w-32 h-2 bg-gray-200 rounded-full overflow-hidden">
                                                            <div className="h-full bg-yellow-400" style={{ width: '85%' }}></div>
                                                        </div>
                                                        <span className="text-sm font-bold text-gray-700">4.3</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const CalendarSection = ({ seminars, onSelectSeminar, currentUser }) => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [selectedDate, setSelectedDate] = useState(null);
            const prevMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));
            const nextMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth(); 
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const getEventsForDate = (day) => seminars.filter(s => {
                const parts = s.date.replace(/-/g, '.').split('.'); 
                if (parts.length < 3) return false;
                return parseInt(parts[0]) === year && parseInt(parts[1]) - 1 === month && parseInt(parts[2]) === day;
            });
            const renderCalendarDays = () => {
                const days = [];
                for (let i = 0; i < firstDayOfMonth; i++) days.push(<div key={`empty-${i}`} className="h-28 bg-white border-r border-b border-[#0045a5]"></div>);
                for (let d = 1; d <= daysInMonth; d++) {
                    const events = getEventsForDate(d);
                    const dayOfWeek = new Date(year, month, d).getDay();
                    const isToday = new Date().toDateString() === new Date(year, month, d).toDateString();
                    const hasEvents = events.length > 0;
                    let textColor = 'text-gray-700'; if (dayOfWeek === 0) textColor = 'text-red-600'; if (dayOfWeek === 6) textColor = 'text-blue-600';
                    days.push(
                        <div key={d} onClick={() => hasEvents && setSelectedDate(d)} className={`h-28 border-r border-b border-[#0045a5] p-0 relative transition-colors bg-white ${hasEvents ? 'cursor-pointer hover:bg-brand/5' : ''}`}>
                             {hasEvents ? (<div className="absolute inset-0 bg-brand/5 p-2 flex flex-col justify-between h-full w-full"><div className="flex justify-between items-start"><span className={`text-sm font-bold ${isToday ? 'bg-brand text-white w-6 h-6 rounded-full flex items-center justify-center' : textColor}`}>{d}</span><span className="text-[10px] font-bold text-brand bg-white px-1.5 py-0.5 rounded-full border border-brand/20">+{events.length}</span></div><div className="flex flex-col gap-1 mt-1 flex-1 justify-end">{events.slice(0, 2).map((ev, idx) => (<div key={idx} className="text-[10px] px-1.5 py-1 rounded truncate font-bold bg-brand text-white shadow-sm w-full text-center">{ev.title}</div>))}</div></div>) : (<div className="p-2 h-full flex flex-col"><span className={`text-sm font-bold ${isToday ? 'bg-brand text-white w-6 h-6 rounded-full flex items-center justify-center' : textColor}`}>{d}</span></div>)}
                        </div>
                    );
                }
                const totalCells = firstDayOfMonth + daysInMonth;
                const remainingCells = 7 - (totalCells % 7);
                if (remainingCells < 7) { for (let i = 0; i < remainingCells; i++) { days.push(<div key={`empty-end-${i}`} className="h-28 bg-white border-r border-b border-[#0045a5]"></div>); } }
                return days;
            };
            return (
                <div className="bg-white rounded-3xl shadow-card p-6 md:p-8 mt-12 animate-fade-in relative border border-gray-100">
                    <div className="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                        <div><h3 className="text-2xl font-bold text-dark flex items-center gap-2"><Icons.Calendar className="text-brand" /> ì›”ê°„ ì¼ì •í‘œ</h3><p className="text-gray-500 text-sm mt-1">ë‚ ì§œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></div>
                        <div className="flex items-center gap-4 bg-gray-50 rounded-xl p-1"><button onClick={prevMonth} className="p-2 hover:bg-white hover:shadow rounded-lg transition-all text-gray-600"><Icons.ArrowLeft size={18} /></button><span className="text-lg font-bold text-dark min-w-[100px] text-center">{year}. {String(month + 1).padStart(2, '0')}</span><button onClick={nextMonth} className="p-2 hover:bg-white hover:shadow rounded-lg transition-all text-gray-600"><Icons.ArrowRight size={18} /></button></div>
                    </div>
                    <div className="grid grid-cols-7 mb-0 text-center border-b border-[#0045a5] border-l border-[#0045a5] border-r border-[#0045a5] bg-brand/5 rounded-t-lg calendar-top-border">{['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '].map((day, idx) => (<div key={day} className={`text-sm font-bold py-3 ${idx === 0 ? 'text-red-600' : idx === 6 ? 'text-blue-600' : 'text-gray-700'}`}>{day}</div>))}</div>
                    <div className="grid grid-cols-7 border-l border-t border-[#0045a5] calendar-left-border calendar-top-border bg-white">{renderCalendarDays()}</div>
                    {selectedDate && getEventsForDate(selectedDate).length > 0 && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setSelectedDate(null); }}>
                            <div className="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-hidden z-10 flex flex-col relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <div className="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                                    <h4 className="font-bold text-xl text-dark">{month + 1}ì›” {selectedDate}ì¼ ì¼ì •</h4>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setSelectedDate(null); }} className="p-2 bg-white rounded-full hover:bg-gray-200 transition-colors shadow-sm">
                                        <Icons.X size={20} />
                                    </button>
                                </div>
                                <div className="p-5 overflow-y-auto modal-scroll space-y-6">
                                    {getEventsForDate(selectedDate).map((ev, idx) => (
                                        <div key={idx} className="flex flex-col gap-4">
                                            <div className="w-full h-48 rounded-xl overflow-hidden shadow-sm relative">
                                                <img src={ev.img || "https://placehold.co/600x400"} alt={ev.title} className="w-full h-full object-cover" />
                                                <div className={`absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-bold shadow-sm ${ev.status === 'ëª¨ì§‘ì¤‘' ? 'bg-brand text-white' : ev.status === 'ë§ˆê°ì„ë°•' ? 'bg-red-500 text-white' : 'bg-gray-500 text-white'}`}>{ev.status}</div>
                                            </div>
                                            <div>
                                                <h5 className="font-bold text-xl text-dark mb-2 leading-tight">{ev.title}</h5>
                                                <div className="flex flex-col gap-2 mb-4">
                                                    <span className="text-sm text-gray-500 font-medium flex items-center gap-2"><Icons.Clock size={16} className="text-brand"/> {ev.date}</span>
                                                    <span className="text-sm text-gray-500 font-medium flex items-center gap-2"><Icons.MapPin size={16} className="text-brand"/> {ev.location}</span>
                                                    <span className="text-sm text-gray-500 font-medium flex items-center gap-2"><Icons.Users size={16} className="text-brand"/> ì‹ ì²­í˜„í™©: <span className="text-brand font-bold">{ev.currentParticipants || 0}</span> / {ev.maxParticipants || 100} ëª…</span>
                                                </div>
                                                <p className="text-gray-600 text-sm leading-relaxed bg-soft p-4 rounded-xl border border-brand/5">{ev.desc}</p>
                                            </div>
                                            {!currentUser ? (
                                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."); }} className="w-full py-3 font-bold rounded-xl transition-colors shadow-lg mt-2 bg-gray-300 text-gray-500 cursor-not-allowed" disabled>
                                                    ë¡œê·¸ì¸ í›„ ì‹ ì²­ ê°€ëŠ¥
                                                </button>
                                            ) : (
                                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onSelectSeminar(ev); setSelectedDate(null); }} className={`w-full py-3 font-bold rounded-xl transition-colors shadow-lg mt-2 ${ev.status === 'ì¢…ë£Œ' || ev.status === 'ë§ˆê°' ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-brand text-white hover:bg-blue-700 shadow-brand/20'}`} disabled={ev.status === 'ì¢…ë£Œ' || ev.status === 'ë§ˆê°'}>
                                                    {ev.status === 'ì¢…ë£Œ' ? 'ì¢…ë£Œëœ ì¼ì •' : ev.status === 'ë§ˆê°' ? 'ì‹ ì²­ ë§ˆê°' : 'ì‹ ì²­í•˜ê¸°'}
                                                </button>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const AdminDashboard = ({ members, setMembers, seminars, setSeminars, posts, setPosts, foodList, setFoodList, logs, onBack, currentUser, addLog, content, setContent, menuEnabled, setMenuEnabled }) => {
            const [activeTab, setActiveTab] = useState('members'); 
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editingItem, setEditingItem] = useState(null);
            const [formData, setFormData] = useState({});
            const [showMasterLogin, setShowMasterLogin] = useState(false);
            const [isMaster, setIsMaster] = useState(false);
            const [masterPwInput, setMasterPwInput] = useState("");
            const adminName = currentUser ? currentUser.name : 'ìµëª… ê´€ë¦¬ì';

            const handleMasterLogin = () => { if(masterPwInput === "0219") { setIsMaster(true); setShowMasterLogin(false); setActiveTab('logs'); } else { alert("ë¹„ë°€ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."); } };

            const openModal = (type, item = null) => {
                setEditingItem(item);
                if (type === 'member') { 
                    setFormData(item || { 
                        name: '', 
                        industry: '', 
                        role: '', 
                        company: '', 
                        img: '',
                        phone: '',
                        email: '',
                        address: '',
                        isIdentityVerified: false,
                        verifiedName: '',
                        verifiedPhone: '',
                        verifiedBirthday: '',
                        verifiedGender: '',
                        impUid: '',
                        memberGrade: '',
                        hasDonated: false
                    }); 
                } 
                else if (type === 'seminar') { 
                    const formattedDate = item && item.date ? item.date.replace(/\./g, '-') : ''; 
                    setFormData({ title: item ? item.title : '', category: item ? item.category : 'êµìœ¡/ì„¸ë¯¸ë‚˜', date: formattedDate, location: item ? item.location : '', desc: item ? item.desc : '', img: item ? item.img : '', status: item ? item.status : 'ëª¨ì§‘ì¤‘', maxParticipants: item ? item.maxParticipants : 100, currentParticipants: item ? item.currentParticipants : 0 }); 
                }
                setIsModalOpen(true);
            };

            const handleApproveFood = (id) => {
                if(confirm("ì´ ë§›ì§‘ ë“±ë¡ì„ ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    const approvedFood = foodList.find(item => item.id === id);
                    setFoodList(foodList.map(item => item.id === id ? { ...item, status: 'approved' } : item));
                    addLog('UPDATE', 'ë§›ì§‘', `${adminName}ë‹˜ì´ ë§›ì§‘ ë“±ë¡ì„ ìŠ¹ì¸í–ˆìŠµë‹ˆë‹¤.`, adminName, `ìŠ¹ì¸ëœ ë§›ì§‘: ${approvedFood?.title || 'N/A'}, ì£¼ì†Œ: ${approvedFood?.address || 'N/A'}`);
                }
            };
            const handleRejectFood = (id) => {
                if(confirm("ì´ ë§›ì§‘ ë“±ë¡ì„ ê±°ì ˆ(ì‚­ì œ)í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    const rejectedFood = foodList.find(item => item.id === id);
                    setFoodList(foodList.filter(item => item.id !== id));
                    addLog('DELETE', 'ë§›ì§‘', `${adminName}ë‹˜ì´ ë§›ì§‘ ë“±ë¡ì„ ê±°ì ˆ(ì‚­ì œ)í–ˆìŠµë‹ˆë‹¤.`, adminName, `ê±°ì ˆëœ ë§›ì§‘: ${rejectedFood?.title || 'N/A'}`);
                }
            };

            const handleSubmit = () => {
                if (activeTab === 'members') {
                    if (!formData.name) return alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    if (editingItem) {
                        const oldData = members.find(m => m.id === editingItem.id);
                        setMembers(members.map(m => m.id === editingItem.id ? { ...formData, id: editingItem.id } : m));
                        addLog('UPDATE', 'íšŒì›', `${adminName}ë‹˜ì´ íšŒì› ì •ë³´ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. (${formData.name})`, adminName, `ì´ì „: ${oldData?.name || 'N/A'} â†’ ë³€ê²½: ${formData.name}`);
                    } else {
                        setMembers([...members, { ...formData, id: Date.now() }]);
                        addLog('CREATE', 'íšŒì›', `${adminName}ë‹˜ì´ ìƒˆ íšŒì›ì„ ë“±ë¡í–ˆìŠµë‹ˆë‹¤. (${formData.name})`, adminName, `íšŒì›ëª…: ${formData.name}, ì—…ì¢…: ${formData.industry || 'N/A'}`);
                    }
                } else if (activeTab === 'seminars') {
                    if (!formData.title) return alert("ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    const displayDate = formData.date.replace(/-/g, '.');
                    const status = calculateStatus(displayDate);
                    const newSeminarData = { ...formData, date: displayDate, status: status };
                    if (editingItem) {
                        const oldData = seminars.find(s => s.id === editingItem.id);
                        setSeminars(seminars.map(s => s.id === editingItem.id ? { ...newSeminarData, id: editingItem.id } : s));
                        addLog('UPDATE', 'í”„ë¡œê·¸ë¨', `${adminName}ë‹˜ì´ í”„ë¡œê·¸ë¨ ì •ë³´ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. (${formData.title})`, adminName, `ì´ì „: ${oldData?.title || 'N/A'} â†’ ë³€ê²½: ${formData.title}, ì¼ì‹œ: ${displayDate}`);
                    } else {
                        setSeminars([...seminars, { ...newSeminarData, id: Date.now(), currentParticipants: 0 }]);
                        addLog('CREATE', 'í”„ë¡œê·¸ë¨', `${adminName}ë‹˜ì´ ìƒˆ í”„ë¡œê·¸ë¨ì„ ë“±ë¡í–ˆìŠµë‹ˆë‹¤. (${formData.title})`, adminName, `ì œëª©: ${formData.title}, ì¼ì‹œ: ${displayDate}, ì¥ì†Œ: ${formData.location || 'N/A'}`);
                    }
                }
                setIsModalOpen(false);
            };

            const handleDelete = (id) => {
                if(!confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
                if(activeTab === 'members') {
                    const deletedMember = members.find(m => m.id === id);
                    setMembers(members.filter(m => m.id !== id));
                    addLog('DELETE', 'íšŒì›', `${adminName}ë‹˜ì´ íšŒì›ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.`, adminName, `ì‚­ì œëœ íšŒì›: ${deletedMember?.name || 'N/A'}`);
                } else if(activeTab === 'seminars') {
                    const deletedSeminar = seminars.find(s => s.id === id);
                    setSeminars(seminars.filter(s => s.id !== id));
                    addLog('DELETE', 'í”„ë¡œê·¸ë¨', `${adminName}ë‹˜ì´ í”„ë¡œê·¸ë¨ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.`, adminName, `ì‚­ì œëœ í”„ë¡œê·¸ë¨: ${deletedSeminar?.title || 'N/A'}`);
                } else if(activeTab === 'community') {
                    const deletedPost = posts.find(p => p.id === id);
                    setPosts(posts.filter(p => p.id !== id));
                    addLog('DELETE', 'ì»¤ë®¤ë‹ˆí‹°', `${adminName}ë‹˜ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.`, adminName, `ì‚­ì œëœ ê²Œì‹œê¸€: ${deletedPost?.title || 'N/A'}`);
                }
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-6xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-8 gap-4"><div><h2 className="text-3xl font-bold text-dark mb-2 flex items-center gap-2"><Icons.Settings className="text-brand" /> í†µí•© ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h2><p className="text-gray-500 text-sm">ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></div><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-gray-500 font-bold hover:bg-gray-100 px-4 py-2 rounded-lg transition-colors"><Icons.ArrowLeft size={20} /> ê´€ë¦¬ì ì¢…ë£Œ</button></div>
                        <div className="flex gap-4 mb-8 border-b border-gray-200 pb-1 overflow-x-auto hide-scrollbar">{['members', 'seminars', 'foods', 'community', 'content', 'menu'].map(tab => (<button key={tab} type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setActiveTab(tab); }} className={`px-6 py-3 font-bold text-lg transition-colors relative whitespace-nowrap ${activeTab === tab ? 'text-brand' : 'text-gray-400 hover:text-gray-600'}`}>{tab === 'members' ? 'íšŒì› ê´€ë¦¬' : tab === 'seminars' ? 'í”„ë¡œê·¸ë¨ ê´€ë¦¬' : tab === 'foods' ? 'ë§›ì§‘ ê´€ë¦¬' : tab === 'community' ? 'ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬' : tab === 'content' ? 'ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸' : 'ìƒë‹¨ ë©”ë‰´ ê´€ë¦¬'}{activeTab === tab && <div className="absolute bottom-0 left-0 w-full h-1 bg-brand rounded-t-full"></div>}</button>))}<button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); isMaster ? setActiveTab('logs') : setShowMasterLogin(true); }} className={`px-6 py-3 font-bold text-lg transition-colors relative whitespace-nowrap ${activeTab === 'logs' ? 'text-brand' : 'text-gray-400 hover:text-gray-600'}`}>í™œë™ ê¸°ë¡ {isMaster ? '(Master)' : <Icons.Lock size={14} className="inline mb-1 ml-1" />}{activeTab === 'logs' && <div className="absolute bottom-0 left-0 w-full h-1 bg-brand rounded-t-full"></div>}</button></div>
                        <div className="bg-white rounded-3xl shadow-card overflow-hidden min-h-[500px]">
                            {activeTab === 'members' && (
                                <div>
                                    {/* ë³¸ì¸ì¸ì¦ í†µê³„ ëŒ€ì‹œë³´ë“œ */}
                                    <div className="p-6 border-b border-gray-100 bg-gradient-to-br from-blue-50 to-indigo-50">
                                        <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                                            <div className="bg-white rounded-xl p-4 shadow-sm border border-blue-100">
                                                <div className="text-xs text-gray-500 mb-1">ì „ì²´ íšŒì›</div>
                                                <div className="text-2xl font-bold text-dark">{members.length}ëª…</div>
                                            </div>
                                            <div className="bg-white rounded-xl p-4 shadow-sm border border-green-100">
                                                <div className="text-xs text-gray-500 mb-1">ë³¸ì¸ì¸ì¦ ì™„ë£Œ</div>
                                                <div className="text-2xl font-bold text-green-600">{members.filter(m => m.isIdentityVerified).length}ëª…</div>
                                                <div className="text-xs text-gray-400 mt-1">
                                                    {members.length > 0 ? Math.round((members.filter(m => m.isIdentityVerified).length / members.length) * 100) : 0}%
                                                </div>
                                            </div>
                                            <div className="bg-white rounded-xl p-4 shadow-sm border border-yellow-100">
                                                <div className="text-xs text-gray-500 mb-1">ìŠ¹ì¸ ëŒ€ê¸°</div>
                                                <div className="text-2xl font-bold text-yellow-600">{members.filter(m => m.approvalStatus === 'pending').length}ëª…</div>
                                            </div>
                                            <div className="bg-white rounded-xl p-4 shadow-sm border border-green-100">
                                                <div className="text-xs text-gray-500 mb-1">ìŠ¹ì¸ ì™„ë£Œ</div>
                                                <div className="text-2xl font-bold text-green-600">{members.filter(m => m.approvalStatus === 'approved').length}ëª…</div>
                                            </div>
                                        </div>
                                        {/* ë³¸ì¸ì¸ì¦ ì§„í–‰ë¥  ë°” */}
                                        <div className="bg-white rounded-lg p-3 border border-blue-100">
                                            <div className="flex items-center justify-between mb-2">
                                                <span className="text-xs font-bold text-gray-600">PortOne ë³¸ì¸ì¸ì¦ ì§„í–‰ë¥ </span>
                                                <span className="text-xs font-bold text-green-600">
                                                    {members.length > 0 ? Math.round((members.filter(m => m.isIdentityVerified).length / members.length) * 100) : 0}%
                                                </span>
                                            </div>
                                            <div className="w-full h-3 bg-gray-200 rounded-full overflow-hidden">
                                                <div 
                                                    className="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full transition-all duration-500"
                                                    style={{ width: `${members.length > 0 ? (members.filter(m => m.isIdentityVerified).length / members.length) * 100 : 0}%` }}
                                                ></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50">
                                        <h3 className="font-bold text-dark">ì „ì²´ íšŒì› ({members.length}ëª…)</h3>
                                        <button onClick={() => openModal('member')} className="flex items-center gap-2 bg-brand text-white text-sm font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            <Icons.Plus size={16} /> íšŒì› ë“±ë¡
                                        </button>
                                    </div>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-left">
                                            <thead className="bg-gray-50 text-xs text-gray-500">
                                                <tr>
                                                    <th className="p-4">í”„ë¡œí•„</th>
                                                    <th className="p-4">ì´ë¦„ / ì§ì±…</th>
                                                    <th className="p-4">íšŒì‚¬ / ì—…ì¢…</th>
                                                    <th className="p-4">ë³¸ì¸ì¸ì¦</th>
                                                    <th className="p-4">ìŠ¹ì¸ìƒíƒœ</th>
                                                    <th className="p-4 text-right">ê´€ë¦¬</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {members.map(m => (
                                                    <tr key={m.id} className="border-b border-gray-50 hover:bg-gray-50">
                                                        <td className="p-4">
                                                            <img src={m.img} className="w-10 h-10 rounded-full object-cover bg-gray-200" onError={(e)=>{e.target.src=`https://ui-avatars.com/api/?name=${m.name}`}} />
                                                        </td>
                                                        <td className="p-4">
                                                            <div>
                                                                <div className="font-bold text-dark">{m.name}</div>
                                                                <div className="text-xs text-gray-500">{m.role}</div>
                                                            </div>
                                                        </td>
                                                        <td className="p-4">
                                                            <div>
                                                                <div className="text-sm font-bold text-gray-700">{m.company}</div>
                                                                <div className="text-xs text-brand bg-brand/10 px-2 py-0.5 rounded inline-block">{m.industry}</div>
                                                            </div>
                                                        </td>
                                                        <td className="p-4">
                                                            {m.isIdentityVerified ? (
                                                                <div className="flex items-center gap-2">
                                                                    <Icons.CheckCircle className="w-4 h-4 text-green-500" />
                                                                    <span className="text-xs font-bold text-green-600">ì¸ì¦ì™„ë£Œ</span>
                                                                </div>
                                                            ) : (
                                                                <div className="flex items-center gap-2">
                                                                    <Icons.X className="w-4 h-4 text-gray-400" />
                                                                    <span className="text-xs text-gray-400">ë¯¸ì¸ì¦</span>
                                                                </div>
                                                            )}
                                                        </td>
                                                        <td className="p-4">
                                                            {m.approvalStatus === 'approved' ? (
                                                                <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-bold">ìŠ¹ì¸</span>
                                                            ) : m.approvalStatus === 'pending' ? (
                                                                <span className="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded font-bold">ëŒ€ê¸°</span>
                                                            ) : m.approvalStatus === 'rejected' ? (
                                                                <span className="text-xs bg-red-100 text-red-700 px-2 py-1 rounded font-bold">ê±°ì ˆ</span>
                                                            ) : (
                                                                <span className="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded font-bold">-</span>
                                                            )}
                                                        </td>
                                                        <td className="p-4 text-right">
                                                            <button onClick={() => openModal('member', m)} className="p-2 text-gray-400 hover:text-brand">
                                                                <Icons.Edit size={16}/>
                                                            </button>
                                                            <button onClick={() => handleDelete(m.id)} className="p-2 text-gray-400 hover:text-red-500">
                                                                <Icons.Trash size={16}/>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            )}
                            {activeTab === 'seminars' && (<div><div className="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"><h3 className="font-bold text-dark">ë“±ë¡ëœ í”„ë¡œê·¸ë¨ ({seminars.length}ê°œ)</h3><button onClick={() => openModal('seminar')} className="flex items-center gap-2 bg-brand text-white text-sm font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"><Icons.Plus size={16} /> í”„ë¡œê·¸ë¨ ë“±ë¡</button></div><div className="overflow-x-auto"><table className="w-full text-left"><thead className="bg-gray-50 text-xs text-gray-500"><tr><th className="p-4">ì •ë³´</th><th className="p-4">ì¼ì‹œ / ì¥ì†Œ</th><th className="p-4">ìƒíƒœ</th><th className="p-4 text-right">ê´€ë¦¬</th></tr></thead><tbody>{seminars.map(s => (<tr key={s.id} className="border-b border-gray-50 hover:bg-gray-50"><td className="p-4 max-w-xs"><div className="flex items-center gap-2 mb-1"><span className="text-[10px] font-bold px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full">{s.category || 'ë¯¸ì§€ì •'}</span></div><div className="font-bold text-dark truncate">{s.title}</div><div className="text-xs text-gray-400 truncate">{s.desc}</div></td><td className="p-4"><div className="text-sm">{s.date}</div><div className="text-xs text-gray-400">{s.location}</div></td><td className="p-4"><span className={`text-xs px-2 py-1 rounded-full font-bold ${s.status === 'ëª¨ì§‘ì¤‘' ? 'bg-blue-100 text-blue-600' : s.status === 'ë§ˆê°ì„ë°•' ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-500'}`}>{s.status}</span></td><td className="p-4 text-right"><button onClick={() => openModal('seminar', s)} className="p-2 text-gray-400 hover:text-brand"><Icons.Edit size={16}/></button><button onClick={() => handleDelete(s.id)} className="p-2 text-gray-400 hover:text-red-500"><Icons.Trash size={16}/></button></td></tr>))}</tbody></table></div></div>)}
                            {activeTab === 'foods' && (<div><div className="p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center"><h3 className="font-bold text-dark">ë§›ì§‘ ì‹ ì²­ ëª©ë¡ ({foodList.length}ê°œ)</h3></div><div className="overflow-x-auto"><table className="w-full text-left"><thead className="bg-gray-50 text-xs text-gray-500"><tr><th className="p-4">ì •ë³´</th><th className="p-4">ì§€ì—­/ì£¼ì†Œ</th><th className="p-4">ì‚¬ì—…ìë²ˆí˜¸</th><th className="p-4">ìƒíƒœ</th><th className="p-4 text-right">ê´€ë¦¬</th></tr></thead><tbody>{foodList.map(item => (<tr key={item.id} className="border-b border-gray-50 hover:bg-gray-50"><td className="p-4 flex items-center gap-3"><img src={item.img || "https://placehold.co/100"} className="w-12 h-12 rounded-lg object-cover bg-gray-200" /><div><div className="font-bold text-dark">{item.title}</div><div className="text-xs text-gray-500">{item.category}</div></div></td><td className="p-4"><div className="text-sm font-bold text-gray-700">{item.region}</div><div className="text-xs text-gray-500 truncate max-w-[150px]">{item.address}</div></td><td className="p-4 text-sm text-gray-600">{item.businessNum}</td><td className="p-4">{item.status === 'approved' ? <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-bold">ìŠ¹ì¸ë¨</span> : <span className="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded font-bold">ëŒ€ê¸°ì¤‘</span>}</td><td className="p-4 text-right">{item.status !== 'approved' && <button onClick={() => handleApproveFood(item.id)} className="px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 text-xs font-bold mr-2">ìŠ¹ì¸</button>}<button onClick={() => handleRejectFood(item.id)} className="px-3 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-xs font-bold">ì‚­ì œ</button></td></tr>))}</tbody></table></div></div>)}
                            {activeTab === 'community' && (<div><div className="p-6 border-b border-gray-100 bg-gray-50/50"><h3 className="font-bold text-dark">ì»¤ë®¤ë‹ˆí‹° ê¸€ ê´€ë¦¬ ({posts.length}ê°œ)</h3></div><div className="overflow-x-auto"><table className="w-full text-left"><thead className="bg-gray-50 text-xs text-gray-500"><tr><th className="p-4">ë¶„ë¥˜</th><th className="p-4">ì œëª©</th><th className="p-4">ì‘ì„±ì</th><th className="p-4">ë¹„ë°€ê¸€</th><th className="p-4 text-right">ê´€ë¦¬</th></tr></thead><tbody>{posts.map(p => (<tr key={p.id} className="border-b border-gray-50 hover:bg-gray-50"><td className="p-4"><span className="text-xs px-2 py-1 bg-gray-100 rounded text-gray-600">{p.category}</span></td><td className="p-4 font-bold text-dark">{p.title}</td><td className="p-4 text-sm text-gray-600">{p.author}</td><td className="p-4">{p.isSecret ? <Icons.Lock size={14} className="text-red-400"/> : <span className="text-gray-300">-</span>}</td><td className="p-4 text-right"><button onClick={() => handleDelete(p.id)} className="px-3 py-1 bg-red-50 text-red-500 rounded hover:bg-red-100 text-xs font-bold">ì‚­ì œ</button></td></tr>))}</tbody></table></div></div>)}
                            {activeTab === 'content' && (
                                <div>
                                    <div className="p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center">
                                        <h3 className="font-bold text-dark flex items-center gap-2"><Icons.Edit className="text-brand"/> ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸ ìˆ˜ì •</h3>
                                    </div>
                                    <div className="p-6 space-y-6">
                                        {/* íˆì–´ë¡œ ì„¹ì…˜ */}
                                        <div className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-blue-200">
                                            <h4 className="text-lg font-bold text-blue-700 mb-4">íˆì–´ë¡œ ì„¹ì…˜</h4>
                                            <div className="space-y-4">
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">ë©”ì¸ íƒ€ì´í‹€ (ì¤„ë°”ê¿ˆ: \n)</label>
                                                    <textarea
                                                        className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors h-24 resize-none text-sm"
                                                        value={content.hero_title}
                                                        onChange={(e) => setContent({...content, hero_title: e.target.value})}
                                                        placeholder="í•¨ê»˜ ì„±ì¥í•˜ëŠ”\nì²­ë…„ ì‚¬ì—…ê°€ ì»¤ë®¤ë‹ˆí‹°\në¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">íˆì–´ë¡œ ì„¤ëª…</label>
                                                    <textarea
                                                        className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors h-20 resize-none text-sm"
                                                        value={content.hero_desc}
                                                        onChange={(e) => setContent({...content, hero_desc: e.target.value})}
                                                        placeholder="ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì´ ëª¨ì—¬ ì•„ì´ë””ì–´ë¥¼ ê³µìœ í•˜ê³ , ë„¤íŠ¸ì›Œí‚¹í•˜ë©° í•¨ê»˜ ì„±ì¥í•´ë‚˜ê°€ëŠ” ê³µê°„ì…ë‹ˆë‹¤."
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* í†µê³„ ì„¹ì…˜ */}
                                        <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border-2 border-green-200">
                                            <h4 className="text-lg font-bold text-green-700 mb-4">í†µê³„ ì„¹ì…˜</h4>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 1 - ê°’</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_1_val} onChange={(e) => setContent({...content, stat_1_val: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 1 - ì„¤ëª…</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_1_desc} onChange={(e) => setContent({...content, stat_1_desc: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 2 - ê°’</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_2_val} onChange={(e) => setContent({...content, stat_2_val: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 2 - ì„¤ëª…</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_2_desc} onChange={(e) => setContent({...content, stat_2_desc: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 3 - ê°’</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_3_val} onChange={(e) => setContent({...content, stat_3_val: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 3 - ì„¤ëª…</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_3_desc} onChange={(e) => setContent({...content, stat_3_desc: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 4 - ê°’</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_4_val} onChange={(e) => setContent({...content, stat_4_val: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">í†µê³„ 4 - ì„¤ëª…</label>
                                                    <input type="text" className="w-full p-3 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.stat_4_desc} onChange={(e) => setContent({...content, stat_4_desc: e.target.value})} />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* CTA ì„¹ì…˜ */}
                                        <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200">
                                            <h4 className="text-lg font-bold text-purple-700 mb-4">CTA ì„¹ì…˜ (í›„ì› ì„¹ì…˜)</h4>
                                            <div className="space-y-4">
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">CTA íƒ€ì´í‹€</label>
                                                    <input type="text" className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm" value={content.cta_title} onChange={(e) => setContent({...content, cta_title: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-gray-700 mb-2">CTA ì„¤ëª…</label>
                                                    <textarea
                                                        className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors h-24 resize-none text-sm"
                                                        value={content.cta_desc}
                                                        onChange={(e) => setContent({...content, cta_desc: e.target.value})}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="flex justify-end gap-3 pt-4 border-t border-gray-200">
                                            <button
                                                type="button"
                                                onClick={() => {
                                                    setContent(defaultContent);
                                                    alert('ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
                                                }}
                                                className="px-6 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors"
                                            >
                                                ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
                                            </button>
                                            <button
                                                type="button"
                                                onClick={() => {
                                                    addLog('UPDATE', 'ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸', `${adminName}ë‹˜ì´ ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.`, adminName, 'ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸');
                                                    alert('ë©”ì¸í˜ì´ì§€ í…ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                                                }}
                                                className="px-6 py-3 bg-brand text-white font-bold rounded-xl hover:bg-blue-700 transition-colors"
                                            >
                                                ì €ì¥í•˜ê¸°
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            )}
                            {activeTab === 'menu' && (
                                <div>
                                    <div className="p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center">
                                        <h3 className="font-bold text-dark flex items-center gap-2">
                                            <Icons.Menu className="text-brand"/> ìƒë‹¨ ë©”ë‰´ ê´€ë¦¬
                                        </h3>
                                    </div>
                                    <div className="p-6">
                                        <p className="text-sm text-gray-600 mb-6">ê° ë©”ë‰´ í•­ëª©ì˜ í™œì„±/ë¹„í™œì„± ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹„í™œì„±í™”ëœ ë©”ë‰´ëŠ” ìƒë‹¨ ë©”ë‰´ ë²„íŠ¼ ì•„ë˜ì— "ì¤€ë¹„ì¤‘" ë²„íŠ¼ì´ í‘œì‹œë˜ë©°, í•´ë‹¹ ë©”ë‰´ì˜ ì„¹ì…˜ê³¼ ë·°ê°€ ëª¨ë‘ ìˆ¨ê²¨ì§‘ë‹ˆë‹¤.</p>
                                        <div className="space-y-4">
                                            {['í™ˆ', 'ì†Œê°œ', 'í”„ë¡œê·¸ë¨', 'ë¶€ì²­ì‚¬ íšŒì›', 'ë¶€ì‚°ë§›ì§‘ë“±ë¡', 'ì»¤ë®¤ë‹ˆí‹°', 'í›„ì›'].map((menuItem) => (
                                                <div key={menuItem} className="flex items-center justify-between p-4 bg-white rounded-xl border border-gray-200 hover:border-brand/30 transition-colors">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-lg font-bold text-dark">{menuItem}</span>
                                                        {!menuEnabled[menuItem] && (
                                                            <span className="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded">ì¤€ë¹„ì¤‘</span>
                                                        )}
                                                    </div>
                                                    <label className="relative inline-flex items-center cursor-pointer">
                                                        <input
                                                            type="checkbox"
                                                            checked={menuEnabled[menuItem]}
                                                            onChange={(e) => {
                                                                const newMenuEnabled = { ...menuEnabled, [menuItem]: e.target.checked };
                                                                setMenuEnabled(newMenuEnabled);
                                                                addLog('UPDATE', 'ìƒë‹¨ ë©”ë‰´', `${adminName}ë‹˜ì´ "${menuItem}" ë©”ë‰´ë¥¼ ${e.target.checked ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”'}í–ˆìŠµë‹ˆë‹¤.`, adminName, `ë©”ë‰´: ${menuItem}, ìƒíƒœ: ${e.target.checked ? 'í™œì„±' : 'ë¹„í™œì„±'}`);
                                                            }}
                                                            className="sr-only peer"
                                                        />
                                                        <div className="w-14 h-7 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-brand"></div>
                                                    </label>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl">
                                            <p className="text-sm text-blue-700">
                                                <strong>ì°¸ê³ :</strong> ë¹„í™œì„±í™”ëœ ë©”ë‰´ëŠ” ìƒë‹¨ ë©”ë‰´ ë²„íŠ¼ ì•„ë˜ì— "ì¤€ë¹„ì¤‘" ë²„íŠ¼ì´ í‘œì‹œë˜ë©°, í•´ë‹¹ ë©”ë‰´ì™€ ê´€ë ¨ëœ ëª¨ë“  ì„¹ì…˜ì´ í™ˆ í™”ë©´ì—ì„œ ìˆ¨ê²¨ì§‘ë‹ˆë‹¤. ë¹„í™œì„±í™”ëœ ë©”ë‰´ë¥¼ í´ë¦­í•˜ë©´ "ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤" ì•Œë¦¼ì´ í‘œì‹œë©ë‹ˆë‹¤.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            )}
                            {activeTab === 'logs' && (<div><div className="p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center"><h3 className="font-bold text-dark flex items-center gap-2"><Icons.List className="text-brand"/> ê´€ë¦¬ì í™œë™ ê¸°ë¡</h3><span className="text-xs bg-red-100 text-red-600 px-2 py-1 rounded font-bold">Master Only</span></div><div className="overflow-x-auto"><table className="w-full text-left"><thead className="bg-gray-50 text-xs text-gray-500"><tr><th className="p-4">ì¼ì‹œ</th><th className="p-4">ê´€ë¦¬ì</th><th className="p-4">ì‘ì—…</th><th className="p-4">ëŒ€ìƒ</th><th className="p-4">ìƒì„¸ ë‚´ìš©</th><th className="p-4">í•­ëª© ì •ë³´</th></tr></thead><tbody>{logs && logs.length > 0 ? logs.slice().reverse().map((log, idx) => (<tr key={idx} className="border-b border-gray-50 hover:bg-gray-50"><td className="p-4 text-xs text-gray-500">{log.timestamp}</td><td className="p-4"><span className="text-xs font-bold text-brand bg-brand/10 px-2 py-1 rounded">{log.adminName || 'ì‹œìŠ¤í…œ'}</span></td><td className="p-4"><span className={`text-xs px-2 py-1 rounded font-bold ${log.action === 'CREATE' ? 'bg-green-100 text-green-700' : log.action === 'UPDATE' ? 'bg-blue-100 text-blue-700' : 'bg-red-100 text-red-700'}`}>{log.action}</span></td><td className="p-4 text-sm font-bold text-gray-700">{log.targetType}</td><td className="p-4 text-sm text-gray-600">{log.details}</td><td className="p-4 text-xs text-gray-500 max-w-xs truncate" title={log.itemInfo}>{log.itemInfo || '-'}</td></tr>)) : <tr><td colSpan="6" className="p-10 text-center text-gray-400">ê¸°ë¡ëœ í™œë™ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>}</tbody></table></div></div>)}
                        </div>
                    </div>
                    {showMasterLogin && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setShowMasterLogin(false); }}>
                            <div className="absolute inset-0 bg-gradient-to-br from-black/70 via-gray-900/80 to-black/70 backdrop-blur-md"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md z-10 p-8 text-center relative border-[0.5px] border-brand" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowMasterLogin(false); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <div className="w-20 h-20 bg-gradient-to-br from-gray-800 to-black rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-gray-900/50">
                                    <Icons.Lock size={28} className="text-white" />
                                </div>
                                <h3 className="text-2xl font-bold text-dark mb-2">ë§ˆìŠ¤í„° ê¶Œí•œ í•„ìš”</h3>
                                <p className="text-sm text-gray-600 mb-6">ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br/>ë¹„ë°€ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
                                <input type="password" className="w-full p-4 border-2 border-gray-200 rounded-2xl text-center font-bold mb-6 focus:border-gray-800 focus:outline-none transition-colors bg-gray-50" value={masterPwInput} onChange={e => setMasterPwInput(e.target.value)} placeholder="Master Code" autoFocus />
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleMasterLogin(); }} className="w-full py-4 bg-gradient-to-r from-gray-800 to-black text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-gray-900/30 transition-all text-lg">
                                    í™•ì¸
                                </button>
                            </div>
                        </div>
                    )}
                    {isModalOpen && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setIsModalOpen(false); }}>
                            <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative border-[0.5px] border-brand" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setIsModalOpen(false); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <div className="text-center mb-8">
                                    <div className={`w-16 h-16 ${activeTab === 'members' ? 'bg-gradient-to-br from-purple-400 to-indigo-500' : 'bg-gradient-to-br from-blue-400 to-cyan-500'} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg ${activeTab === 'members' ? 'shadow-purple-500/30' : 'shadow-blue-500/30'}`}>
                                        {activeTab === 'members' ? <Icons.Users className="w-8 h-8 text-white" /> : <Icons.Calendar className="w-8 h-8 text-white" />}
                                    </div>
                                    <h3 className="text-3xl font-bold text-dark mb-2">{editingItem ? 'ìˆ˜ì •í•˜ê¸°' : 'ìƒˆë¡œ ë“±ë¡í•˜ê¸°'}</h3>
                                    <p className="text-sm text-gray-500">{activeTab === 'members' ? 'íšŒì› ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”' : 'í”„ë¡œê·¸ë¨ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'}</p>
                                </div>
                                <div className="space-y-5">
                                    {activeTab === 'members' ? (
                                        <>
                                            {/* PortOne ë³¸ì¸ì¸ì¦ ì •ë³´ ì‹œê°í™” (ìˆ˜ì • ëª¨ë“œì¼ ë•Œë§Œ) */}
                                            {editingItem && editingItem.isIdentityVerified && (
                                                <div className="bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-5 mb-5">
                                                    <div className="flex items-center gap-3 mb-4">
                                                        <div className="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                                            <Icons.CheckCircle className="w-6 h-6 text-white" />
                                                        </div>
                                                        <div>
                                                            <h4 className="font-bold text-green-700">PortOne ë³¸ì¸ì¸ì¦ ì™„ë£Œ</h4>
                                                            <p className="text-xs text-green-600">ì¸ì¦ëœ ê°œì¸ì •ë³´</p>
                                                        </div>
                                                    </div>
                                                    <div className="grid grid-cols-2 gap-3">
                                                        <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-1">ì¸ì¦ëœ ì´ë¦„</div>
                                                            <div className="font-bold text-sm text-dark">{editingItem.verifiedName || editingItem.name}</div>
                                                        </div>
                                                        <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                            <div className="text-xs text-gray-500 mb-1">ì¸ì¦ëœ ì „í™”ë²ˆí˜¸</div>
                                                            <div className="font-bold text-sm text-dark">{editingItem.verifiedPhone || editingItem.phone || '-'}</div>
                                                        </div>
                                                        {editingItem.verifiedBirthday && (
                                                            <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                                <div className="text-xs text-gray-500 mb-1">ìƒë…„ì›”ì¼</div>
                                                                <div className="font-bold text-sm text-dark">
                                                                    {editingItem.verifiedBirthday.replace(/(\d{4})(\d{2})(\d{2})/, '$1ë…„ $2ì›” $3ì¼')}
                                                                </div>
                                                            </div>
                                                        )}
                                                        {editingItem.verifiedGender && (
                                                            <div className="bg-white/80 rounded-lg p-3 border border-green-100">
                                                                <div className="text-xs text-gray-500 mb-1">ì„±ë³„</div>
                                                                <div className="font-bold text-sm text-dark">{editingItem.verifiedGender === 'M' ? 'ë‚¨ì„±' : 'ì—¬ì„±'}</div>
                                                            </div>
                                                        )}
                                                    </div>
                                                    {editingItem.impUid && (
                                                        <div className="mt-3 pt-3 border-t border-green-200">
                                                            <div className="flex items-center justify-between">
                                                                <span className="text-xs text-gray-500">ì¸ì¦ ê±°ë˜ë²ˆí˜¸</span>
                                                                <span className="text-xs font-mono text-gray-600 bg-white px-2 py-1 rounded">{editingItem.impUid.substring(0, 16)}...</span>
                                                            </div>
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                            
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì´ë¦„</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.name} onChange={e=>setFormData({...formData, name:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">íšŒì‚¬ëª…</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.company} onChange={e=>setFormData({...formData, company:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì§ì±…</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì§ì±…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.role} onChange={e=>setFormData({...formData, role:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì—…ì¢…</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì—…ì¢…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.industry} onChange={e=>setFormData({...formData, industry:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì´ë¯¸ì§€ URL</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.img} onChange={e=>setFormData({...formData, img:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">íšŒì›ë“±ê¸‰</label>
                                                <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.memberGrade || ''} onChange={e=>{
                                                    const selectedGrade = e.target.value;
                                                    // íŒŒíŠ¸ë„ˆì‚¬ëŠ” í›„ì›í•œ ì‚¬ëŒë§Œ ë°›ì„ ìˆ˜ ìˆìŒ
                                                    if (selectedGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && !formData.hasDonated) {
                                                        alert('íŒŒíŠ¸ë„ˆì‚¬ ë“±ê¸‰ì€ í›„ì›í•œ íšŒì›ë§Œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                                                        return;
                                                    }
                                                    setFormData({...formData, memberGrade: selectedGrade});
                                                }}>
                                                    <option value="">ë“±ê¸‰ ì„ íƒ ì•ˆí•¨</option>
                                                    <option value="íŒŒíŠ¸ë„ˆì‚¬" disabled={!formData.hasDonated}>íŒŒíŠ¸ë„ˆì‚¬ {!formData.hasDonated ? '(í›„ì› íšŒì›ë§Œ)' : ''}</option>
                                                    <option value="ìš´ì˜ì§„">ìš´ì˜ì§„ (ê´€ë¦¬ì ì§€ì •)</option>
                                                    <option value="ì‚¬ì—…ì">ì‚¬ì—…ì</option>
                                                    <option value="ì˜ˆì°½">ì˜ˆì°½</option>
                                                </select>
                                                {formData.memberGrade === 'íŒŒíŠ¸ë„ˆì‚¬' && !formData.hasDonated && (
                                                    <p className="text-xs text-red-500 mt-1">íŒŒíŠ¸ë„ˆì‚¬ ë“±ê¸‰ì€ í›„ì›í•œ íšŒì›ë§Œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                                                )}
                                            </div>
                                        </>
                                    ) : (
                                        <>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì¹´í…Œê³ ë¦¬</label>
                                                <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.category} onChange={e=>setFormData({...formData, category:e.target.value})}>
                                                    <option value="êµìœ¡/ì„¸ë¯¸ë‚˜">êµìœ¡/ì„¸ë¯¸ë‚˜</option>
                                                    <option value="ë„¤íŠ¸ì›Œí‚¹/ëª¨ì„">ë„¤íŠ¸ì›Œí‚¹/ëª¨ì„</option>
                                                    <option value="ì •ëª¨">ì •ëª¨</option>
                                                    <option value="íˆ¬ì/IR">íˆ¬ì/IR</option>
                                                    <option value="ë©˜í† ë§/ìƒë‹´">ë©˜í† ë§/ìƒë‹´</option>
                                                    <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">í”„ë¡œê·¸ë¨ ì œëª©</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="í”„ë¡œê·¸ë¨ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.title} onChange={e=>setFormData({...formData, title:e.target.value})}/>
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-xs font-bold text-gray-600 mb-2">ë‚ ì§œ</label>
                                                    <input type="date" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" value={formData.date} onChange={e=>setFormData({...formData, date:e.target.value})}/>
                                                </div>
                                                <div>
                                                    <label className="block text-xs font-bold text-gray-600 mb-2">ìµœëŒ€ ëª¨ì§‘ ì¸ì›</label>
                                                    <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.maxParticipants} onChange={e=>setFormData({...formData, maxParticipants: parseInt(e.target.value)})}>
                                                        {[...Array(20)].map((_, i) => (<option key={i} value={(i+1)*10}>{(i+1)*10}ëª…</option>))}
                                                    </select>
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì¥ì†Œ</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì¥ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" value={formData.location} onChange={e=>setFormData({...formData, location:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì„¤ëª…</label>
                                                <textarea className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors h-24 resize-none" placeholder="í”„ë¡œê·¸ë¨ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.desc} onChange={e=>setFormData({...formData, desc:e.target.value})}/>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì´ë¯¸ì§€ URL</label>
                                                <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.img} onChange={e=>setFormData({...formData, img:e.target.value})}/>
                                            </div>
                                        </>
                                    )}
                                </div>
                                <div className="flex gap-4 mt-8">
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setIsModalOpen(false); }} className="flex-1 py-4 bg-gray-100 text-gray-700 font-bold rounded-2xl hover:bg-gray-200 transition-all">
                                        ì·¨ì†Œ
                                    </button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleSubmit(); }} className="flex-1 py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all">
                                        ì €ì¥
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const CommunityView = ({ onBack, posts, onCreate, onDelete, isAdmin, currentUser, onNotifyAdmin, seminars = [] }) => {
            const [selectedPost, setSelectedPost] = useState(null);
            const [showCreateModal, setShowCreateModal] = useState(false);
            const [passwordInput, setPasswordInput] = useState('');
            const [showPasswordModal, setShowPasswordModal] = useState(false);
            const [postToDelete, setPostToDelete] = useState(null);
            const [formData, setFormData] = useState({ category: 'ì¸ë ¥êµ¬ì¸', title: '', content: '', isSecret: false, password: '' });
            const [reviewRating, setReviewRating] = useState(0);
            const [reviewImages, setReviewImages] = useState([]);
            const [activeTab, setActiveTab] = useState('all'); // 'all' or 'reviews'
            const [selectedSeminarFilter, setSelectedSeminarFilter] = useState('ì „ì²´');
            const [selectedCategory, setSelectedCategory] = useState('ì „ì²´'); // ì¹´í…Œê³ ë¦¬ í•„í„°
            const [commentInput, setCommentInput] = useState({});
            const [likedPosts, setLikedPosts] = useState(new Set());
            const [showIdentityVerification, setShowIdentityVerification] = useState(false);
            const [pendingPostData, setPendingPostData] = useState(null);

            const handleCreatePost = () => {
                // ëª¨ë“  ê¸€ ì‘ì„±ì€ íšŒì›ë§Œ ê°€ëŠ¥
                if (!currentUser) {
                    return alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                }
                
                if (!formData.title || !formData.content) return alert("ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                
                // ê³µì§€ì‚¬í•­ì€ ê´€ë¦¬ìë§Œ ì‘ì„± ê°€ëŠ¥
                if (formData.category === 'ê³µì§€ì‚¬í•­' && !isAdmin) {
                    return alert("ê³µì§€ì‚¬í•­ì€ ê´€ë¦¬ìë§Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                }
                
                // ì‚¬ì—…ì ì „ìš© í• ì¸ìƒí’ˆì€ ì „ììƒê±°ë˜ ì‚¬ì—…ìë§Œ ì‘ì„± ê°€ëŠ¥
                if (formData.category === 'ì‚¬ì—…ì ì „ìš©í• ì¸ìƒí’ˆ ì •ë³´') {
                    const isEcommerceBusiness = currentUser.businessCategory && (
                        currentUser.businessCategory.includes('ì „ììƒê±°ë˜') || 
                        currentUser.businessCategory.includes('ì˜¨ë¼ì¸ì‡¼í•‘') ||
                        currentUser.businessCategory.includes('ì¸í„°ë„·ì‡¼í•‘ëª°') ||
                        currentUser.businessCategory === 'ì „ììƒê±°ë˜ì—…' ||
                        currentUser.businessCategory.includes('e-commerce')
                    );
                    if (!isEcommerceBusiness) {
                        return alert("ì‚¬ì—…ì ì „ìš© í• ì¸ìƒí’ˆ ì •ë³´ëŠ” ì „ììƒê±°ë˜ ì‚¬ì—…ìë§Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                    }
                }
                
                // ì¤‘ê³ ê±°ë˜ëŠ” ë³¸ì¸ì¸ì¦ í•„ìš”
                if (formData.category === 'ì¤‘ê³ ê±°ë˜') {
                    if (!currentUser.isIdentityVerified) {
                        setPendingPostData({ ...formData });
                        setShowIdentityVerification(true);
                        return;
                    }
                }
                
                // ê±´ì˜ì‚¬í•­ì€ í•­ìƒ ë¹„ê³µê°œë¡œ ì²˜ë¦¬
                const finalFormData = { ...formData };
                if (finalFormData.category === 'ê±´ì˜ì‚¬í•­') {
                    finalFormData.isSecret = true;
                    finalFormData.password = finalFormData.password || '1234'; // ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸
                }
                
                if (finalFormData.isSecret && !finalFormData.password) return alert("ë¹„ë°€ê¸€ì€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                
                const newPost = {
                    id: Date.now(),
                    ...finalFormData,
                    author: currentUser ? currentUser.name : 'ìµëª…',
                    date: new Date().toLocaleDateString('ko-KR', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\./g, '.').replace(/\s/g, ''),
                    views: 0,
                    reply: null,
                    isPublic: finalFormData.category !== 'ê±´ì˜ì‚¬í•­', // ê±´ì˜ì‚¬í•­ì€ ê³µê°œ í‘œì‹œ ì•ˆë¨
                    rating: finalFormData.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' ? reviewRating : null, // í”„ë¡œê·¸ë¨ í›„ê¸° ë³„ì 
                    images: finalFormData.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' ? reviewImages : [], // í”„ë¡œê·¸ë¨ í›„ê¸° ì‚¬ì§„
                    likes: 0, // ì¢‹ì•„ìš” ìˆ˜
                    comments: [], // ëŒ“ê¸€ ëª©ë¡
                    seminarTitle: finalFormData.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' ? (finalFormData.seminarTitle || null) : null // í”„ë¡œê·¸ë¨ ì œëª©
                };
                
                onCreate(newPost);
                
                // ê±´ì˜ì‚¬í•­ ì‘ì„± ì‹œ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼
                if (finalFormData.category === 'ê±´ì˜ì‚¬í•­' && onNotifyAdmin) {
                    onNotifyAdmin({
                        type: 'ê±´ì˜ì‚¬í•­',
                        title: finalFormData.title,
                        author: currentUser ? currentUser.name : 'ìµëª…',
                        date: newPost.date
                    });
                }
                
                setShowCreateModal(false);
                setFormData({ category: 'ì¸ë ¥êµ¬ì¸', title: '', content: '', isSecret: false, password: '', seminarTitle: '' });
                setReviewRating(0);
                setReviewImages([]);
            };

            const handleImageUpload = (e) => {
                const files = Array.from(e.target.files);
                if (files.length + reviewImages.length > 5) {
                    alert("ìµœëŒ€ 5ì¥ê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                    return;
                }
                files.forEach(file => {
                    if (file.size > 5 * 1024 * 1024) {
                        alert(`${file.name} íŒŒì¼ í¬ê¸°ëŠ” 5MB ì´í•˜ë¡œ ì œí•œë©ë‹ˆë‹¤.`);
                        return;
                    }
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setReviewImages(prev => [...prev, reader.result]);
                    };
                    reader.readAsDataURL(file);
                });
            };

            const handleDeleteClick = (post) => {
                if (post.isSecret) {
                    setPostToDelete(post);
                    setShowPasswordModal(true);
                } else {
                    if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                        onDelete(post.id);
                    }
                }
            };

            const handlePasswordSubmit = () => {
                if (postToDelete && passwordInput === postToDelete.password) {
                    onDelete(postToDelete.id);
                    setShowPasswordModal(false);
                    setPasswordInput('');
                    setPostToDelete(null);
                } else {
                    alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-4xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <div>
                                <h2 className="text-3xl font-bold text-dark mb-2">ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ</h2>
                                <p className="text-gray-500 text-sm">ë¶€ì²­ì‚¬ íšŒì›ë“¤ê³¼ ì •ë³´ë¥¼ ê³µìœ í•˜ê³  ì†Œí†µí•˜ì„¸ìš”</p>
                            </div>
                            <div className="flex gap-2">
                                <button type="button" onClick={(e) => { 
                                    e.preventDefault(); 
                                    e.stopPropagation(); 
                                    if (!currentUser) {
                                        alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                                        return;
                                    }
                                    setShowCreateModal(true); 
                                }} className="flex items-center gap-2 bg-brand text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-brand/20">
                                    <Icons.Plus size={20} /> ê¸€ì“°ê¸°
                                </button>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors">
                                    <Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ
                                </button>
                            </div>
                        </div>

                        {/* íƒ­ ë©”ë‰´ */}
                        <div className="flex gap-2 mb-6 border-b border-gray-200 pb-2">
                            <button
                                type="button"
                                onClick={() => { setActiveTab('all'); setSelectedSeminarFilter('ì „ì²´'); }}
                                className={`px-6 py-3 font-bold transition-colors relative ${
                                    activeTab === 'all' ? 'text-brand' : 'text-gray-400 hover:text-gray-600'
                                }`}
                            >
                                ì „ì²´
                                {activeTab === 'all' && <div className="absolute bottom-0 left-0 w-full h-1 bg-brand rounded-t-full"></div>}
                            </button>
                            <button
                                type="button"
                                onClick={() => setActiveTab('reviews')}
                                className={`px-6 py-3 font-bold transition-colors relative ${
                                    activeTab === 'reviews' ? 'text-brand' : 'text-gray-400 hover:text-gray-600'
                                }`}
                            >
                                í›„ê¸° ëª¨ì•„ë³´ê¸°
                                {activeTab === 'reviews' && <div className="absolute bottom-0 left-0 w-full h-1 bg-brand rounded-t-full"></div>}
                            </button>
                        </div>

                        {/* ì¹´í…Œê³ ë¦¬ í•„í„° (ì „ì²´ íƒ­ì¼ ë•Œ í‘œì‹œ) */}
                        {activeTab === 'all' && (() => {
                            const categories = ['ì „ì²´', 'ê³µì§€ì‚¬í•­', 'í”„ë¡œê·¸ë¨ í›„ê¸°', 'êµ¬ì¸êµ¬ì§', 'ì¤‘ê³ ê±°ë˜', 'ì‚¬ì—…ì ì „ìš©í• ì¸ìƒí’ˆ ì •ë³´', 'ê±´ì˜ì‚¬í•­', 'ê¸°íƒ€'];
                            const availableCategories = categories.filter(cat => {
                                if (cat === 'ì „ì²´') return true;
                                if (cat === 'ê³µì§€ì‚¬í•­' && !isAdmin) return false;
                                if (cat === 'ê±´ì˜ì‚¬í•­' && !isAdmin) return false;
                                return posts.some(p => p.category === cat);
                            });
                            
                            return (
                                <div className="mb-6">
                                    <label className="block text-sm font-bold text-gray-700 mb-2">ì¹´í…Œê³ ë¦¬ë³„ ë³´ê¸°</label>
                                    <div className="flex gap-2 flex-wrap">
                                        {availableCategories.map(category => (
                                            <button
                                                key={category}
                                                type="button"
                                                onClick={() => setSelectedCategory(category)}
                                                className={`px-4 py-2 rounded-xl font-bold text-sm transition-colors ${
                                                    selectedCategory === category
                                                        ? 'bg-brand text-white'
                                                        : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'
                                                }`}
                                            >
                                                {category}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            );
                        })()}

                        {/* í”„ë¡œê·¸ë¨ í•„í„° (í›„ê¸° íƒ­ì¼ ë•Œë§Œ í‘œì‹œ) */}
                        {activeTab === 'reviews' && (() => {
                            const reviewPosts = posts.filter(p => p.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°');
                            const seminarTitles = ['ì „ì²´', ...new Set(reviewPosts.map(p => p.seminarTitle).filter(Boolean))];
                            
                            return seminarTitles.length > 1 && (
                                <div className="mb-6">
                                    <label className="block text-sm font-bold text-gray-700 mb-2">í”„ë¡œê·¸ë¨ë³„ í•„í„°</label>
                                    <div className="flex gap-2 flex-wrap">
                                        {seminarTitles.map(title => (
                                            <button
                                                key={title}
                                                type="button"
                                                onClick={() => setSelectedSeminarFilter(title)}
                                                className={`px-4 py-2 rounded-xl font-bold text-sm transition-colors ${
                                                    selectedSeminarFilter === title
                                                        ? 'bg-brand text-white'
                                                        : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'
                                                }`}
                                            >
                                                {title}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            );
                        })()}

                        {posts.length > 0 ? (
                            <div className="space-y-4">
                                {posts.filter(post => {
                                    // ê±´ì˜ì‚¬í•­ì€ ê³µê°œ í‘œì‹œ ì•ˆë¨ (ê´€ë¦¬ìë§Œ ë³¼ ìˆ˜ ìˆìŒ)
                                    if (post.category === 'ê±´ì˜ì‚¬í•­' && !isAdmin) return false;
                                    
                                    // íƒ­ í•„í„°ë§
                                    if (activeTab === 'reviews' && post.category !== 'í”„ë¡œê·¸ë¨ í›„ê¸°') return false;
                                    if (activeTab === 'all' && post.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°') return false;
                                    
                                    // ì¹´í…Œê³ ë¦¬ í•„í„°ë§ (ì „ì²´ íƒ­ì¼ ë•Œ)
                                    if (activeTab === 'all' && selectedCategory !== 'ì „ì²´' && post.category !== selectedCategory) return false;
                                    
                                    // ì„¸ë¯¸ë‚˜ë³„ í•„í„°ë§ (í›„ê¸° íƒ­ì¼ ë•Œ)
                                    if (activeTab === 'reviews' && selectedSeminarFilter !== 'ì „ì²´' && post.seminarTitle !== selectedSeminarFilter) return false;
                                    
                                    return true;
                                }).map((post, idx) => (
                                    <div key={idx} className="bg-white rounded-3xl p-6 shadow-card hover:shadow-lg transition-all border border-transparent hover:border-brand/20 cursor-pointer" onClick={() => setSelectedPost(post)}>
                                        <div className="flex items-start justify-between mb-4">
                                            <div className="flex items-center gap-3">
                                                <span className="text-xs font-bold px-3 py-1 bg-brand/10 text-brand rounded-full">{post.category}</span>
                                                {post.isSecret && <Icons.Lock size={16} className="text-red-400" />}
                                            </div>
                                            <span className="text-xs text-gray-400">{post.date}</span>
                                        </div>
                                        <h3 className="text-xl font-bold text-dark mb-2">{post.title}</h3>
                                        {post.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && post.seminarTitle && (
                                            <p className="text-xs text-gray-500 mb-2">í”„ë¡œê·¸ë¨: {post.seminarTitle}</p>
                                        )}
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-4 text-sm text-gray-500">
                                                <span>{post.author}</span>
                                                <span>ì¡°íšŒ {post.views || 0}</span>
                                                <button
                                                    type="button"
                                                    onClick={(e) => {
                                                        e.stopPropagation();
                                                        const newLikedPosts = new Set(likedPosts);
                                                        if (newLikedPosts.has(post.id)) {
                                                            newLikedPosts.delete(post.id);
                                                            post.likes = (post.likes || 0) - 1;
                                                        } else {
                                                            newLikedPosts.add(post.id);
                                                            post.likes = (post.likes || 0) + 1;
                                                        }
                                                        setLikedPosts(newLikedPosts);
                                                    }}
                                                    className={`flex items-center gap-1 transition-colors ${
                                                        likedPosts.has(post.id) ? 'text-red-500' : 'text-gray-400 hover:text-red-500'
                                                    }`}
                                                >
                                                    <Icons.Star className={`w-4 h-4 ${likedPosts.has(post.id) ? 'fill-red-500' : ''}`} />
                                                    <span>{post.likes || 0}</span>
                                                </button>
                                                <button
                                                    type="button"
                                                    onClick={(e) => {
                                                        e.stopPropagation();
                                                        setSelectedPost(post);
                                                    }}
                                                    className="flex items-center gap-1 text-gray-400 hover:text-brand transition-colors"
                                                >
                                                    <Icons.MessageCircle className="w-4 h-4" />
                                                    <span>{(post.comments || []).length}</span>
                                                </button>
                                                {post.reply && <span className="text-brand font-bold">ë‹µë³€ì™„ë£Œ</span>}
                                            </div>
                                            {(isAdmin || (currentUser && post.author === currentUser.name)) && (
                                                <button type="button" onClick={(e) => { e.stopPropagation(); handleDeleteClick(post); }} className="text-red-400 hover:text-red-600 text-sm font-bold">
                                                    ì‚­ì œ
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        ) : (
                            <div className="text-center py-20 text-gray-500">
                                <p>ë“±ë¡ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}
                    </div>
                    {selectedPost && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setSelectedPost(null); }}>
                            <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setSelectedPost(null); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <div className="mb-6">
                                    <div className="flex items-center gap-3 mb-4">
                                        <span className="text-xs font-bold px-3 py-1 bg-brand/10 text-brand rounded-full">{selectedPost.category}</span>
                                        {selectedPost.isSecret && <Icons.Lock size={16} className="text-red-400" />}
                                    </div>
                                    <h3 className="text-2xl font-bold text-dark mb-4">{selectedPost.title}</h3>
                                    <div className="flex items-center gap-4 text-sm text-gray-500 mb-6">
                                        <span>{selectedPost.author}</span>
                                        <span>{selectedPost.date}</span>
                                        <span>ì¡°íšŒ {selectedPost.views}</span>
                                    </div>
                                    <div className="bg-soft p-6 rounded-2xl border border-brand/5">
                                        <p className="text-gray-700 leading-relaxed whitespace-pre-wrap">{selectedPost.content}</p>
                                    </div>
                                    {selectedPost.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && selectedPost.rating && (
                                        <div className="mt-4 flex items-center gap-2">
                                            <span className="text-sm font-bold text-gray-600">ë³„ì :</span>
                                            <div className="flex gap-1">
                                                {[1, 2, 3, 4, 5].map(star => (
                                                    selectedPost.rating >= star ? (
                                                        <Icons.Star key={star} className="w-5 h-5 text-yellow-400 fill-yellow-400" />
                                                    ) : (
                                                        <Icons.Star key={star} className="w-5 h-5 text-gray-300" />
                                                    )
                                                ))}
                                            </div>
                                            <span className="text-sm text-gray-500">({selectedPost.rating}/5)</span>
                                        </div>
                                    )}
                                    {selectedPost.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && selectedPost.images && selectedPost.images.length > 0 && (
                                        <div className="mt-4 grid grid-cols-2 gap-3">
                                            {selectedPost.images.map((img, idx) => (
                                                <img key={idx} src={img} alt={`í›„ê¸° ì‚¬ì§„ ${idx + 1}`} className="w-full h-48 object-cover rounded-xl" />
                                            ))}
                                        </div>
                                    )}
                                    {selectedPost.reply && (
                                        <div className="mt-6 bg-brand/5 p-6 rounded-2xl border border-brand/20">
                                            <div className="flex items-center gap-2 mb-2">
                                                <Icons.MessageCircle size={16} className="text-brand" />
                                                <span className="font-bold text-brand">ê´€ë¦¬ì ë‹µë³€</span>
                                            </div>
                                            <p className="text-gray-700">{selectedPost.reply}</p>
                                        </div>
                                    )}

                                    {/* ì¢‹ì•„ìš” ë²„íŠ¼ */}
                                    <div className="mt-6 flex items-center gap-4">
                                        <button
                                            type="button"
                                            onClick={(e) => {
                                                e.preventDefault();
                                                e.stopPropagation();
                                                const newLikedPosts = new Set(likedPosts);
                                                if (newLikedPosts.has(selectedPost.id)) {
                                                    newLikedPosts.delete(selectedPost.id);
                                                    selectedPost.likes = (selectedPost.likes || 0) - 1;
                                                } else {
                                                    newLikedPosts.add(selectedPost.id);
                                                    selectedPost.likes = (selectedPost.likes || 0) + 1;
                                                }
                                                setLikedPosts(newLikedPosts);
                                            }}
                                            className={`flex items-center gap-2 px-4 py-2 rounded-xl transition-colors ${
                                                likedPosts.has(selectedPost.id)
                                                    ? 'bg-red-50 text-red-500'
                                                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                            }`}
                                        >
                                            <Icons.Star className={`w-5 h-5 ${likedPosts.has(selectedPost.id) ? 'fill-red-500' : ''}`} />
                                            <span className="font-bold">{selectedPost.likes || 0}</span>
                                        </button>
                                    </div>

                                    {/* ëŒ“ê¸€ ì„¹ì…˜ */}
                                    <div className="mt-6 border-t border-gray-200 pt-6">
                                        <h4 className="text-lg font-bold text-dark mb-4 flex items-center gap-2">
                                            <Icons.MessageCircle size={18} className="text-brand" />
                                            ëŒ“ê¸€ ({(selectedPost.comments || []).length})
                                        </h4>
                                        
                                        {/* ëŒ“ê¸€ ëª©ë¡ */}
                                        {selectedPost.comments && selectedPost.comments.length > 0 && (
                                            <div className="space-y-4 mb-4">
                                                {selectedPost.comments.map((comment) => (
                                                    <div key={comment.id} className="bg-gray-50 p-4 rounded-xl">
                                                        <div className="flex items-center justify-between mb-2">
                                                            <span className="font-bold text-sm text-dark">{comment.author}</span>
                                                            <span className="text-xs text-gray-500">{comment.date}</span>
                                                        </div>
                                                        <p className="text-gray-700 text-sm">{comment.content}</p>
                                                    </div>
                                                ))}
                                            </div>
                                        )}

                                        {/* ëŒ“ê¸€ ì‘ì„± */}
                                        {currentUser ? (
                                            <div className="flex gap-2">
                                                <input
                                                    type="text"
                                                    placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."
                                                    className="flex-1 p-3 border-2 border-gray-200 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm"
                                                    value={commentInput[selectedPost.id] || ''}
                                                    onChange={(e) => setCommentInput({...commentInput, [selectedPost.id]: e.target.value})}
                                                    onKeyPress={(e) => {
                                                        if (e.key === 'Enter' && commentInput[selectedPost.id]) {
                                                            const newComment = {
                                                                id: Date.now(),
                                                                author: currentUser.name,
                                                                content: commentInput[selectedPost.id],
                                                                date: new Date().toLocaleDateString('ko-KR', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\./g, '.').replace(/\s/g, '')
                                                            };
                                                            if (!selectedPost.comments) selectedPost.comments = [];
                                                            selectedPost.comments.push(newComment);
                                                            setCommentInput({...commentInput, [selectedPost.id]: ''});
                                                        }
                                                    }}
                                                />
                                                <button
                                                    type="button"
                                                    onClick={(e) => {
                                                        e.preventDefault();
                                                        e.stopPropagation();
                                                        if (!commentInput[selectedPost.id]) return;
                                                        const newComment = {
                                                            id: Date.now(),
                                                            author: currentUser.name,
                                                            content: commentInput[selectedPost.id],
                                                            date: new Date().toLocaleDateString('ko-KR', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\./g, '.').replace(/\s/g, '')
                                                        };
                                                        if (!selectedPost.comments) selectedPost.comments = [];
                                                        selectedPost.comments.push(newComment);
                                                        setCommentInput({...commentInput, [selectedPost.id]: ''});
                                                    }}
                                                    className="px-4 py-3 bg-brand text-white font-bold rounded-xl hover:bg-blue-700 transition-colors"
                                                >
                                                    ë“±ë¡
                                                </button>
                                            </div>
                                        ) : (
                                            <p className="text-sm text-gray-500 text-center py-4">ëŒ“ê¸€ì„ ì‘ì„±í•˜ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                                        )}
                                    </div>

                                    {(isAdmin || (currentUser && selectedPost.author === currentUser.name)) && (
                                        <div className="mt-6 flex justify-end">
                                            <button type="button" onClick={(e) => { 
                                                e.preventDefault(); 
                                                e.stopPropagation(); 
                                                handleDeleteClick(selectedPost);
                                                setSelectedPost(null);
                                            }} className="px-4 py-2 bg-red-50 text-red-600 font-bold rounded-lg hover:bg-red-100 transition-colors flex items-center gap-2">
                                                <Icons.Trash size={16} />
                                                ì‚­ì œí•˜ê¸°
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                    {showCreateModal && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setShowCreateModal(false); }}>
                            <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 p-8 max-h-[90vh] overflow-y-auto modal-scroll relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowCreateModal(false); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <h3 className="text-2xl font-bold text-dark mb-6">ìƒˆ ê¸€ ì‘ì„±</h3>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-xs font-bold text-gray-600 mb-2">ì¹´í…Œê³ ë¦¬</label>
                                        <select className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white" value={formData.category} onChange={e => {
                                            const newCategory = e.target.value;
                                            setFormData({...formData, category: newCategory, isSecret: newCategory === 'ê±´ì˜ì‚¬í•­' ? true : formData.isSecret});
                                        }}>
                                            {isAdmin && <option>ê³µì§€ì‚¬í•­</option>}
                                            <option>í”„ë¡œê·¸ë¨ í›„ê¸°</option>
                                            <option>êµ¬ì¸êµ¬ì§</option>
                                            <option>ì¤‘ê³ ê±°ë˜</option>
                                            <option>ì‚¬ì—…ì ì „ìš©í• ì¸ìƒí’ˆ ì •ë³´</option>
                                            <option>ê±´ì˜ì‚¬í•­</option>
                                            <option>ê¸°íƒ€</option>
                                        </select>
                                        {formData.category === 'ê³µì§€ì‚¬í•­' && !isAdmin && (
                                            <p className="text-xs text-red-500 mt-1">ê³µì§€ì‚¬í•­ì€ ê´€ë¦¬ìë§Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                                        )}
                                        {formData.category === 'ê±´ì˜ì‚¬í•­' && (
                                            <p className="text-xs text-blue-500 mt-1">ê±´ì˜ì‚¬í•­ì€ ê´€ë¦¬ìì—ê²Œë§Œ ì „ë‹¬ë˜ë©° ê³µê°œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                                        )}
                                    </div>
                                    <div>
                                        <label className="block text-xs font-bold text-gray-600 mb-2">ì œëª©</label>
                                        <input type="text" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.title} onChange={e => setFormData({...formData, title: e.target.value})} />
                                    </div>
                                    <div>
                                        <label className="block text-xs font-bold text-gray-600 mb-2">ë‚´ìš©</label>
                                        <textarea className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors h-40 resize-none" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" value={formData.content} onChange={e => setFormData({...formData, content: e.target.value})} />
                                    </div>
                                    {formData.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && (
                                        <>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">í”„ë¡œê·¸ë¨ ì„ íƒ <span className="text-red-500">*</span></label>
                                                <select
                                                    className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors bg-white"
                                                    value={formData.seminarTitle}
                                                    onChange={e => setFormData({...formData, seminarTitle: e.target.value})}
                                                    required
                                                >
                                                    <option value="">í”„ë¡œê·¸ë¨ì„ ì„ íƒí•˜ì„¸ìš”</option>
                                                    {seminars.map(seminar => (
                                                        <option key={seminar.id} value={seminar.title}>{seminar.title}</option>
                                                    ))}
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ë³„ì  í‰ê°€</label>
                                                <div className="flex gap-2">
                                                    {[1, 2, 3, 4, 5].map(star => (
                                                        <button key={star} type="button" onClick={() => setReviewRating(star)} className="focus:outline-none">
                                                            {reviewRating >= star ? (
                                                                <Icons.Star className="w-8 h-8 text-yellow-400 fill-yellow-400" />
                                                            ) : (
                                                                <Icons.Star className="w-8 h-8 text-gray-300" />
                                                            )}
                                                        </button>
                                                    ))}
                                                </div>
                                                {reviewRating > 0 && <p className="text-xs text-gray-500 mt-2">{reviewRating}ì ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤.</p>}
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-600 mb-2">ì‚¬ì§„ ì—…ë¡œë“œ (ìµœëŒ€ 5ì¥, ê° 5MB ì´í•˜)</label>
                                                <input type="file" accept="image/*" multiple onChange={handleImageUpload} className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" />
                                                {reviewImages.length > 0 && (
                                                    <div className="grid grid-cols-3 gap-2 mt-3">
                                                        {reviewImages.map((img, idx) => (
                                                            <div key={idx} className="relative">
                                                                <img src={img} alt={`ì—…ë¡œë“œ ${idx + 1}`} className="w-full h-24 object-cover rounded-lg" />
                                                                <button type="button" onClick={() => setReviewImages(reviewImages.filter((_, i) => i !== idx))} className="absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600">
                                                                    <Icons.X size={12} />
                                                                </button>
                                                            </div>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>
                                        </>
                                    )}
                                    <div className="flex items-center gap-3">
                                        <input type="checkbox" id="isSecret" checked={formData.isSecret} onChange={e => setFormData({...formData, isSecret: e.target.checked})} className="w-5 h-5" />
                                        <label htmlFor="isSecret" className="text-sm font-bold text-gray-600">ë¹„ë°€ê¸€</label>
                                    </div>
                                    {formData.isSecret && (
                                        <div>
                                            <label className="block text-xs font-bold text-gray-600 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
                                            <input type="password" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" value={formData.password} onChange={e => setFormData({...formData, password: e.target.value})} />
                                        </div>
                                    )}
                                </div>
                                <div className="flex gap-4 mt-6">
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowCreateModal(false); }} className="flex-1 py-4 bg-gray-100 text-gray-700 font-bold rounded-2xl hover:bg-gray-200 transition-all">
                                        ì·¨ì†Œ
                                    </button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleCreatePost(); }} className="flex-1 py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all">
                                        ì‘ì„±í•˜ê¸°
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                    {showPasswordModal && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) { setShowPasswordModal(false); setPasswordInput(''); setPostToDelete(null); } }}>
                            <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md z-10 p-8 text-center relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowPasswordModal(false); setPasswordInput(''); setPostToDelete(null); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <h3 className="text-2xl font-bold text-dark mb-4">ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</h3>
                                <input type="password" className="w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-brand focus:outline-none transition-colors mb-6" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" value={passwordInput} onChange={e => setPasswordInput(e.target.value)} onKeyPress={e => e.key === 'Enter' && handlePasswordSubmit()} />
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handlePasswordSubmit(); }} className="w-full py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-brand/30 transition-all">
                                    í™•ì¸
                                </button>
                            </div>
                        </div>
                    )}

                    {/* ì¤‘ê³ ê±°ë˜ ë³¸ì¸ì¸ì¦ ëª¨ë‹¬ */}
                    {showIdentityVerification && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) { setShowIdentityVerification(false); setPendingPostData(null); } }}>
                            <div className="absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/60 backdrop-blur-md"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-md z-10 p-8 text-center relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowIdentityVerification(false); setPendingPostData(null); }} className="absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-700 transition-all">
                                    <Icons.X size={18}/>
                                </button>
                                <div className="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <Icons.Lock className="w-8 h-8 text-yellow-600" />
                                </div>
                                <h3 className="text-2xl font-bold text-dark mb-4">ì¤‘ê³ ê±°ë˜ ë³¸ì¸ì¸ì¦</h3>
                                <p className="text-gray-600 mb-6">ì¤‘ê³ ê±°ë˜ ê¸€ ì‘ì„±ì„ ìœ„í•´ ë³¸ì¸ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                                <button
                                    type="button"
                                    onClick={async () => {
                                        try {
                                            const IMP = window.IMP;
                                            if (!IMP) {
                                                alert('PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                                                return;
                                            }
                                            
                                            IMP.init(PORTONE_IMP_CODE);
                                            
                                            IMP.certification({
                                                pg: 'inicis',
                                                merchant_uid: `cert_used_${Date.now()}`,
                                                m_redirect_url: window.location.href,
                                                popup: true,
                                                name: currentUser ? currentUser.name : 'ë³¸ì¸ì¸ì¦',
                                                phone: currentUser ? currentUser.phone : '',
                                            }, (rsp) => {
                                                if (rsp.success) {
                                                    // ë³¸ì¸ì¸ì¦ ì„±ê³µ - ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
                                                    if (currentUser) {
                                                        currentUser.isIdentityVerified = true;
                                                        currentUser.verifiedName = rsp.name;
                                                        currentUser.verifiedPhone = rsp.phone;
                                                    }
                                                    
                                                    alert(`ë³¸ì¸ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì¸ì¦ëœ ì´ë¦„: ${rsp.name}`);
                                                    
                                                    // ì¸ì¦ ì™„ë£Œ í›„ ê¸€ ì‘ì„± ê³„ì† ì§„í–‰
                                                    setShowIdentityVerification(false);
                                                    if (pendingPostData) {
                                                        setFormData(pendingPostData);
                                                        setPendingPostData(null);
                                                        // ë‹¤ì‹œ ê¸€ ì‘ì„± ì‹œë„
                                                        setTimeout(() => {
                                                            handleCreatePost();
                                                        }, 100);
                                                    }
                                                } else {
                                                    alert(`ë³¸ì¸ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\nì—ëŸ¬ ë©”ì‹œì§€: ${rsp.error_msg || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`);
                                                }
                                            });
                                        } catch (error) {
                                            console.error('ë³¸ì¸ì¸ì¦ ì˜¤ë¥˜:', error);
                                            alert('ë³¸ì¸ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                                        }
                                    }}
                                    className="w-full py-4 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-yellow-500/30 transition-all mb-4"
                                >
                                    ë³¸ì¸ì¸ì¦í•˜ê¸°
                                </button>
                                <button
                                    type="button"
                                    onClick={(e) => { e.preventDefault(); e.stopPropagation(); setShowIdentityVerification(false); setPendingPostData(null); }}
                                    className="w-full py-3 bg-gray-100 text-gray-700 font-bold rounded-2xl hover:bg-gray-200 transition-all"
                                >
                                    ì·¨ì†Œ
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // ì†Œê°œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
        const AboutView = ({ onBack }) => {
            const historyData = [
                { year: "2014", title: "ì§€ì£¼íšŒì‚¬ ì„¤ë¦½ ê¸°íš", desc: "ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤ í•„ìš”ì„± ê²€í†  ë° ê¸°íš" },
                { year: "2017", title: "ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶•", desc: "íšŒì›ê°„ ì†Œí†µ ë‚´ë¶€ë§ êµ¬ì¶• ë° ì¹´ì¹´ì˜¤ ì˜¤í”ˆì±„íŒ…ë°© ê°œì„¤" },
                { year: "2018", title: "ì²« ì˜¤í”„ë¼ì¸ í™œë™", desc: "ì°½ì—…ìë“¤ì„ ìœ„í•œ ì²« ì„¸ë¯¸ë‚˜ ê°œìµœ ë° ë„¤íŠ¸ì›Œí‚¹ ëª¨ì„ ìš´ì˜" },
                { year: "2024", title: "ì •ê¸° ì„¸ë¯¸ë‚˜ êµ¬ì¶•", desc: "ì°½ì—…/ì„¸ë¬´/ë§ˆì¼€íŒ… êµìœ¡ í”„ë¡œê·¸ë¨ ë° ì •ê¸° ëª¨ì„ í™œì„±í™”" },
                { year: "2025", title: "ë¹„ì˜ë¦¬ ë²•ì¸ ì„¤ë¦½", desc: "ê³µì‹ ë‹¨ì²´ ë²•ì¸í™” ë° ì˜¨ë¼ì¸ í”Œë«í¼(ì–´í”Œ) ê°œë°œ ì¶”ì§„" },
            ];

            const futurePlans = [
                { id: 1, title: "ë§ì¶¤í˜• ì—­ëŸ‰ êµìœ¡", desc: "ì°½ì—… ë‹¨ê³„ë³„ ì‹¤ë¬´ êµìœ¡(ì„¸ë¬´, ë§ˆì¼€íŒ… ë“±)ê³¼ ë©˜í† ë§ ê°•í™”" },
                { id: 2, title: "ê³µê³µì‚¬ì—… ì—°ê³„", desc: "ì •ë¶€Â·ì§€ìì²´ ì‚¬ì—…ê³¼ í˜‘ë ¥í•˜ì—¬ ì‹¤ì§ˆì  í˜œíƒ ì œê³µ" },
                { id: 3, title: "ì˜¨ë¼ì¸ í”Œë«í¼", desc: "íšŒì›ë“¤ì´ ì—°ê²°ë˜ê³  í˜‘ì—…í•  ìˆ˜ ìˆëŠ” ì „ìš© ì•±/ì›¹ êµ¬ì¶•" },
                { id: 4, title: "ì‚¬íšŒê³µí—Œ í™œë™", desc: "ë©˜í† ë§, ì¬ëŠ¥ê¸°ë¶€ ë“± ì§€ì—­ì‚¬íšŒì™€ ìƒìƒí•˜ëŠ” í”„ë¡œê·¸ë¨" },
                { id: 5, title: "ì •ì±… ì œì•ˆ", desc: "ë¶€ì‚° ì²­ë…„ ì°½ì—…ê°€ ì‹¤íƒœì¡°ì‚¬ ê¸°ë°˜ ë§ì¶¤í˜• ì •ì±… ì œì•ˆ" },
                { id: 6, title: "ìì²´ ìˆ˜ìµëª¨ë¸", desc: "êµìœ¡ ì½˜í…ì¸ , êµ¿ì¦ˆ ë“± ì§€ì†ê°€ëŠ¥í•œ ìš´ì˜ ê¸°ë°˜ ë§ˆë ¨" },
            ];

            const whyUs = [
                { icon: Icons.Smile, title: "ê³ ë¦½ê°/ì••ë°•ê° í•´ì†Œ", desc: "ê°™ì€ ê¸¸ì„ ê±·ëŠ” ë™ë£Œë“¤ê³¼ ê³ ë¯¼ì„ ë‚˜ëˆ„ëŠ” ì‹¬ë¦¬ì  ì•ˆì „ë§" },
                { icon: Icons.Shield, title: "ë²ˆì•„ì›ƒ ë°©ì§€", desc: "ì¼ê³¼ ì‚¶ì˜ ê· í˜•ì„ ì°¾ê³  ë¦¬í”„ë ˆì‹œí•  ìˆ˜ ìˆëŠ” ê¸°íšŒ ì œê³µ" },
                { icon: Icons.TrendingUp, title: "ì„±ì¥ì˜ í•œê³„ ê·¹ë³µ", desc: "ë‹¤ì–‘í•œ ê²½í—˜ ê³µìœ ë¥¼ í†µí•´ ìƒˆë¡œìš´ ì¸ì‚¬ì´íŠ¸ì™€ í˜‘ì—… ê¸°íšŒ íšë“" },
                { icon: Icons.Users, title: "ë„¤íŠ¸ì›Œí¬ í™•ì¥", desc: "íˆ¬ìì, ê³ ê°, íŒŒíŠ¸ë„ˆë¥¼ ë§Œë‚˜ ì‹¤ì§ˆì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°íšŒ ì°½ì¶œ" }
            ];

            return (
                <div className="min-h-screen bg-white">
                    {/* 1. Hero Section */}
                    <section className="pt-32 pb-16 px-6 bg-gradient-to-br from-brand/5 to-white">
                        <div className="container mx-auto max-w-3xl text-center">
                            <div className="inline-block px-3 py-1 bg-brand/10 text-brand rounded-full text-sm font-bold mb-4 animate-fade-in-up">Since 2017</div>
                            <h1 className="text-4xl md:text-5xl font-black text-dark mb-6 leading-tight break-keep animate-fade-in-up" style={{animationDelay: '0.1s'}}>
                                í•¨ê»˜ ì„±ì¥í•˜ëŠ” <br className="md:hidden"/> <span className="text-brand">ì‚¬ì—…ê°€ ë„¤íŠ¸ì›Œí¬</span>
                            </h1>
                            <p className="text-lg text-gray-600 max-w-xl mx-auto break-keep mb-10 animate-fade-in-up" style={{animationDelay: '0.2s'}}>
                                ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì˜ ì„±ì¥ê³¼ ì—°ê²°ì„ ë•ëŠ” <br className="hidden md:block"/> ë¹„ì¦ˆë‹ˆìŠ¤ ì»¤ë®¤ë‹ˆí‹°, <strong>ë¶€ì²­ì‚¬</strong>ì…ë‹ˆë‹¤.
                            </p>
                            <div className="w-full h-56 md:h-80 rounded-3xl overflow-hidden shadow-float relative animate-fade-in-up bg-gray-100 mx-auto" style={{animationDelay: '0.3s'}}>
                                <img 
                                    src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                                    alt="Networking" 
                                    className="w-full h-full object-cover" 
                                    onError={(e) => {e.target.style.display='none'}}
                                />
                                <div className="absolute inset-0 bg-brand/20 mix-blend-multiply"></div>
                            </div>
                        </div>
                    </section>

                    {/* 2. Mission & Intro */}
                    <section className="py-20 px-6">
                        <div className="container mx-auto max-w-4xl">
                            <div className="flex flex-col md:flex-row gap-10 items-center">
                                <div className="flex-1">
                                    <h2 className="text-3xl font-bold text-dark mb-6">Platform for <br/><span className="text-brand">Businessmen</span></h2>
                                    <div className="space-y-4 text-gray-600 leading-relaxed text-justify break-keep text-sm md:text-base">
                                        <p>
                                            <strong>ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤</strong>ì€ ì •ê¸°ì ì¸ ë„¤íŠ¸ì›Œí‚¹ê³¼ ì‹¤ë¬´ ì¤‘ì‹¬ì˜ ì„¸ë¯¸ë‚˜ë¥¼ í†µí•´ ì‹¤ì§ˆì ì¸ ë„ì›€ì„ ì œê³µí•©ë‹ˆë‹¤.
                                        </p>
                                        <p>
                                            ì—…ì¢…ì„ ë„˜ì–´ì„  í˜‘ì—…ê³¼ ì •ë³´ ê³µìœ ë¥¼ ì§€ì›í•˜ë©°, ì˜¨Â·ì˜¤í”„ë¼ì¸ì„ ì—°ê³„í•´ ì§€ì†ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥ì„ ë•ìŠµë‹ˆë‹¤.
                                        </p>
                                        <p>
                                            ë¶€ì²­ì‚¬ëŠ” ë‹¨ìˆœí•œ ëª¨ì„ì„ ë„˜ì–´, í•¨ê»˜ ì„±ì¥í•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.
                                        </p>
                                    </div>
                                </div>
                                <div className="flex-1 grid grid-cols-2 gap-3 w-full">
                                    {[
                                        {icon: Icons.Users, title: "ë„¤íŠ¸ì›Œí‚¹", sub: "ì§€ì†ì ì¸ êµë¥˜"},
                                        {icon: Icons.Zap, title: "í˜‘ì—… ê¸°íšŒ", sub: "ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥"},
                                        {icon: Icons.Target, title: "ì‹¤ë¬´ êµìœ¡", sub: "ì—­ëŸ‰ ê°•í™”"},
                                        {icon: Icons.Shield, title: "ì‹¬ë¦¬ ì•ˆì •", sub: "ê³ ë¯¼ í•´ê²°"},
                                    ].map((item, idx) => (
                                        <div key={idx} className="bg-soft p-5 rounded-xl text-center border border-transparent hover:border-brand/10 transition-colors">
                                            <div className="w-10 h-10 bg-white rounded-full flex items-center justify-center text-brand mx-auto mb-2 shadow-sm">
                                                <item.icon size={20} />
                                            </div>
                                            <h3 className="font-bold text-dark text-sm">{item.title}</h3>
                                            <p className="text-xs text-gray-500 mt-0.5">{item.sub}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* 3. Why We Need It */}
                    <section className="py-20 px-6 bg-soft">
                        <div className="container mx-auto max-w-5xl">
                            <div className="text-center mb-12">
                                <h2 className="text-3xl font-bold text-dark mb-2">'ë¶€ì²­ì‚¬'ê°€ <span className="text-brand">í•„ìš”í•œ ì´ìœ </span></h2>
                                <p className="text-gray-500 text-sm">í˜¼ì ê³ ë¯¼í•˜ì§€ ë§ˆì„¸ìš”. í•¨ê»˜í•˜ë©´ ë‹µì´ ë³´ì…ë‹ˆë‹¤.</p>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                {whyUs.map((item, idx) => (
                                    <div key={idx} className="bg-white p-6 rounded-2xl shadow-sm hover:shadow-card transition-shadow border border-transparent hover:border-brand/20 group">
                                        <div className="w-12 h-12 bg-brand/5 text-brand rounded-xl flex items-center justify-center mb-4 group-hover:bg-brand group-hover:text-white transition-colors">
                                            <item.icon size={24} />
                                        </div>
                                        <h3 className="text-lg font-bold text-dark mb-2 break-keep">{item.title}</h3>
                                        <p className="text-gray-500 text-sm leading-relaxed break-keep">{item.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* 4. History */}
                    <section className="py-20 px-6 bg-white overflow-hidden">
                        <div className="container mx-auto max-w-3xl">
                            <div className="text-center mb-12">
                                <h2 className="text-3xl font-bold text-dark">HISTORY</h2>
                                <p className="text-gray-500 mt-2 text-sm">ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤ì´ ê±¸ì–´ì˜¨ ê¸¸</p>
                            </div>
                            <div className="relative timeline-line pl-0 md:pl-0">
                                {historyData.map((item, idx) => (
                                    <div key={idx} className={`flex flex-col md:flex-row items-start md:items-center justify-between mb-10 relative z-10 ${idx % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
                                        <div className={`pl-12 md:pl-0 w-full md:w-5/12 ${idx % 2 === 0 ? 'md:text-left' : 'md:text-right'}`}>
                                            <div className="text-3xl font-black text-brand/20 mb-1 font-pop">{item.year}</div>
                                            <h3 className="text-lg font-bold text-dark mb-0.5">{item.title}</h3>
                                            <p className="text-gray-500 text-xs">{item.desc}</p>
                                        </div>
                                        <div className="absolute left-[10px] md:left-1/2 md:-translate-x-1/2 w-4 h-4 bg-brand rounded-full border-4 border-white shadow-md"></div>
                                        <div className="hidden md:block w-5/12"></div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* 5. Future Plans */}
                    <section className="py-20 px-6 bg-soft">
                        <div className="container mx-auto max-w-5xl">
                            <div className="text-center mb-12">
                                <h2 className="text-3xl font-bold text-dark mb-3">í–¥í›„ ê³„íš ë° ëª©í‘œ</h2>
                                <p className="text-gray-500 text-sm">ë¶€ì²­ì‚¬ëŠ” ë©ˆì¶”ì§€ ì•Šê³  ê³„ì† ì„±ì¥í•©ë‹ˆë‹¤.</p>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
                                {futurePlans.map((plan) => (
                                    <div key={plan.id} className="p-5 rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-lg transition-all hover:-translate-y-1">
                                        <div className="text-4xl font-black text-gray-100 mb-3 font-pop">{String(plan.id).padStart(2, '0')}</div>
                                        <h3 className="text-lg font-bold text-dark mb-2">{plan.title}</h3>
                                        <p className="text-gray-600 text-xs leading-relaxed break-keep">{plan.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* 6. Contact */}
                    <section className="py-20 px-6 bg-white">
                        <div className="container mx-auto max-w-3xl text-center">
                            <h2 className="text-3xl font-bold text-dark mb-8">CONTACT</h2>
                            <div className="flex flex-col md:flex-row justify-center gap-4 md:gap-8">
                                <div className="bg-white p-6 rounded-2xl shadow-sm flex-1 flex flex-col items-center border border-gray-100">
                                    <div className="w-12 h-12 bg-brand/10 text-brand rounded-full flex items-center justify-center mb-3">
                                        <Icons.Phone size={24} />
                                    </div>
                                    <h3 className="font-bold text-gray-500 mb-1 text-sm">ë¬¸ì˜ ì „í™”</h3>
                                    <p className="text-xl font-bold text-dark">010-5323-9310</p>
                                </div>
                                <div className="bg-white p-6 rounded-2xl shadow-sm flex-1 flex flex-col items-center border border-gray-100">
                                    <div className="w-12 h-12 bg-brand/10 text-brand rounded-full flex items-center justify-center mb-3">
                                        <Icons.Mail size={24} />
                                    </div>
                                    <h3 className="font-bold text-gray-500 mb-1 text-sm">ì´ë©”ì¼</h3>
                                    <p className="text-xl font-bold text-dark">pujar@naver.com</p>
                                </div>
                            </div>
                            <div className="mt-10 text-gray-400 text-xs">
                                ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤ Since 2017
                            </div>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="bg-white border-t border-gray-100 py-8 text-center text-xs text-gray-400">
                        &copy; 2025 Busan Young CEO Community. All rights reserved.
                    </footer>
                </div>
            );
        };

        // í›„ì›í•˜ê¸° í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
        const DonationView = ({ onBack, currentUser, setCurrentUser, setMembersData, membersData, saveCurrentUserToStorage }) => {
            const [donationType, setDonationType] = useState('one-time'); // 'one-time' or 'monthly'
            const [amount, setAmount] = useState('');
            const [customAmount, setCustomAmount] = useState('');
            const [message, setMessage] = useState('');
            const [donorName, setDonorName] = useState(currentUser ? currentUser.name : '');
            const [donorEmail, setDonorEmail] = useState(currentUser ? currentUser.email : '');
            const [donorPhone, setDonorPhone] = useState(currentUser ? currentUser.phone : '');

            const presetAmounts = [10000, 30000, 50000, 100000, 200000, 500000];

            const handleDonation = () => {
                if (!donorName || !donorEmail) {
                    return alert("ì´ë¦„ê³¼ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                }

                const finalAmount = customAmount ? parseInt(customAmount) : parseInt(amount);
                if (!finalAmount || finalAmount < 1000) {
                    return alert("í›„ì› ê¸ˆì•¡ì€ ìµœì†Œ 1,000ì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
                }

                if (!currentUser) {
                    return alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                }

                const IMP = window.IMP;
                if (!IMP) {
                    alert('PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                    return;
                }

                // PortOne ì´ˆê¸°í™”
                IMP.init(PORTONE_IMP_CODE);

                // ê²°ì œ ìš”ì²­
                IMP.request_pay({
                    pg: 'inicis',
                    pay_method: 'card',
                    merchant_uid: `donation_${donationType}_${Date.now()}`,
                    name: donationType === 'monthly' ? `ë¶€ì²­ì‚¬ ì •ê¸° í›„ì› (ì›” ${finalAmount.toLocaleString()}ì›)` : `ë¶€ì²­ì‚¬ ì¼ì‹œ í›„ì› (${finalAmount.toLocaleString()}ì›)`,
                    amount: finalAmount,
                    buyer_email: donorEmail,
                    buyer_name: donorName,
                    buyer_tel: donorPhone || '',
                }, (rsp) => {
                    if (rsp.success) {
                        console.log('í›„ì› ê²°ì œ ì„±ê³µ:', rsp);
                        alert(`í›„ì›ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\ní›„ì› ê¸ˆì•¡: ${finalAmount.toLocaleString()}ì›\n${donationType === 'monthly' ? 'ë§¤ì›” ìë™ìœ¼ë¡œ í›„ì›ì´ ì§„í–‰ë©ë‹ˆë‹¤.' : 'ê°ì‚¬í•©ë‹ˆë‹¤!'}\n\n${message ? `ì‘ì› ë©”ì‹œì§€: ${message}` : ''}`);
                        
                        // í›„ì› ë‚´ì—­ ì €ì¥ ë° íšŒì› ì •ë³´ì— hasDonated í”Œë˜ê·¸ ì¶”ê°€
                        if (currentUser) {
                            const updatedUser = { ...currentUser, hasDonated: true };
                            setCurrentUser(updatedUser);
                            saveCurrentUserToStorage(updatedUser);
                            
                            // membersDataì—ë„ ì—…ë°ì´íŠ¸
                            const updatedMembers = membersData.map(m => 
                                m.id === currentUser.id || m.email === currentUser.email 
                                    ? { ...m, hasDonated: true }
                                    : m
                            );
                            setMembersData(updatedMembers);
                        }
                        
                        // í›„ì› ë‚´ì—­ ì €ì¥ (ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ ì „ì†¡í•˜ì—¬ ì €ì¥)
                        // rsp.imp_uid: PortOne ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                        // rsp.merchant_uid: ê°€ë§¹ì  ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                        
                        // í¼ ì´ˆê¸°í™”
                        setAmount('');
                        setCustomAmount('');
                        setMessage('');
                    } else {
                        console.error('í›„ì› ê²°ì œ ì‹¤íŒ¨:', rsp);
                        alert(`í›„ì› ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\nì—ëŸ¬ ë©”ì‹œì§€: ${rsp.error_msg || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`);
                    }
                });
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-4xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <div>
                                <h2 className="text-3xl font-bold text-dark mb-2">í›„ì›í•˜ê¸°</h2>
                                <p className="text-gray-500 text-sm">ë¶€ì²­ì‚¬ ì»¤ë®¤ë‹ˆí‹°ë¥¼ í•¨ê»˜ ë§Œë“¤ì–´ê°€ì„¸ìš”</p>
                            </div>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors">
                                <Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ
                            </button>
                        </div>

                        <div className="bg-white rounded-3xl shadow-card p-8">
                            {/* í›„ì› ìœ í˜• ì„ íƒ */}
                            <div className="mb-8">
                                <h3 className="text-xl font-bold text-dark mb-4">í›„ì› ìœ í˜• ì„ íƒ</h3>
                                <div className="grid grid-cols-2 gap-4">
                                    <button
                                        type="button"
                                        onClick={() => setDonationType('one-time')}
                                        className={`p-6 rounded-2xl border-[0.5px] transition-all ${
                                            donationType === 'one-time'
                                                ? 'border-brand bg-brand/5 text-brand'
                                                : 'border-brand/30 bg-white text-gray-600 hover:border-brand/50'
                                        }`}
                                    >
                                        <div className="text-2xl mb-2">ğŸ’</div>
                                        <div className="font-bold text-lg mb-1">ì¼ì‹œ í›„ì›</div>
                                        <div className="text-sm opacity-70">í•œ ë²ˆë§Œ í›„ì›í•˜ê¸°</div>
                                    </button>
                                    <button
                                        type="button"
                                        onClick={() => setDonationType('monthly')}
                                        className={`p-6 rounded-2xl border-[0.5px] transition-all ${
                                            donationType === 'monthly'
                                                ? 'border-brand bg-brand/5 text-brand'
                                                : 'border-brand/30 bg-white text-gray-600 hover:border-brand/50'
                                        }`}
                                    >
                                        <div className="text-2xl mb-2">â¤ï¸</div>
                                        <div className="font-bold text-lg mb-1">ì •ê¸° í›„ì›</div>
                                        <div className="text-sm opacity-70">ë§¤ì›” ìë™ í›„ì›</div>
                                    </button>
                                </div>
                            </div>

                            {/* í›„ì› ê¸ˆì•¡ ì„ íƒ */}
                            <div className="mb-8">
                                <h3 className="text-xl font-bold text-dark mb-4">í›„ì› ê¸ˆì•¡</h3>
                                <div className="grid grid-cols-3 md:grid-cols-6 gap-3 mb-4">
                                    {presetAmounts.map((amt) => (
                                        <button
                                            key={amt}
                                            type="button"
                                            onClick={() => { setAmount(amt.toString()); setCustomAmount(''); }}
                                            className={`p-4 rounded-xl border-[0.5px] transition-all font-bold ${
                                                amount === amt.toString()
                                                    ? 'border-brand bg-brand text-white'
                                                    : 'border-brand/30 bg-white text-gray-700 hover:border-brand/50'
                                            }`}
                                        >
                                            {amt.toLocaleString()}ì›
                                        </button>
                                    ))}
                                </div>
                                <div className="relative">
                                    <input
                                        type="number"
                                        placeholder="ì§ì ‘ ì…ë ¥ (ìµœì†Œ 1,000ì›)"
                                        className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm"
                                        value={customAmount}
                                        onChange={(e) => {
                                            setCustomAmount(e.target.value);
                                            setAmount('');
                                        }}
                                        min="1000"
                                    />
                                    <span className="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm">ì›</span>
                                </div>
                                {(amount || customAmount) && (
                                    <p className="text-sm text-gray-600 mt-2">
                                        ì„ íƒí•˜ì‹  ê¸ˆì•¡: <span className="font-bold text-brand text-lg">{(customAmount || amount).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}ì›</span>
                                    </p>
                                )}
                            </div>

                            {/* í›„ì›ì ì •ë³´ */}
                            <div className="mb-8">
                                <h3 className="text-xl font-bold text-dark mb-4">í›„ì›ì ì •ë³´</h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì´ë¦„ <span className="text-red-500">*</span></label>
                                        <input
                                            type="text"
                                            className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm"
                                            value={donorName}
                                            onChange={(e) => setDonorName(e.target.value)}
                                            required
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì´ë©”ì¼ <span className="text-red-500">*</span></label>
                                        <input
                                            type="email"
                                            className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm"
                                            value={donorEmail}
                                            onChange={(e) => setDonorEmail(e.target.value)}
                                            required
                                        />
                                    </div>
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-bold text-gray-700 mb-2">ì „í™”ë²ˆí˜¸</label>
                                        <input
                                            type="tel"
                                            className="w-full p-3.5 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors text-sm"
                                            value={donorPhone}
                                            onChange={(e) => setDonorPhone(e.target.value)}
                                            placeholder="010-1234-5678"
                                        />
                                    </div>
                                </div>
                            </div>

                            {/* ì‘ì› ë©”ì‹œì§€ */}
                            <div className="mb-8">
                                <h3 className="text-xl font-bold text-dark mb-4">ì‘ì› ë©”ì‹œì§€ (ì„ íƒì‚¬í•­)</h3>
                                <textarea
                                    className="w-full p-4 border-[0.5px] border-brand/30 rounded-xl focus:border-brand focus:outline-none transition-colors h-32 resize-none text-sm"
                                    placeholder="ë¶€ì²­ì‚¬ ì»¤ë®¤ë‹ˆí‹°ì— ì „í•˜ê³  ì‹¶ì€ ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”"
                                    value={message}
                                    onChange={(e) => setMessage(e.target.value)}
                                    maxLength={500}
                                />
                                <p className="text-xs text-gray-500 mt-2 text-right">{message.length}/500</p>
                            </div>

                            {/* í›„ì›í•˜ê¸° ë²„íŠ¼ */}
                            <div className="flex flex-col gap-4">
                                {!currentUser && (
                                    <div className="p-4 bg-yellow-50 border-2 border-yellow-200 rounded-xl">
                                        <p className="text-sm text-yellow-700">
                                            <Icons.Info className="w-4 h-4 inline mr-1" />
                                            ë¡œê·¸ì¸ í›„ í›„ì›í•˜ì‹œë©´ í›„ì› ë‚´ì—­ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                        </p>
                                    </div>
                                )}
                                <button
                                    type="button"
                                    onClick={handleDonation}
                                    disabled={!donorName || !donorEmail || (!amount && !customAmount)}
                                    className="w-full py-4 bg-gradient-to-r from-brand to-blue-600 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-brand/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-lg"
                                >
                                    {donationType === 'monthly' ? 'ì •ê¸° í›„ì› ì‹œì‘í•˜ê¸°' : 'í›„ì›í•˜ê¸°'}
                                </button>
                                <p className="text-xs text-gray-500 text-center">
                                    í›„ì›ì€ ì•ˆì „í•œ ê²°ì œ ì‹œìŠ¤í…œì„ í†µí•´ ì²˜ë¦¬ë©ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const AllSeminarsView = ({ onBack, seminars, onApply, currentUser }) => {
            const [selectedSeminar, setSelectedSeminar] = useState(null);
            const [calendarModalData, setCalendarModalData] = useState(null);
            const [paymentFilter, setPaymentFilter] = useState('ì „ì²´'); // 'ì „ì²´', 'ìœ ë£Œ', 'ë¬´ë£Œ'

            const handleGoogleCalendar = (ev) => {
                const parts = ev.date.match(/(\d{4})[\.-](\d{2})[\.-](\d{2})/);
                if (!parts) return alert("ë‚ ì§œ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                const startStr = `${parts[1]}${parts[2]}${parts[3]}T090000`; 
                const endStr = `${parts[1]}${parts[2]}${parts[3]}T110000`;
                const url = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(ev.title)}&dates=${startStr}/${endStr}&details=${encodeURIComponent(ev.desc)}&location=${encodeURIComponent(ev.location)}`;
                window.open(url, '_blank');
            };

            const handleAppleCalendar = (ev) => {
                const parts = ev.date.match(/(\d{4})[\.-](\d{2})[\.-](\d{2})/);
                if (!parts) return alert("ë‚ ì§œ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                const startStr = `${parts[1]}${parts[2]}${parts[3]}T090000`;
                let endHour = 9 + 2;
                let endStr = `${parts[1]}${parts[2]}${parts[3]}T${endHour.toString().padStart(2,'0')}0000`;
                const icsContent = `BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nDTSTART:${startStr}\nDTEND:${endStr}\nSUMMARY:${ev.title}\nDESCRIPTION:${ev.desc}\nLOCATION:${ev.location}\nEND:VEVENT\nEND:VCALENDAR`;
                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const link = document.createElement('a');
                link.href = window.URL.createObjectURL(blob);
                link.setAttribute('download', `${ev.title}.ics`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            const handleApplyClick = (seminar) => {
                if (!currentUser) {
                    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                    return;
                }
                if(onApply(seminar)) {
                    setSelectedSeminar(null);
                    // ëª¨ë°”ì¼ì´ë©´ ìë™ ë“±ë¡, PCë©´ ëª¨ë‹¬ í‘œì‹œ
                    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                    setCalendarModalData({ ...seminar, autoRegister: isMobile });
                }
            };

            // PortOne ê²°ì œ í•¨ìˆ˜
            const handlePayment = (seminar) => {
                if (!currentUser) {
                    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                    return;
                }

                if (!seminar.requiresPayment || !seminar.price || seminar.price === 0) {
                    // ë¬´ë£Œ ì„¸ë¯¸ë‚˜ëŠ” ë°”ë¡œ ì‹ ì²­
                    handleApplyClick(seminar);
                    return;
                }

                const IMP = window.IMP;
                if (!IMP) {
                    alert('PortOne SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                    return;
                }

                // PortOne ì´ˆê¸°í™”
                IMP.init(PORTONE_IMP_CODE);

                // ê²°ì œ ìš”ì²­
                IMP.request_pay({
                    pg: 'inicis', // PGì‚¬ ì½”ë“œ (inicis, nice, kcp ë“±)
                    pay_method: 'card', // ê²°ì œ ë°©ì‹ (card, trans, vbank ë“±)
                    merchant_uid: `seminar_${seminar.id}_${Date.now()}`, // ì£¼ë¬¸ë²ˆí˜¸
                    name: seminar.title, // ìƒí’ˆëª…
                    amount: seminar.price, // ê²°ì œ ê¸ˆì•¡
                    buyer_email: currentUser.email || '', // êµ¬ë§¤ì ì´ë©”ì¼
                    buyer_name: currentUser.name || '', // êµ¬ë§¤ì ì´ë¦„
                    buyer_tel: currentUser.phone || '', // êµ¬ë§¤ì ì „í™”ë²ˆí˜¸
                }, (rsp) => {
                    // ê²°ì œ ì™„ë£Œ ì½œë°±
                    if (rsp.success) {
                        // ê²°ì œ ì„±ê³µ
                        console.log('ê²°ì œ ì„±ê³µ:', rsp);
                        
                        // ê²°ì œ ì„±ê³µ í›„ ì„¸ë¯¸ë‚˜ ì‹ ì²­ ì²˜ë¦¬
                        if(onApply(seminar)) {
                            // ê²°ì œ ë‚´ì—­ ì €ì¥ (ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ ì „ì†¡í•˜ì—¬ ì €ì¥)
                            // rsp.imp_uid: PortOne ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                            // rsp.merchant_uid: ê°€ë§¹ì  ê±°ë˜ ê³ ìœ ë²ˆí˜¸
                            // rsp.paid_amount: ê²°ì œ ê¸ˆì•¡
                            // rsp.paid_at: ê²°ì œ ì™„ë£Œ ì‹œê°„
                            
                            alert(`ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nê²°ì œ ê¸ˆì•¡: ${seminar.price.toLocaleString()}ì›\nì„¸ë¯¸ë‚˜ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                            setSelectedSeminar(null);
                            
                            // ëª¨ë°”ì¼ì´ë©´ ìë™ ë“±ë¡, PCë©´ ëª¨ë‹¬ í‘œì‹œ
                            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                            setCalendarModalData({ ...seminar, autoRegister: isMobile });
                        }
                    } else {
                        // ê²°ì œ ì‹¤íŒ¨
                        console.error('ê²°ì œ ì‹¤íŒ¨:', rsp);
                        alert(`ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\nì—ëŸ¬ ë©”ì‹œì§€: ${rsp.error_msg || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`);
                    }
                });
            };

            return (
                <div className="pt-32 pb-20 px-4 md:px-6 min-h-screen bg-soft animate-fade-in">
                    <div className="container mx-auto max-w-7xl">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10 gap-4">
                            <div><h2 className="text-3xl font-bold text-dark mb-2">í”„ë¡œê·¸ë¨ ì¼ì •</h2><p className="text-gray-500 text-sm">ë¶€ì²­ì‚¬ì—ì„œ ì§„í–‰ë˜ëŠ” ë‹¤ì–‘í•œ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œê·¸ë¨ì„ í™•ì¸í•˜ì„¸ìš”.</p></div>
                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onBack(); }} className="flex items-center gap-2 text-brand font-bold hover:underline px-4 py-2 rounded-lg hover:bg-brand/5 transition-colors"><Icons.ArrowLeft size={20} /> ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                        
                        {/* ìœ ë£Œ/ë¬´ë£Œ í•„í„° */}
                        <div className="mb-6 flex gap-2">
                            {['ì „ì²´', 'ìœ ë£Œ', 'ë¬´ë£Œ'].map(filter => (
                                <button
                                    key={filter}
                                    type="button"
                                    onClick={() => setPaymentFilter(filter)}
                                    className={`px-6 py-2 rounded-xl font-bold text-sm transition-colors ${
                                        paymentFilter === filter
                                            ? 'bg-brand text-white'
                                            : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'
                                    }`}
                                >
                                    {filter}
                                </button>
                            ))}
                        </div>
                        
                        {seminars.length > 0 ? (
                            <><div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">{seminars.filter(seminar => {
                                if (paymentFilter === 'ì „ì²´') return true;
                                if (paymentFilter === 'ìœ ë£Œ') return seminar.requiresPayment === true && seminar.price > 0;
                                if (paymentFilter === 'ë¬´ë£Œ') return seminar.requiresPayment === false || seminar.price === 0;
                                return true;
                            }).map((seminar, idx) => (<div key={idx} className="bg-white rounded-3xl overflow-hidden shadow-card hover:shadow-xl transition-all border border-transparent hover:border-brand/20 flex flex-col group cursor-pointer h-full"><div className="relative h-56 overflow-hidden card-zoom" onClick={() => setSelectedSeminar(seminar)}><img src={seminar.img || "https://images.unsplash.com/photo-1544531586-fde5298cdd40?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"} alt={seminar.title} className="w-full h-full object-cover"/>{seminar.status && (<div className={`absolute top-4 left-4 px-3 py-1 rounded-full text-xs font-bold shadow-sm ${seminar.status === 'ëª¨ì§‘ì¤‘' ? 'bg-brand text-white' : seminar.status === 'ë§ˆê°ì„ë°•' ? 'bg-red-500 text-white' : 'bg-gray-500 text-white'}`}>{seminar.status}</div>)}</div><div className="p-6 flex flex-col flex-1"><div className="flex items-center gap-2 mb-2"><span className="text-[10px] font-bold px-2 py-0.5 bg-brand/10 text-brand rounded-full">{seminar.category || 'ë¯¸ì§€ì •'}</span></div><h3 className="text-xl font-bold text-dark mb-3 group-hover:text-brand transition-colors line-clamp-2 break-keep">{seminar.title}</h3><div className="space-y-2 mb-4"><div className="flex items-center gap-2 text-sm text-gray-500"><Icons.Calendar className="w-4 h-4 text-brand" /><span>{seminar.date}</span></div><div className="flex items-center gap-2 text-sm text-gray-500"><Icons.MapPin className="w-4 h-4 text-brand" /><span className="line-clamp-1">{seminar.location}</span></div></div><p className="text-gray-500 text-sm line-clamp-3 mb-6 flex-1 break-keep">{seminar.desc}</p><button onClick={() => setSelectedSeminar(seminar)} className="w-full py-3 bg-soft text-brand font-bold rounded-xl hover:bg-brand hover:text-white transition-colors">ìƒì„¸ ë‚´ìš© í™•ì¸í•˜ê¸°</button></div></div>))}</div><CalendarSection seminars={seminars} onSelectSeminar={setSelectedSeminar} currentUser={currentUser} /></>
                        ) : (<div className="text-center py-20 text-gray-500"><p>ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>)}
                    </div>
                    {selectedSeminar && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4" style={{ opacity: 1 }} onClick={(e) => { if (e.target === e.currentTarget) setSelectedSeminar(null); }}>
                            <div className="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity"></div>
                            <div className="bg-white rounded-3xl shadow-2xl w-full max-w-lg max-h-[85vh] overflow-hidden z-10 flex flex-col relative" style={{ opacity: 1, transform: 'scale(1)' }} onClick={(e) => e.stopPropagation()}>
                                <div className="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                                    <h4 className="font-bold text-xl text-dark">í”„ë¡œê·¸ë¨ ìƒì„¸ ì •ë³´</h4>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setSelectedSeminar(null); }} className="p-2 bg-white rounded-full hover:bg-gray-200 transition-colors shadow-sm">
                                        <Icons.X size={20} />
                                    </button>
                                </div>
                                <div className="p-5 overflow-y-auto modal-scroll space-y-6">
                                    <div className="flex flex-col gap-4">
                                        <div className="w-full h-48 rounded-xl overflow-hidden shadow-sm relative">
                                            <img src={selectedSeminar.img || "https://placehold.co/600x400"} alt={selectedSeminar.title} className="w-full h-full object-cover" />
                                            <div className={`absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-bold shadow-sm ${selectedSeminar.status === 'ëª¨ì§‘ì¤‘' ? 'bg-brand text-white' : selectedSeminar.status === 'ë§ˆê°ì„ë°•' ? 'bg-red-500 text-white' : 'bg-gray-500 text-white'}`}>
                                                {selectedSeminar.status}
                                            </div>
                                        </div>
                                        <div>
                                            <h5 className="font-bold text-xl text-dark mb-2 leading-tight">{selectedSeminar.title}</h5>
                                            <div className="flex flex-col gap-2 mb-4">
                                                <span className="text-sm text-gray-500 font-medium flex items-center gap-2">
                                                    <Icons.Clock size={16} className="text-brand"/> {selectedSeminar.date}
                                                </span>
                                                <span className="text-sm text-gray-500 font-medium flex items-center gap-2">
                                                    <Icons.MapPin size={16} className="text-brand"/> {selectedSeminar.location}
                                                </span>
                                                <span className="text-sm text-gray-500 font-medium flex items-center gap-2">
                                                    <Icons.Users size={16} className="text-brand"/> ì‹ ì²­í˜„í™©: <span className="text-brand font-bold">{selectedSeminar.currentParticipants || 0}</span> / {selectedSeminar.maxParticipants || 100} ëª…
                                                </span>
                                                {selectedSeminar.requiresPayment && selectedSeminar.price > 0 && (
                                                    <span className="text-lg font-bold text-brand flex items-center gap-2">
                                                        <Icons.DollarSign size={18} className="text-brand"/> ì°¸ê°€ë¹„: {selectedSeminar.price.toLocaleString()}ì›
                                                    </span>
                                                )}
                                                {(!selectedSeminar.requiresPayment || selectedSeminar.price === 0) && (
                                                    <span className="text-sm text-green-600 font-bold flex items-center gap-2">
                                                        <Icons.CheckCircle size={16} className="text-green-600"/> ë¬´ë£Œ ì°¸ê°€
                                                    </span>
                                                )}
                                            </div>
                                            <p className="text-gray-600 text-sm leading-relaxed bg-soft p-4 rounded-xl border border-brand/5">{selectedSeminar.desc}</p>
                                        </div>
                                        {!currentUser ? (
                                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."); }} className="w-full py-3 font-bold rounded-xl transition-colors shadow-lg mt-2 bg-gray-300 text-gray-500 cursor-not-allowed" disabled>
                                                ë¡œê·¸ì¸ í›„ ì‹ ì²­ ê°€ëŠ¥
                                            </button>
                                        ) : (
                                            <div className="flex flex-col gap-2 mt-2">
                                                {selectedSeminar.requiresPayment && selectedSeminar.price > 0 ? (
                                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handlePayment(selectedSeminar); }} className={`w-full py-3 font-bold rounded-xl transition-colors shadow-lg ${selectedSeminar.status === 'ì¢…ë£Œ' || selectedSeminar.status === 'ë§ˆê°' ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 shadow-green-500/20'}`} disabled={selectedSeminar.status === 'ì¢…ë£Œ' || selectedSeminar.status === 'ë§ˆê°'}>
                                                        {selectedSeminar.status === 'ì¢…ë£Œ' ? 'ì¢…ë£Œëœ ì¼ì •' : selectedSeminar.status === 'ë§ˆê°' ? 'ì‹ ì²­ ë§ˆê°' : `ê²°ì œí•˜ê¸° (${selectedSeminar.price.toLocaleString()}ì›)`}
                                                    </button>
                                                ) : (
                                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleApplyClick(selectedSeminar); }} className={`w-full py-3 font-bold rounded-xl transition-colors shadow-lg ${selectedSeminar.status === 'ì¢…ë£Œ' || selectedSeminar.status === 'ë§ˆê°' ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-brand text-white hover:bg-blue-700 shadow-brand/20'}`} disabled={selectedSeminar.status === 'ì¢…ë£Œ' || selectedSeminar.status === 'ë§ˆê°'}>
                                                        {selectedSeminar.status === 'ì¢…ë£Œ' ? 'ì¢…ë£Œëœ ì¼ì •' : selectedSeminar.status === 'ë§ˆê°' ? 'ì‹ ì²­ ë§ˆê°' : 'ì‹ ì²­í•˜ê¸°'}
                                                    </button>
                                                )}
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    {calendarModalData && (
                        <CalendarSelectModal 
                            seminar={calendarModalData} 
                            onClose={() => setCalendarModalData(null)} 
                            onConfirm={() => setCalendarModalData(null)}
                            autoRegister={calendarModalData.autoRegister || false}
                        />
                    )}
                </div>
            );
        };

        const App = () => {
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [content, setContent] = useState(defaultContent);
            const [membersData, setMembersData] = useState(defaultMembersData);
            const [seminarsData, setSeminarsData] = useState(defaultSeminarsData);
            const [communityPosts, setCommunityPosts] = useState(defaultCommunityPosts);
            const [foodData, setFoodData] = useState(defaultFoodData);
            const [currentView, setCurrentView] = useState('home');
            const [isAdminMode, setIsAdminMode] = useState(false);
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [users, setUsers] = useState([]);
            const [showSignUpModal, setShowSignUpModal] = useState(false);
            const [showLoginModal, setShowLoginModal] = useState(false);
            
            // ëª¨ë‹¬ ìƒíƒœ ë³€ê²½ ë””ë²„ê¹…
            useEffect(() => {
                console.log('showSignUpModal:', showSignUpModal);
            }, [showSignUpModal]);
            
            useEffect(() => {
                console.log('showLoginModal:', showLoginModal);
            }, [showLoginModal]);
            const [mySeminars, setMySeminars] = useState([]);
            const [myFoods, setMyFoods] = useState([]);
            const [myPosts, setMyPosts] = useState([]);
            const [adminLogs, setAdminLogs] = useState([]);
            const [searchKeyword, setSearchKeyword] = useState('');
            const [searchCategory, setSearchCategory] = useState('');
            const [searchStatus, setSearchStatus] = useState('');
            const [searchResults, setSearchResults] = useState([]);
            const [isSearchExpanded, setIsSearchExpanded] = useState(false);
            // ë©”ë‰´ í•­ëª© í™œì„±/ë¹„í™œì„± ìƒíƒœ ê´€ë¦¬
            const [menuEnabled, setMenuEnabled] = useState({
                'í™ˆ': true,
                'ì†Œê°œ': true,
                'í”„ë¡œê·¸ë¨': true,
                'ë¶€ì²­ì‚¬ íšŒì›': true,
                'ë¶€ì‚°ë§›ì§‘ë“±ë¡': true,
                'ì»¤ë®¤ë‹ˆí‹°': true,
                'í›„ì›': true
            });

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ì •ë³´ ë¡œë“œ
            useEffect(() => {
                const storedUsers = loadUsersFromStorage();
                if (storedUsers.length > 0) {
                    setUsers(storedUsers);
                }
                
                // í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì í™•ì¸
                const storedUser = loadCurrentUserFromStorage();
                if (storedUser) {
                    setCurrentUser(storedUser);
                    setMyPosts(communityPosts.filter(p => p.author === storedUser.name));
                }
            }, []);

            const addLog = (action, targetType, details, adminName = 'ì‹œìŠ¤í…œ', itemInfo = '') => {
                const timestamp = new Date().toLocaleString();
                const logEntry = {
                    timestamp,
                    action,
                    targetType,
                    details,
                    adminName,
                    itemInfo,
                    ipAddress: 'N/A', // í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” IPë¥¼ ì •í™•íˆ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ
                    userAgent: navigator.userAgent.substring(0, 100) // ë¸Œë¼ìš°ì € ì •ë³´
                };
                setAdminLogs(prev => [...prev, logEntry]);
            };

            // Sheet Data Loading Effects
            useEffect(() => { if (CONFIG_SHEET_URL) { /* fetch config */ } }, []);
            useEffect(() => { if (MEMBER_SHEET_URL) { /* fetch members */ } }, []);
            useEffect(() => { if (SEMINAR_SHEET_URL) { /* fetch seminars */ } }, []);

            const handleSignUp = async (userInfo) => {
                // PortOne ë³¸ì¸ì¸ì¦ í™•ì¸
                if (!userInfo.isIdentityVerified || !userInfo.impUid) {
                    return alert('ë³¸ì¸ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                }

                // ë¡œì»¬ ì¤‘ë³µ ì²´í¬ (ì „í™”ë²ˆí˜¸ ê¸°ë°˜)
                const existingUser = users.find(u => 
                    u.verifiedPhone === userInfo.verifiedPhone || 
                    u.impUid === userInfo.impUid
                );
                
                if (existingUser) {
                    return alert("ì´ë¯¸ ê°€ì…ëœ ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ì„ ì‹œë„í•´ì£¼ì„¸ìš”.");
                }

                try {
                    // PortOne ë³¸ì¸ì¸ì¦ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ìƒì„±
                    const newUser = {
                        id: userInfo.id || `user_${Date.now()}`,
                        email: userInfo.email,
                        password: userInfo.password, // ë¡œì»¬ ê²€ì¦ìš© (ì‹¤ì œë¡œëŠ” í•´ì‹œí™” ê¶Œì¥)
                        name: userInfo.verifiedName || userInfo.name,
                        company: userInfo.company || '',
                        role: userInfo.role || '',
                        industry: userInfo.businessCategory || userInfo.industry || 'ê¸°íƒ€',
                        userType: userInfo.userType || 'ì‚¬ì—…ì',
                        businessType: userInfo.businessType || '',
                        businessCategory: userInfo.businessCategory || '',
                        address: userInfo.address || '',
                        phone: userInfo.verifiedPhone || userInfo.phone || '',
                        img: userInfo.img || `https://ui-avatars.com/api/?name=${userInfo.verifiedName || userInfo.name}&background=random`,
                        approvalStatus: userInfo.approvalStatus || 'pending',
                        businessRegistrationNumber: userInfo.businessRegistrationNumber || null,
                        hashedRRN: userInfo.hashedRRN || null,
                        // PortOne ë³¸ì¸ì¸ì¦ ì •ë³´
                        isIdentityVerified: true,
                        verifiedName: userInfo.verifiedName,
                        verifiedPhone: userInfo.verifiedPhone,
                        verifiedBirthday: userInfo.verifiedBirthday,
                        verifiedGender: userInfo.verifiedGender,
                        impUid: userInfo.impUid,
                        createdAt: new Date().toISOString()
                    };

                    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                    const updatedUsers = [...users, newUser];
                    setUsers(updatedUsers);
                    saveUsersToStorage(updatedUsers);
                    
                    // ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ì—ë„ ì¶”ê°€ (ìŠ¹ì¸ëœ íšŒì›ë§Œ í‘œì‹œ)
                    const newMember = {
                        id: Date.now(),
                        name: newUser.name,
                        industry: newUser.businessCategory || newUser.industry || 'ê¸°íƒ€',
                        role: newUser.role || '',
                        company: newUser.company || '',
                        userType: newUser.userType,
                        businessType: newUser.businessType || '',
                        businessCategory: newUser.businessCategory || '',
                        address: newUser.address || '',
                        phone: newUser.phone || '',
                        img: newUser.img,
                        approvalStatus: newUser.approvalStatus || 'pending',
                        businessRegistrationNumber: newUser.businessRegistrationNumber || null
                    };
                    
                    alert("íšŒì›ê°€ì… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nê´€ë¦¬ì ìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìŠ¹ì¸ ìƒíƒœëŠ” ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                    
                } catch (error) {
                    console.error('íšŒì›ê°€ì… ì˜¤ë¥˜:', error);
                    alert('íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                }
            };

            const handleLogin = async (id, pw) => {
                try {
                    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ì°¾ê¸°
                    const storedUsers = loadUsersFromStorage();
                    const foundUser = storedUsers.find(u => 
                        (u.id === id || u.email === id) && u.password === pw
                    );

                    if (!foundUser) {
                        // ê¸°ì¡´ ë©”ëª¨ë¦¬ ìƒíƒœì—ì„œë„ í™•ì¸
                        const memoryUser = users.find(u => 
                            (u.id === id || u.email === id) && u.password === pw
                        );
                        
                        if (!memoryUser) {
                            throw new Error('ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                        }

                        // ë¡œê·¸ì¸ ì„±ê³µ
                        setCurrentUser(memoryUser);
                        saveCurrentUserToStorage(memoryUser);
                        setShowLoginModal(false);
                        setMyPosts(communityPosts.filter(p => p.author === memoryUser.name));

                        const approvalStatus = memoryUser.approvalStatus || 'pending';
                    if (approvalStatus === 'pending') {
                        alert("ë¡œê·¸ì¸ ì„±ê³µ!\n\níšŒì›ê°€ì… ì‹ ì²­ì´ ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.\nìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                    } else if (approvalStatus === 'rejected') {
                        alert("ë¡œê·¸ì¸ ì„±ê³µ!\n\níšŒì›ê°€ì… ì‹ ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.\nê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");
                        } else {
                            alert("ë¡œê·¸ì¸ ì„±ê³µ!");
                        }
                        
                        return true;
                    }

                    // ë¡œê·¸ì¸ ì„±ê³µ
                    setCurrentUser(foundUser);
                    saveCurrentUserToStorage(foundUser);
                    setShowLoginModal(false);
                    setMyPosts(communityPosts.filter(p => p.author === foundUser.name));
                    
                    const approvalStatus = foundUser.approvalStatus || 'pending';
                    if (approvalStatus === 'pending') {
                        alert("ë¡œê·¸ì¸ ì„±ê³µ!\n\níšŒì›ê°€ì… ì‹ ì²­ì´ ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.\nìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                    } else if (approvalStatus === 'rejected') {
                        alert("ë¡œê·¸ì¸ ì„±ê³µ!\n\níšŒì›ê°€ì… ì‹ ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.\nê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");
                    } else {
                        alert("ë¡œê·¸ì¸ ì„±ê³µ!");
                    }
                    
                    return true;

                } catch (error) {
                    console.error('ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
                    alert(error.message || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                    return false;
                }
            };

            const handleLogout = async () => {
                // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ í˜„ì¬ ì‚¬ìš©ì ì œê±°
                saveCurrentUserToStorage(null);
                setCurrentUser(null);
                setCurrentView('home');
                setMySeminars([]);
                setMyFoods([]);
                setMyPosts([]);
                alert("ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.");
            };
            
            const handleWithdraw = () => {
                 // ì„¸ë¯¸ë‚˜ í›„ê¸°ì™€ ì‚¬ì§„ì€ ìœ ì§€í•˜ê³ , ë‚˜ë¨¸ì§€ ê²Œì‹œê¸€ë§Œ ì‚­ì œ
                 const updatedPosts = communityPosts.filter(p => {
                     // í”„ë¡œê·¸ë¨ í›„ê¸°ëŠ” ìœ ì§€ (ì‘ì„±ìê°€ íƒˆí‡´ íšŒì›ì´ì–´ë„)
                     if (p.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && p.author === currentUser.name) {
                         return true; // ì„¸ë¯¸ë‚˜ í›„ê¸°ëŠ” ìœ ì§€
                     }
                     // ë‚˜ë¨¸ì§€ ê²Œì‹œê¸€ì€ ì‘ì„±ìê°€ íƒˆí‡´ íšŒì›ì´ë©´ ì‚­ì œ
                     return p.author !== currentUser.name;
                 });
                 setCommunityPosts(updatedPosts);
                 
                 // ë§›ì§‘ ë“±ë¡ ì‚­ì œ
                 const updatedFoods = foodData.filter(f => f.author !== currentUser.name);
                 setFoodData(updatedFoods);
                 
                 // ì‚¬ìš©ì ë° ë©¤ë²„ ë°ì´í„°ì—ì„œ ì œê±°
                 const updatedUsers = users.filter(u => u.id !== currentUser.id);
                 setUsers(updatedUsers);
                 saveUsersToStorage(updatedUsers);
                 
                 const updatedMembers = membersData.filter(m => m.name !== currentUser.name);
                 setMembersData(updatedMembers);
                 
                 handleLogout();
                 alert("íšŒì› íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì„¸ë¯¸ë‚˜ í›„ê¸°ì™€ ì‚¬ì§„ì€ ìœ ì§€ë©ë‹ˆë‹¤.");
            };

            const handleSeminarApply = (seminar) => {
                if (!currentUser) { alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤."); return false; }
                if (mySeminars.find(s => s.id === seminar.id)) { alert("ì´ë¯¸ ì‹ ì²­í•œ ì„¸ë¯¸ë‚˜ì…ë‹ˆë‹¤."); return false; }
                setMySeminars([...mySeminars, seminar]);
                return true;
            };

            const handleSeminarCancel = (seminarId) => {
                setMySeminars(mySeminars.filter(s => s.id !== seminarId));
                alert("ì„¸ë¯¸ë‚˜ ì‹ ì²­ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
            };

            const handleUpdateProfile = async (updatedData) => {
                if (!currentUser) {
                    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    return;
                }

                try {
                    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
                    const storedUsers = loadUsersFromStorage();
                    const userIndex = storedUsers.findIndex(u => 
                        u.id === currentUser.id || 
                        u.impUid === currentUser.impUid ||
                        u.verifiedPhone === currentUser.verifiedPhone
                    );

                    if (userIndex === -1) {
                        throw new Error('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    }

                    // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
                    const updatedUser = {
                        ...storedUsers[userIndex],
                        ...updatedData,
                        updatedAt: new Date().toISOString()
                    };

                    storedUsers[userIndex] = updatedUser;
                    saveUsersToStorage(storedUsers);

                    // í˜„ì¬ ì‚¬ìš©ì ìƒíƒœ ì—…ë°ì´íŠ¸
                    const newCurrentUser = { ...currentUser, ...updatedData };
                    setCurrentUser(newCurrentUser);
                    saveCurrentUserToStorage(newCurrentUser);
                    setUsers(storedUsers);

                    alert("í”„ë¡œí•„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
                } catch (error) {
                    console.error('í”„ë¡œí•„ ìˆ˜ì • ì˜¤ë¥˜:', error);
                    alert(`í”„ë¡œí•„ ìˆ˜ì • ì‹¤íŒ¨: ${error.message}`);
                }
            };

            const handleFoodRegister = (newFood) => {
                if (!currentUser) return alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.");
                const food = { ...newFood, id: Date.now(), status: 'pending' }; 
                setFoodData([...foodData, food]);
                setMyFoods([...myFoods, food]); 
                alert("ë§›ì§‘ ë“±ë¡ì´ ì‹ ì²­ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì ìŠ¹ì¸ í›„ ë…¸ì¶œë©ë‹ˆë‹¤.");
            };

            const handleSearch = () => {
                if (!searchKeyword && !searchStatus && !searchCategory) {
                    setSearchResults(seminarsData);
                    setIsSearchExpanded(true);
                    return; 
                }
                const results = seminarsData.filter(seminar => {
                    const text = (seminar.title + seminar.desc).toLowerCase();
                    const matchKeyword = !searchKeyword || text.includes(searchKeyword.toLowerCase());
                    const matchStatus = !searchStatus || seminar.status === searchStatus;
                    const matchCategory = !searchCategory || seminar.category === searchCategory;
                    return matchKeyword && matchStatus && matchCategory;
                });
                setSearchResults(results);
                setIsSearchExpanded(true);
            };

            const handleCommunityCreate = (newPost) => {
                if (!currentUser && newPost.category !== 'ê³µì§€ì‚¬í•­') return alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."); 
                const post = { ...newPost, id: communityPosts.length + 1, date: new Date().toISOString().slice(0, 10).replace(/-/g, '.'), views: 0, reply: null, author: currentUser ? currentUser.name : 'ìµëª…' };
                setCommunityPosts([post, ...communityPosts]);
                if(currentUser) setMyPosts([post, ...myPosts]);
            };
            const handleCommunityDelete = (id) => setCommunityPosts(communityPosts.filter(p => p.id !== id));

            const handleNotifyAdmin = (notification) => {
                // ê´€ë¦¬ì ì•Œë¦¼ ì¶”ê°€ (í™œë™ ê¸°ë¡ì— ì¶”ê°€)
                addLog('NOTIFICATION', 'ê±´ì˜ì‚¬í•­', `ìƒˆ ê±´ì˜ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤: ${notification.title}`, 'ì‹œìŠ¤í…œ', `ì‘ì„±ì: ${notification.author}, ë‚ ì§œ: ${notification.date}`);
                alert("ê±´ì˜ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
            };

            const handleAdminLogin = (id, pw) => {
                // ê´€ë¦¬ì ê³„ì •: í–‡ë°˜/0219, ëŒëŒ/1122
                if ((id === 'í–‡ë°˜' && pw === '0219') || (id === 'ëŒëŒ' && pw === '1122')) {
                    setIsAdminMode(true);
                    setShowAdminLogin(false);
                    // ê´€ë¦¬ì ë¡œê·¸ì¸ ê¸°ë¡
                    addLog('LOGIN', 'ì‹œìŠ¤í…œ', `${id} ê´€ë¦¬ìê°€ ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.`, id, `ê´€ë¦¬ì ë¡œê·¸ì¸: ${id}`);
                } else {
                    alert("ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            };

            const handleAdminMemberUpdate = (newMembers, actionType, detail) => { 
                setMembersData(newMembers); 
                const adminName = currentUser ? currentUser.name : 'ì‹œìŠ¤í…œ';
                addLog(actionType, 'íšŒì›', detail, adminName, detail); 
            };
            const handleAdminSeminarUpdate = (newSeminars, actionType, detail) => { 
                setSeminarsData(newSeminars); 
                const adminName = currentUser ? currentUser.name : 'ì‹œìŠ¤í…œ';
                addLog(actionType, 'ì„¸ë¯¸ë‚˜', detail, adminName, detail); 
            };
            const handleAdminPostUpdate = (newPosts, actionType, detail) => { 
                setCommunityPosts(newPosts); 
                const adminName = currentUser ? currentUser.name : 'ì‹œìŠ¤í…œ';
                addLog(actionType, 'ì»¤ë®¤ë‹ˆí‹°', detail, adminName, detail); 
            };
            const handleAdminFoodUpdate = (newFoodList, actionType, detail) => { 
                setFoodData(newFoodList); 
                const adminName = currentUser ? currentUser.name : 'ì‹œìŠ¤í…œ';
                addLog(actionType, 'ë§›ì§‘', detail, adminName, detail); 
            };
            
            // ğŸŒŸ ëª¨ë°”ì¼ ë©”ë‰´ ì—´ê¸°/ë‹«ê¸° ì»´í¬ë„ŒíŠ¸
            const MobileMenu = ({ isOpen, onClose, onNavigate, menuEnabled }) => {
                if (!isOpen) return null;
                return (
                    <div className="fixed inset-0 z-50 bg-white/95 backdrop-blur-md flex flex-col items-center justify-center animate-fade-in">
                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onClose(); }} className="absolute top-6 right-6 p-2 text-dark hover:bg-gray-100 rounded-full"><Icons.X size={32}/></button>
                        <nav className="flex flex-col gap-6 text-center">
                            {['í™ˆ', 'ì†Œê°œ', 'í”„ë¡œê·¸ë¨', 'ë¶€ì²­ì‚¬ íšŒì›', 'ë¶€ì‚°ë§›ì§‘ë“±ë¡', 'ì»¤ë®¤ë‹ˆí‹°', 'í›„ì›'].map((item, idx) => (
                                <div key={idx} className="flex flex-col items-center gap-2">
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); onNavigate(item); onClose(); }} className={`text-2xl font-bold ${!menuEnabled[item] ? 'opacity-50 cursor-not-allowed' : 'text-dark hover:text-brand'} transition-colors`}>
                                        {item}
                                    </button>
                                    {!menuEnabled[item] && (
                                        <button type="button" disabled className="px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full border border-yellow-300 cursor-not-allowed opacity-75" style={{ pointerEvents: 'none' }}>
                                            ì¤€ë¹„ì¤‘
                                        </button>
                                    )}
                                </div>
                            ))}
                            {!currentUser ? (
                                <div className="flex flex-col gap-4 mt-8 w-64">
                                    <button type="button" onClick={(e) => { 
                                        e.preventDefault(); 
                                        e.stopPropagation(); 
                                        console.log('ëª¨ë°”ì¼ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­');
                                        setShowLoginModal(true); 
                                        onClose(); 
                                    }} className="w-full py-3 border-[0.5px] border-dark text-dark font-bold rounded-xl hover:bg-gray-50">ë¡œê·¸ì¸</button>
                                    <button type="button" onClick={(e) => { 
                                        e.preventDefault(); 
                                        e.stopPropagation(); 
                                        console.log('ëª¨ë°”ì¼ ê°€ì…í•˜ê¸° ë²„íŠ¼ í´ë¦­');
                                        setShowSignUpModal(true); 
                                        onClose(); 
                                    }} className="w-full py-3 bg-brand text-white font-bold rounded-xl hover:bg-blue-700">ê°€ì…í•˜ê¸°</button>
                                </div>
                            ) : (
                                <div className="flex flex-col gap-4 mt-8 w-64">
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('myPage'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); onClose(); }} className="w-full py-3 border-2 border-brand text-brand font-bold rounded-xl hover:bg-brand/5">ë§ˆì´í˜ì´ì§€</button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleLogout(); onClose(); }} className="w-full py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300">ë¡œê·¸ì•„ì›ƒ</button>
                                </div>
                            )}
                        </nav>
                    </div>
                );
            };

            const handleNavigation = (item) => {
                // ë¹„í™œì„±í™”ëœ ë©”ë‰´ í´ë¦­ ì‹œ ì¤€ë¹„ì¤‘ ì•Œë¦¼
                if (!menuEnabled[item]) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    return;
                }
                
                if (item === 'í™ˆ') { 
                    setCurrentView('home'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'ì†Œê°œ') { 
                    setCurrentView('about'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'í”„ë¡œê·¸ë¨') { 
                    setCurrentView('allSeminars'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'ë¶€ì²­ì‚¬ íšŒì›') { 
                    setCurrentView('allMembers'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'ë¶€ì‚°ë§›ì§‘ë“±ë¡') { 
                    setCurrentView('busanFood'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'ì»¤ë®¤ë‹ˆí‹°') { 
                    setCurrentView('community'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                } else if (item === 'í›„ì›') { 
                    setCurrentView('donation'); 
                    setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
                }
            };

            const getNavClass = (item) => {
                const baseClass = "nav-item px-6 py-2 rounded-full text-[18px] font-medium text-gray-600 hover:text-brand";
                let isActive = false;
                if (item === 'í™ˆ' && currentView === 'home') isActive = true;
                else if (item === 'ì†Œê°œ' && currentView === 'about') isActive = true;
                else if (item === 'í”„ë¡œê·¸ë¨' && currentView === 'allSeminars') isActive = true;
                else if (item === 'ë¶€ì²­ì‚¬ íšŒì›' && currentView === 'allMembers') isActive = true;
                else if (item === 'ë¶€ì‚°ë§›ì§‘ë“±ë¡' && currentView === 'busanFood') isActive = true;
                else if (item === 'ì»¤ë®¤ë‹ˆí‹°' && (currentView === 'community' || currentView === 'notice')) isActive = true;
                else if (item === 'í›„ì›' && currentView === 'donation') isActive = true;
                return `${baseClass} ${isActive ? 'active' : ''}`;
            }

            const renderView = () => {
                if (isAdminMode) return <AdminDashboard members={membersData} setMembers={(newData) => handleAdminMemberUpdate(newData, 'UPDATE', 'íšŒì› ëª©ë¡ ë³€ê²½ë¨')} seminars={seminarsData} setSeminars={(newData) => handleAdminSeminarUpdate(newData, 'UPDATE', 'ì„¸ë¯¸ë‚˜ ëª©ë¡ ë³€ê²½ë¨')} posts={communityPosts} setPosts={(newData) => handleAdminPostUpdate(newData, 'UPDATE', 'ê²Œì‹œê¸€ ëª©ë¡ ë³€ê²½ë¨')} foodList={foodData} setFoodList={(newData) => handleAdminFoodUpdate(newData, 'UPDATE', 'ë§›ì§‘ ëª©ë¡ ë³€ê²½ë¨')} logs={adminLogs} onBack={() => setIsAdminMode(false)} currentUser={currentUser} addLog={addLog} content={content} setContent={setContent} menuEnabled={menuEnabled} setMenuEnabled={setMenuEnabled} />;
                if (currentView === 'myPage') return <MyPageView onBack={() => setCurrentView('home')} user={currentUser} mySeminars={mySeminars} myFoods={myFoods} myPosts={myPosts} onWithdraw={handleWithdraw} onUpdateProfile={handleUpdateProfile} onCancelSeminar={handleSeminarCancel} />;
                if (currentView === 'allMembers' && !menuEnabled['ë¶€ì²­ì‚¬ íšŒì›']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'allMembers') return <AllMembersView onBack={() => setCurrentView('home')} members={membersData.filter(m => m.approvalStatus === 'approved' || !m.approvalStatus)} />;
                if (currentView === 'allSeminars' && !menuEnabled['í”„ë¡œê·¸ë¨']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'allSeminars') return <AllSeminarsView onBack={() => setCurrentView('home')} seminars={seminarsData} onApply={handleSeminarApply} currentUser={currentUser} />; 
                if (currentView === 'busanFood' && !menuEnabled['ë¶€ì‚°ë§›ì§‘ë“±ë¡']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'busanFood') return <BusanFoodView onBack={() => setCurrentView('home')} foodList={foodData} onRegister={handleFoodRegister} currentUser={currentUser} />;
                if (currentView === 'community' && !menuEnabled['ì»¤ë®¤ë‹ˆí‹°']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'community') return <CommunityView onBack={() => setCurrentView('home')} posts={communityPosts} onCreate={handleCommunityCreate} onDelete={handleCommunityDelete} isAdmin={isAdminMode} currentUser={currentUser} onNotifyAdmin={handleNotifyAdmin} seminars={seminarsData} />;
                if (currentView === 'notice') return <NoticeView onBack={() => setCurrentView('home')} posts={communityPosts} />;
                if (currentView === 'donation' && !menuEnabled['í›„ì›']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'donation') return <DonationView onBack={() => setCurrentView('home')} currentUser={currentUser} setCurrentUser={setCurrentUser} setMembersData={setMembersData} membersData={membersData} saveCurrentUserToStorage={saveCurrentUserToStorage} />;
                if (currentView === 'about' && !menuEnabled['ì†Œê°œ']) {
                    alert('ì¤€ë¹„ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
                    setCurrentView('home');
                    return null;
                }
                if (currentView === 'about') return <AboutView onBack={() => setCurrentView('home')} />;
                
                return (
                    <>
                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 1: HERO & SEARCH (ë©”ì¸ íˆì–´ë¡œ + ê²€ìƒ‰)
                            ============================================
                            ì´ ì„¹ì…˜ì€ í˜ì´ì§€ ìµœìƒë‹¨ì— í‘œì‹œë©ë‹ˆë‹¤.
                            ë©”ì¸ íƒ€ì´í‹€, ì„¤ëª…, ë°°ê²½ ì´ë¯¸ì§€, ê²€ìƒ‰ ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        <section className="pt-32 pb-16 px-4 md:px-6">
                             <div className="container mx-auto max-w-7xl relative mb-40 md:mb-20">
                                <div className="flex flex-col md:flex-row items-center md:items-center justify-between mb-8 px-2 text-center md:text-right">
                                    <div className="flex-1">
                                        <h1 className="text-3xl sm:text-4xl md:text-6xl font-bold leading-tight break-keep text-dark whitespace-pre-line text-center md:text-left">
                                            í•¨ê»˜ ì„±ì¥í•˜ëŠ”<br/>ì²­ë…„ ì‚¬ì—…ê°€ ì»¤ë®¤ë‹ˆí‹°<br/><span className="text-brand">ë¶€ì‚°ì²­ë…„ì‚¬ì—…ê°€ë“¤</span>
                                        </h1>
                                        <p className="text-gray-500 text-base sm:text-lg md:text-left max-w-md mt-4 break-keep">{content.hero_desc}</p>
                                    </div>
                                </div>
                                <div className="relative w-full">
                                    <div className="relative w-full h-[500px] md:h-[600px] rounded-4xl md:rounded-5xl overflow-hidden shadow-deep-blue group z-0">
                                        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" className="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105" />
                                        <div className="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"></div>
                                    </div>
                                    
                                    <div className="absolute top-full left-1/2 -translate-x-1/2 w-[95%] md:w-auto md:min-w-[800px] bg-white rounded-3xl shadow-float flex flex-col transition-all duration-300 ease-in-out z-20 overflow-hidden -mt-10 md:-mt-12">
                                        <div className="flex flex-col md:flex-row gap-2 md:gap-0 items-center p-3 relative bg-white z-30">
                                            <div className="flex-1 w-full px-4 border-b md:border-b-0 md:border-r border-brand/10 py-2 md:py-0">
                                                <div className="flex items-center gap-3 mb-1 text-gray-400 text-xs font-bold uppercase tracking-wider whitespace-nowrap"><Icons.Search size={14} className="text-accent" /> í‚¤ì›Œë“œ ê²€ìƒ‰</div>
                                                <input type="text" className="w-full font-bold text-dark bg-transparent outline-none text-sm placeholder-gray-300" placeholder="ê´€ì‹¬ ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: íˆ¬ì, ë§ˆì¼€íŒ…)" value={searchKeyword} onChange={(e) => setSearchKeyword(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && handleSearch()}/>
                                            </div>
                                            <div className="w-full md:w-48 px-4 border-b md:border-b-0 md:border-r border-brand/10 py-2 md:py-0">
                                                <div className="flex items-center gap-3 mb-1 text-gray-400 text-xs font-bold uppercase tracking-wider whitespace-nowrap"><Icons.Tag size={14} className="text-accent" /> ì¹´í…Œê³ ë¦¬</div>
                                                <select className="w-full font-bold text-dark bg-transparent outline-none cursor-pointer text-sm" value={searchCategory} onChange={(e) => setSearchCategory(e.target.value)}><option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option><option value="êµìœ¡/ì„¸ë¯¸ë‚˜">ğŸ“š êµìœ¡ Â· ì„¸ë¯¸ë‚˜</option><option value="ë„¤íŠ¸ì›Œí‚¹/ëª¨ì„">ğŸ¤ ë„¤íŠ¸ì›Œí‚¹ Â· ëª¨ì„</option><option value="íˆ¬ì/IR">ğŸ’° íˆ¬ì Â· IR</option><option value="ë©˜í† ë§/ìƒë‹´">ğŸ’¡ ë©˜í† ë§ Â· ìƒë‹´</option><option value="ê¸°íƒ€">ğŸ¸ ê¸°íƒ€</option></select>
                                            </div>
                                            <div className="w-full md:w-40 px-4 py-2 md:py-0">
                                                <div className="flex items-center gap-3 mb-1 text-gray-400 text-xs font-bold uppercase tracking-wider whitespace-nowrap"><Icons.CheckCircle size={14} className="text-accent" /> ëª¨ì§‘ ìƒíƒœ</div>
                                                <select className="w-full font-bold text-dark bg-transparent outline-none cursor-pointer text-sm" value={searchStatus} onChange={(e) => setSearchStatus(e.target.value)}><option value="">ì „ì²´ ìƒíƒœ</option><option value="ëª¨ì§‘ì¤‘">ëª¨ì§‘ì¤‘</option><option value="ë§ˆê°ì„ë°•">ë§ˆê°ì„ë°•</option><option value="ì¢…ë£Œ">ì¢…ë£Œ</option></select>
                                            </div>
                                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleSearch(); }} className="w-full md:w-16 h-12 md:h-14 bg-brand rounded-2xl flex items-center justify-center text-white shadow-lg shadow-brand/30 hover:bg-blue-800 transition-colors shrink-0"><Icons.Search /></button>
                                        </div>
                                        <div className={`transition-all duration-300 ease-in-out bg-soft ${isSearchExpanded ? 'max-h-[400px] opacity-100 border-t border-brand/10' : 'max-h-0 opacity-0'}`}>
                                            <div className="p-4 md:p-6 overflow-y-auto max-h-[400px]">
                                                <div className="flex justify-between items-center mb-4"><div className="flex items-center gap-3"><h3 className="text-sm font-bold text-gray-500">ê²€ìƒ‰ ê²°ê³¼ <span className="text-brand">{searchResults.length}</span>ê±´</h3></div><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setIsSearchExpanded(false); }} className="text-xs text-gray-400 hover:text-dark flex items-center gap-1">ë‹«ê¸° <Icons.X size={14}/></button></div>
                                                {searchResults.length > 0 ? (<div className="grid grid-cols-1 gap-3">{searchResults.map((result, idx) => (<div key={idx} className="bg-white p-4 rounded-2xl border border-gray-100 hover:border-brand/30 hover:shadow-md transition-all cursor-pointer flex flex-col md:flex-row md:items-center gap-4" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}><div className="flex-1"><div className="flex gap-2 mb-2"><span className={`text-[10px] font-bold px-2 py-1 rounded-full ${result.status === 'ëª¨ì§‘ì¤‘' ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600'}`}>{result.status}</span><span className="text-[10px] font-bold px-2 py-1 bg-gray-50 text-gray-500 rounded-full flex items-center gap-1"><Icons.Calendar size={10}/> {result.date}</span><span className="text-[10px] font-bold px-2 py-1 bg-brand/10 text-brand rounded-full">{result.category}</span></div><h4 className="font-bold text-dark text-lg mb-1 break-keep">{result.title}</h4><div className="text-xs text-gray-500 mb-1 font-medium">ì‹ ì²­: {result.currentParticipants || 0} / {result.maxParticipants}ëª…</div><p className="text-xs text-gray-500 line-clamp-1 break-keep">{result.desc}</p></div><div className="flex items-center justify-between md:justify-end gap-3 w-full md:w-auto mt-2 md:mt-0 pt-2 md:pt-0 border-t md:border-0 border-gray-50"><span className="text-xs text-brand font-bold hover:underline flex items-center gap-1">ìƒì„¸ë³´ê¸° <Icons.ArrowRight size={12} /></span></div></div>))}</div>) : (<div className="py-10 text-center text-gray-400 flex flex-col items-center gap-3"><div className="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center"><Icons.Info className="w-6 h-6 text-gray-300" /></div><p className="text-sm">ì¡°ê±´ì— ë§ëŠ” ì„¸ë¯¸ë‚˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p></div>)}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        
                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 2: FOOD BANNER (ë§›ì§‘ ë¡¤ë§ ë°°ë„ˆ)
                            ============================================
                            ë¬´í•œ ìŠ¤í¬ë¡¤ë˜ëŠ” ë§›ì§‘ ì¶”ì²œ ë°°ë„ˆì…ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <div> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        {menuEnabled['ë¶€ì‚°ë§›ì§‘ë“±ë¡'] && (
                        <div className="relative w-full bg-brand/5 py-4 overflow-hidden border-t border-b border-brand/10 mb-20">
                            <div className="scrolling-wrapper animate-scroll-right flex items-center gap-6 px-4">
                                {foodData.filter(f => f.status === 'approved').map((item, idx) => (<div key={`orig-${idx}`} className="bg-white rounded-2xl shadow-sm p-3 flex items-center gap-4 w-[320px] h-[100px] shrink-0 border border-brand/10 cursor-pointer hover:shadow-md transition-shadow" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('busanFood'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}><div className="w-20 h-20 rounded-xl overflow-hidden shrink-0"><img src={item.img} alt={item.title} className="w-full h-full object-cover" /></div><div className="flex-1 overflow-hidden"><div className="flex items-center gap-1 mb-1"><span className="text-[10px] font-bold px-1.5 py-0.5 bg-brand text-white rounded">ë§›ì§‘</span><span className="text-[10px] font-bold text-gray-400">{item.category}</span></div><h4 className="font-bold text-dark text-sm truncate">{item.title}</h4><p className="text-xs text-gray-500 truncate mt-0.5">{item.desc}</p></div></div>))}
                                {foodData.filter(f => f.status === 'approved').map((item, idx) => (<div key={`clone-${idx}`} className="bg-white rounded-2xl shadow-sm p-3 flex items-center gap-4 w-[320px] h-[100px] shrink-0 border border-brand/10 cursor-pointer hover:shadow-md transition-shadow" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('busanFood'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}><div className="w-20 h-20 rounded-xl overflow-hidden shrink-0"><img src={item.img} alt={item.title} className="w-full h-full object-cover" /></div><div className="flex-1 overflow-hidden"><div className="flex items-center gap-1 mb-1"><span className="text-[10px] font-bold px-1.5 py-0.5 bg-brand text-white rounded">ë§›ì§‘</span><span className="text-[10px] font-bold text-gray-400">{item.category}</span></div><h4 className="font-bold text-dark text-sm truncate">{item.title}</h4><p className="text-xs text-gray-500 truncate mt-0.5">{item.desc}</p></div></div>))}
                            </div>
                        </div>
                        )}

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 2-1: SEMINAR REVIEWS (ì„¸ë¯¸ë‚˜ í›„ê¸° ìºëŸ¬ì…€)
                            ============================================
                            ì„¸ë¯¸ë‚˜ í›„ê¸° ë¬´í•œë£¨í”„ ìºëŸ¬ì…€ì…ë‹ˆë‹¤.
                            ë§›ì§‘ ì„¹ì…˜ ì•„ë˜ì— ìœ„ì¹˜í•˜ë©°, ë³„ì ê³¼ í•¨ê»˜ í‘œì‹œë©ë‹ˆë‹¤.
                            ìµœì†Œ 300*100px, ìµœëŒ€ 1200*100px ì‚¬ì´ì¦ˆ
                            ë°ì´í„°ê°€ ë§ì„ ê²½ìš° ë‘ ì¤„ë¡œ í‘œì‹œ
                            ë§›ì§‘ ì„¹ì…˜ë³´ë‹¤ 2ë°° ì†ë„ë¡œ ë¬´í•œë£¨í”„
                            ============================================ */}
                        {menuEnabled['í”„ë¡œê·¸ë¨'] && menuEnabled['ì»¤ë®¤ë‹ˆí‹°'] && (() => {
                            const reviewPosts = communityPosts.filter(p => p.category === 'í”„ë¡œê·¸ë¨ í›„ê¸°' && p.rating);
                            if (reviewPosts.length === 0) return null;
                            
                            const itemsPerRow = Math.ceil(reviewPosts.length / 2);
                            const cardWidth = Math.min(Math.max(300, Math.floor(1200 / itemsPerRow)), 1200);
                            
                            return (
                                <div className="relative w-full bg-gradient-to-r from-blue-50 to-indigo-50 py-6 overflow-hidden border-t border-b border-blue-200/30 mb-20">
                                    <div className="scrolling-wrapper animate-scroll-right-fast flex items-center gap-[5px] px-4">
                                        {reviewPosts.map((review, idx) => (
                                            <div key={`review-orig-${idx}`} className="bg-white rounded-xl shadow-md p-4 flex items-center gap-4 shrink-0 border border-blue-100 cursor-pointer hover:shadow-lg transition-shadow" style={{ width: `${cardWidth}px`, minWidth: '300px', maxWidth: '1200px', height: '100px' }} onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('community'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}>
                                                {review.images && review.images.length > 0 ? (
                                                    <div className="w-20 h-20 rounded-lg overflow-hidden shrink-0">
                                                        <img src={review.images[0]} alt={review.title} className="w-full h-full object-cover" />
                                                    </div>
                                                ) : (
                                                    <div className="w-20 h-20 rounded-lg bg-gradient-to-br from-brand/20 to-blue-500/20 flex items-center justify-center shrink-0">
                                                        <Icons.Star className="w-8 h-8 text-brand/40" />
                                                    </div>
                                                )}
                                                <div className="flex-1 overflow-hidden min-w-0">
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <span className="text-[10px] font-bold px-2 py-0.5 bg-blue-500 text-white rounded">í”„ë¡œê·¸ë¨ í›„ê¸°</span>
                                                        {review.rating && (
                                                            <div className="flex gap-0.5">
                                                                {[1, 2, 3, 4, 5].map(star => (
                                                                    review.rating >= star ? (
                                                                        <Icons.Star key={star} className="w-3 h-3 text-yellow-400" style={{ fill: 'currentColor' }} />
                                                                    ) : (
                                                                        <Icons.Star key={star} className="w-3 h-3 text-gray-300" />
                                                                    )
                                                                ))}
                                                            </div>
                                                        )}
                                                    </div>
                                                    <h4 className="font-bold text-dark text-sm truncate">{review.title}</h4>
                                                    <p className="text-xs text-gray-500 truncate mt-0.5">{review.content}</p>
                                                </div>
                                            </div>
                                        ))}
                                        {reviewPosts.map((review, idx) => (
                                            <div key={`review-clone-${idx}`} className="bg-white rounded-xl shadow-md p-4 flex items-center gap-4 shrink-0 border border-blue-100 cursor-pointer hover:shadow-lg transition-shadow" style={{ width: `${cardWidth}px`, minWidth: '300px', maxWidth: '1200px', height: '100px' }} onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('community'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}>
                                                {review.images && review.images.length > 0 ? (
                                                    <div className="w-20 h-20 rounded-lg overflow-hidden shrink-0">
                                                        <img src={review.images[0]} alt={review.title} className="w-full h-full object-cover" />
                                                    </div>
                                                ) : (
                                                    <div className="w-20 h-20 rounded-lg bg-gradient-to-br from-brand/20 to-blue-500/20 flex items-center justify-center shrink-0">
                                                        <Icons.Star className="w-8 h-8 text-brand/40" />
                                                    </div>
                                                )}
                                                <div className="flex-1 overflow-hidden min-w-0">
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <span className="text-[10px] font-bold px-2 py-0.5 bg-blue-500 text-white rounded">í”„ë¡œê·¸ë¨ í›„ê¸°</span>
                                                        {review.rating && (
                                                            <div className="flex gap-0.5">
                                                                {[1, 2, 3, 4, 5].map(star => (
                                                                    review.rating >= star ? (
                                                                        <Icons.Star key={star} className="w-3 h-3 text-yellow-400" style={{ fill: 'currentColor' }} />
                                                                    ) : (
                                                                        <Icons.Star key={star} className="w-3 h-3 text-gray-300" />
                                                                    )
                                                                ))}
                                                            </div>
                                                        )}
                                                    </div>
                                                    <h4 className="font-bold text-dark text-sm truncate">{review.title}</h4>
                                                    <p className="text-xs text-gray-500 truncate mt-0.5">{review.content}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            );
                        })()}

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 3: STATS (í†µê³„ ìˆ«ì)
                            ============================================
                            í™œë™ì¤‘ì¸ ì‚¬ì—…ê°€, ì§„í–‰ëœ ì„¸ë¯¸ë‚˜, íˆ¬ì ì„±ê³µ ì‚¬ë¡€ ë“±ì˜ í†µê³„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        <section className="py-20 bg-soft/50">
                            <div className="container mx-auto max-w-6xl px-6">
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                                    <div><div className="text-3xl md:text-4xl font-bold text-brand mb-2">{content.stat_1_val}</div><div className="text-sm text-gray-500 font-medium break-keep">{content.stat_1_desc}</div></div>
                                    <div><div className="text-3xl md:text-4xl font-bold text-brand mb-2">{content.stat_2_val}</div><div className="text-sm text-gray-500 font-medium break-keep">{content.stat_2_desc}</div></div>
                                    <div><div className="text-3xl md:text-4xl font-bold text-brand mb-2">{content.stat_3_val}</div><div className="text-sm text-gray-500 font-medium break-keep">{content.stat_3_desc}</div></div>
                                    <div><div className="text-3xl md:text-4xl font-bold text-brand mb-2">{content.stat_4_val}</div><div className="text-sm text-gray-500 font-medium break-keep">{content.stat_4_desc}</div></div>
                                </div>
                            </div>
                        </section>

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 4: FEATURES (íŠ¹ì¥ì  ì†Œê°œ)
                            ============================================
                            "í•¨ê»˜í•  ë•Œ ë” ë©€ë¦¬ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤" ì„¹ì…˜ì…ë‹ˆë‹¤.
                            ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬, ê²€ì¦ëœ ì „ë¬¸ê°€, ì„±ê³µ ì‚¬ë¡€ ê³µìœ ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        <section className="py-20 px-6 bg-white">
                            <div className="container mx-auto max-w-6xl">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                                    <div className="relative h-[300px] md:h-[500px]">
                                        <div className="absolute top-0 left-0 w-3/5 h-3/5 rounded-3xl overflow-hidden shadow-deep-blue z-10"><img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" className="w-full h-full object-cover" alt="Office"/></div>
                                        <div className="absolute bottom-0 right-0 w-3/5 h-3/5 rounded-3xl overflow-hidden shadow-deep-blue z-20 border-4 border-white"><img src="https://images.unsplash.com/photo-1559223607-a43c990c364c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" className="w-full h-full object-cover" alt="Meeting"/></div>
                                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-50 rounded-full -z-10 blur-3xl"></div>
                                    </div>
                                    <div><h2 className="text-2xl md:text-5xl font-bold text-dark mb-6 leading-tight break-keep">í•¨ê»˜í•  ë•Œ ë” ë©€ë¦¬ <br/> ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤</h2><div className="space-y-8 mt-10"><div className="flex gap-4"><div className="w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-brand shrink-0"><Icons.Users /></div><div><h3 className="text-lg md:text-xl font-bold text-dark mb-1">ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬</h3><p className="text-gray-500 text-sm leading-relaxed break-keep">IT, ì œì¡°, ìœ í†µ ë“± ë‹¤ì–‘í•œ ì‚°ì—…êµ°ì˜ ëŒ€í‘œë‹˜ë“¤ê³¼ ì—°ê²°ë˜ì–´ ìƒˆë¡œìš´ ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°íšŒë¥¼ ì°½ì¶œí•©ë‹ˆë‹¤.</p></div></div><div className="flex gap-4"><div className="w-12 h-12 rounded-2xl bg-orange-50 flex items-center justify-center text-orange-500 shrink-0"><Icons.CheckCircle /></div><div><h3 className="text-lg md:text-xl font-bold text-dark mb-1">ê²€ì¦ëœ ì „ë¬¸ê°€</h3><p className="text-gray-500 text-sm leading-relaxed break-keep">ì„¸ë¬´, ë…¸ë¬´, ë§ˆì¼€íŒ… ë“± ê° ë¶„ì•¼ ì „ë¬¸ê°€ ë©˜í† ë§ì„ í†µí•´ ì‚¬ì—… ìš´ì˜ì˜ ì–´ë ¤ì›€ì„ í•´ê²°í•´ë“œë¦½ë‹ˆë‹¤.</p></div></div><div className="flex gap-4"><div className="w-12 h-12 rounded-2xl bg-green-50 flex items-center justify-center text-green-500 shrink-0"><Icons.Star /></div><div><h3 className="text-lg md:text-xl font-bold text-dark mb-1">ì„±ê³µ ì‚¬ë¡€ ê³µìœ </h3><p className="text-gray-500 text-sm leading-relaxed break-keep">ì„ ë°° ì°½ì—…ê°€ë“¤ì˜ ìƒìƒí•œ ì„±ê³µ ë° ì‹¤íŒ¨ ì‚¬ë¡€ë¥¼ í†µí•´ ì‹œí–‰ì°©ì˜¤ë¥¼ ì¤„ì´ê³  ë¹ ë¥´ê²Œ ì„±ì¥í•˜ì„¸ìš”.</p></div></div></div></div>
                                </div>
                            </div>
                        </section>

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 5: ACTIVITIES (ì£¼ìš” í™œë™ ì¹´ë“œ)
                            ============================================
                            "ì»¤ë®¤ë‹ˆí‹° ì£¼ìš” í™œë™" ì„¹ì…˜ì…ë‹ˆë‹¤.
                            ë¹„ì¦ˆë‹ˆìŠ¤ ì„¸ë¯¸ë‚˜, íˆ¬ì/ì§€ì›ì‚¬ì—…, ë„¤íŠ¸ì›Œí‚¹ ë“±ì˜ ì¹´ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        {menuEnabled['í”„ë¡œê·¸ë¨'] && (
                        <section className="py-20 px-6">
                            <div className="container mx-auto max-w-7xl">
                                <div className="flex flex-col md:flex-row justify-between items-end mb-10 gap-4">
                                    <div><h2 className="text-2xl md:text-3xl font-bold text-dark mb-3 break-keep">ì»¤ë®¤ë‹ˆí‹° <span className="text-brand">ì£¼ìš” í™œë™</span></h2><p className="text-gray-500 text-sm md:text-base break-keep">ì‚¬ì—… ì—­ëŸ‰ ê°•í™”ì™€ ë„¤íŠ¸ì›Œí¬ í™•ì¥ì„ ìœ„í•œ ë‹¤ì–‘í•œ í”„ë¡œê·¸ë¨</p></div>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="text-sm font-bold text-gray-500 hover:text-brand flex items-center gap-1 transition-colors">ì „ì²´ í”„ë¡œê·¸ë¨ ë³´ê¸° <Icons.ArrowRight size={16} /></button>
                                </div>
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="bg-white rounded-3xl p-3 shadow-deep-blue hover:shadow-deep-blue-hover transition-all duration-300 group cursor-pointer border-none text-left w-full"><div className="relative h-64 rounded-2xl overflow-hidden mb-4 card-zoom"><img src="https://images.unsplash.com/photo-1544531586-fde5298cdd40?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" className="w-full h-full object-cover" alt="ë¹„ì¦ˆë‹ˆìŠ¤ ì„¸ë¯¸ë‚˜"/><div className="absolute top-3 left-3 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-brand shadow-sm">SEMINAR</div></div><div className="px-2 pb-2"><div className="flex justify-between items-start mb-2"><h3 className="text-lg font-bold text-dark group-hover:text-brand transition-colors">ë¹„ì¦ˆë‹ˆìŠ¤ ì„¸ë¯¸ë‚˜</h3></div><p className="text-sm text-gray-500 mb-4 line-clamp-2 h-10 break-keep">ë§¤ì›” ì§„í–‰ë˜ëŠ” ì°½ì—… íŠ¸ë Œë“œ ë° ë§ˆì¼€íŒ… ì‹¤ë¬´ ì„¸ë¯¸ë‚˜</p><div className="flex items-center justify-between"><span className="text-sm font-bold text-dark">ë§¤ì›” 2ì§¸ì£¼ ëª©ìš”ì¼</span></div></div></button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="bg-white rounded-3xl p-3 shadow-deep-blue hover:shadow-deep-blue-hover transition-all duration-300 group cursor-pointer border-none text-left w-full"><div className="relative h-64 rounded-2xl overflow-hidden mb-4 card-zoom"><img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" className="w-full h-full object-cover" alt="íˆ¬ì & ì§€ì›ì‚¬ì—…"/><div className="absolute top-3 left-3 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-green-600 shadow-sm">INVESTMENT</div></div><div className="px-2 pb-2"><div className="flex justify-between items-start mb-2"><h3 className="text-lg font-bold text-dark group-hover:text-brand transition-colors">íˆ¬ì & ì§€ì›ì‚¬ì—…</h3></div><p className="text-sm text-gray-500 mb-4 line-clamp-2 h-10 break-keep">ìµœì‹  ì •ë¶€ ì§€ì›ì‚¬ì—… íë ˆì´ì…˜ ë° IR í”¼ì¹­ ê¸°íšŒ</p><div className="flex items-center justify-between"><span className="text-sm font-bold text-dark">ìˆ˜ì‹œ ëª¨ì§‘</span></div></div></button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="bg-white rounded-3xl p-3 shadow-deep-blue hover:shadow-deep-blue-hover transition-all duration-300 group cursor-pointer border-none text-left w-full"><div className="relative h-64 rounded-2xl overflow-hidden mb-4 card-zoom"><img src="https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" className="w-full h-full object-cover" alt="ì‚¬ì—…ê°€ ë„¤íŠ¸ì›Œí‚¹"/><div className="absolute top-3 left-3 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-accent shadow-sm">NETWORK</div></div><div className="px-2 pb-2"><div className="flex justify-between items-start mb-2"><h3 className="text-lg font-bold text-dark group-hover:text-brand transition-colors">ì‚¬ì—…ê°€ ë„¤íŠ¸ì›Œí‚¹</h3></div><p className="text-sm text-gray-500 mb-4 line-clamp-2 h-10 break-keep">ë‹¤ì–‘í•œ ì—…ì¢…ì˜ ëŒ€í‘œë‹˜ë“¤ê³¼ êµë¥˜í•˜ë©° ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°íšŒ</p><div className="flex items-center justify-between"><span className="text-sm font-bold text-dark">ë§¤ì£¼ ê¸ˆìš”ì¼</span></div></div></button>
                                    <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="bg-soft rounded-3xl p-6 flex flex-col justify-center items-center text-center hover:bg-brand hover:text-white transition-colors duration-300 cursor-pointer group shadow-deep-blue border-none w-full"><div className="w-16 h-16 bg-white rounded-full flex items-center justify-center text-brand mb-4 shadow-sm group-hover:scale-110 transition-transform"><Icons.ArrowRight size={24} /></div><h3 className="text-lg font-bold mb-2">More Programs</h3><p className="text-sm opacity-70 group-hover:opacity-90 break-keep">ë©˜í† ë§, ì›Œí¬ìƒµ ë“± <br/>ë” ë§ì€ í™œë™ ë³´ê¸°</p></button>
                                </div>
                            </div>
                        </section>
                        )}

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 6-1: í›„ì› ì„¹ì…˜
                            ============================================
                            í›„ì›í•˜ê¸° ì „ìš© ì„¹ì…˜ì…ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        {menuEnabled['í›„ì›'] && (
                        <section className="py-24 px-6 bg-gradient-to-br from-green-50 to-emerald-50">
                            <div className="container mx-auto max-w-6xl">
                                <div className="relative rounded-4xl overflow-hidden bg-gradient-to-br from-green-600 to-emerald-600 h-[350px] flex items-center justify-center text-center px-6 shadow-2xl shadow-green-500/40">
                                    <div className="absolute inset-0"><img src="https://images.unsplash.com/photo-1556761175-4b46a572b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" className="w-full h-full object-cover opacity-20 mix-blend-overlay" alt="Support"/></div>
                                    <div className="relative z-10 max-w-2xl">
                                        <h2 className="text-3xl md:text-5xl font-bold text-white mb-6 leading-tight break-keep">ë¶€ì²­ì‚¬ì™€ í•¨ê»˜ ì„±ì¥í•˜ì„¸ìš”</h2>
                                        <p className="text-green-100 text-base md:text-lg mb-10 break-keep">í›„ì›ì„ í†µí•´ ë” ë§ì€ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì´ ê¿ˆì„ ì´ë£° ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”</p>
                                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('donation'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="px-8 py-4 bg-white text-green-600 font-bold rounded-2xl hover:bg-green-50 transition-all shadow-lg btn-hover">í›„ì›í•˜ê¸°</button>
                                    </div>
                                </div>
                            </div>
                        </section>
                        )}

                        {/* ============================================
                            ğŸ“ ì„¹ì…˜ 6: CTA (í–‰ë™ ìœ ë„ ì„¹ì…˜)
                            ============================================
                            "ì‚¬ì—…ì˜ ê¿ˆì„ í˜„ì‹¤ë¡œ!" ì„¹ì…˜ì…ë‹ˆë‹¤.
                            ê°€ì…í•˜ê¸°, ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ì´ í¬í•¨ëœ ë§ˆì§€ë§‰ í™ë³´ ì„¹ì…˜ì…ë‹ˆë‹¤.
                            ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ì´ ì „ì²´ <section> ë¸”ë¡ì„ ì´ë™í•˜ì„¸ìš”.
                            ============================================ */}
                        <section className="py-24 px-6">
                            <div className="container mx-auto max-w-6xl">
                                <div className="relative rounded-4xl overflow-hidden bg-brand h-[400px] flex items-center justify-center text-center px-6 shadow-2xl shadow-brand/40">
                                    <div className="absolute inset-0"><img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" className="w-full h-full object-cover opacity-30 mix-blend-overlay" alt="Building"/></div>
                                    <div className="relative z-10 max-w-2xl">
                                        <h2 className="text-3xl md:text-5xl font-bold text-white mb-6 leading-tight break-keep">{content.cta_title}</h2>
                                        <p className="text-blue-100 text-base md:text-lg mb-10 break-keep">{content.cta_desc}</p>
                                        <div className="flex flex-col sm:flex-row justify-center gap-4">
                                            <button type="button" onClick={(e) => { 
                                                e.preventDefault(); 
                                                e.stopPropagation(); 
                                                console.log('CTA ê°€ì…í•˜ê¸° ë²„íŠ¼ í´ë¦­');
                                                setShowSignUpModal(true); 
                                                setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); 
                                            }} className="px-8 py-4 bg-white text-brand font-bold rounded-2xl hover:bg-gray-50 transition-all shadow-lg btn-hover">ì§€ê¸ˆ ê°€ì…í•˜ê¸°</button>
                                            <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('community'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="px-8 py-4 bg-transparent border border-white/30 text-white font-bold rounded-2xl hover:bg-white/10 transition-all">ë¬¸ì˜í•˜ê¸°</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </>
                );
            };

            return (
                <div className="min-h-screen bg-white text-dark font-sans selection:bg-accent/30 selection:text-brand relative">
                    <header className={`fixed top-0 w-full z-50 transition-all duration-300 ease-in-out px-4 md:px-6 py-5 ${scrolled ? 'bg-white/80 backdrop-blur-lg shadow-glass' : 'bg-transparent'}`}>
                        <div className="container mx-auto flex justify-between items-center relative">
                            <div className="flex items-center cursor-pointer group h-10 md:h-12 overflow-hidden" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('home'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }}>
                                {/* ğŸŒŸ Logo Image: ê°€ë¡œí˜•-ë¡œê³ .png */}
                                <img src="./ê°€ë¡œí˜•-ë¡œê³ .png" alt="Busan Young CEO" className="h-full w-auto object-contain hover:opacity-90 transition-opacity" onError={(e) => { e.target.onerror = null; e.target.style.display = 'none'; e.target.parentNode.innerHTML = '<span class="text-xl font-bold font-pop text-brand">Busan YCC</span>'; }} />
                            </div>
                            <nav className={`hidden md:flex items-center px-2 py-1.5 rounded-full transition-all duration-300 gap-2 relative ${scrolled ? 'bg-transparent' : 'bg-white/40 backdrop-blur-md shadow-glass'}`}>
                                {['í™ˆ', 'ì†Œê°œ', 'í”„ë¡œê·¸ë¨', 'ë¶€ì²­ì‚¬ íšŒì›', 'ë¶€ì‚°ë§›ì§‘ë“±ë¡', 'ì»¤ë®¤ë‹ˆí‹°', 'í›„ì›'].map((item, idx) => (
                                    <div key={idx} className="flex flex-col items-center gap-1 relative">
                                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleNavigation(item); }} className={`${getNavClass(item)} ${!menuEnabled[item] ? 'opacity-50 cursor-not-allowed' : ''} relative`}>
                                            {item}
                                        </button>
                                        {!menuEnabled[item] && (
                                            <button type="button" disabled className="px-2 py-0.5 bg-yellow-100 text-yellow-700 text-[10px] font-bold rounded-full border border-yellow-300 cursor-not-allowed opacity-75" style={{ pointerEvents: 'none' }}>
                                                ì¤€ë¹„ì¤‘
                                            </button>
                                        )}
                                    </div>
                                ))}
                            </nav>
                            <div className="flex items-center gap-3">
                                {currentUser ? (
                                    <>
                                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('myPage'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hidden md:block text-sm font-bold text-gray-600 hover:text-brand transition-colors px-4">ë§ˆì´í˜ì´ì§€</button>
                                        <button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); handleLogout(); }} className="px-6 py-2.5 bg-gray-200 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-300 transition-colors">ë¡œê·¸ì•„ì›ƒ</button>
                                    </>
                                ) : (
                                    <>
                                        <button type="button" onClick={(e) => { 
                                            e.preventDefault(); 
                                            e.stopPropagation(); 
                                            console.log('ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­');
                                            setShowLoginModal(true); 
                                        }} className="hidden md:block text-sm font-semibold text-gray-600 hover:text-brand transition-colors px-4">ë¡œê·¸ì¸</button>
                                        <button type="button" onClick={(e) => { 
                                            e.preventDefault(); 
                                            e.stopPropagation(); 
                                            console.log('ê°€ì…í•˜ê¸° ë²„íŠ¼ í´ë¦­');
                                            setShowSignUpModal(true); 
                                        }} className="px-6 py-2.5 bg-brand text-white rounded-full text-sm font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-brand/20 btn-hover">ê°€ì…í•˜ê¸°</button>
                                    </>
                                )}
                                <button type="button" className="md:hidden p-2 text-dark" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setIsMenuOpen(true); }}><Icons.Menu /></button>
                            </div>
                        </div>
                    </header>
                    
                    {renderView()}

                    <footer className="py-12 bg-white px-6 shadow-[0_-4px_25px_rgba(0,69,165,0.05)] border-none">
                        <div className="container mx-auto max-w-6xl">
                            <div className="flex flex-col md:flex-row justify-between items-start gap-12 mb-12">
                                <div><div className="flex items-center gap-2 mb-4 h-10 overflow-hidden"><img src="./ê°€ë¡œí˜•-ë¡œê³ .png" alt="Busan Young CEO" className="h-full w-auto object-contain" onError={(e) => { e.target.onerror = null; e.target.style.display = 'none'; e.target.parentNode.innerHTML = '<span class="text-lg font-bold font-pop text-brand">Busan YCC</span>'; }} /></div><p className="text-gray-500 text-sm leading-relaxed max-w-xs break-keep">ë¶€ì‚° ì§€ì—­ ì²­ë…„ ì‚¬ì—…ê°€ë“¤ì´ ëª¨ì—¬ í•¨ê»˜ ì„±ì¥í•˜ëŠ”<br/>ë¹„ì¦ˆë‹ˆìŠ¤ ì»¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤.</p></div>
                                <div className="grid grid-cols-2 md:grid-cols-3 gap-12">
                                    <div><h4 className="font-bold text-dark mb-4">ì»¤ë®¤ë‹ˆí‹°</h4><ul className="space-y-2 text-sm text-gray-500"><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allMembers'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">ë¶€ì²­ì‚¬ íšŒì›</button></li><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('community'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ</button></li></ul></div>
                                    <div><h4 className="font-bold text-dark mb-4">í”„ë¡œê·¸ë¨</h4><ul className="space-y-2 text-sm text-gray-500"><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('allSeminars'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">ì„¸ë¯¸ë‚˜ ì¼ì •</button></li></ul></div>
                                    <div><h4 className="font-bold text-dark mb-4">ì§€ì›</h4><ul className="space-y-2 text-sm text-gray-500"><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('notice'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">ê³µì§€ì‚¬í•­</button></li><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('donation'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">í›„ì›í•˜ê¸°</button></li><li><button type="button" onClick={(e) => { e.preventDefault(); e.stopPropagation(); setCurrentView('about'); setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100); }} className="hover:text-brand text-left">ì†Œê°œ</button></li></ul></div>
                                </div>
                            </div>
                            <div className="pt-8 border-t border-brand/5 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-400">
                                <span>&copy; 2025 BCSA. All rights reserved.</span>
                                <div className="flex gap-4 items-center">
                                    <button onClick={() => setShowAdminLogin(true)} className="opacity-0 cursor-default w-4 h-4 hover:cursor-pointer">&nbsp;</button>
                                    <a href="#" className="hover:text-dark">ì´ìš©ì•½ê´€</a>
                                    <a href="#" className="hover:text-dark">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                                </div>
                            </div>
                        </div>
                    </footer>

                    {/* ğŸŒŸ ê´€ë¦¬ì ë¡œê·¸ì¸ ëª¨ë‹¬ */}
                    {showAdminLogin && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                            <div className="absolute inset-0 bg-black/40 backdrop-blur-sm" onClick={() => setShowAdminLogin(false)}></div>
                            <div className="bg-white rounded-2xl shadow-2xl w-full max-w-sm z-10 p-8 animate-zoom-in text-center">
                                <div className="w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-4 text-white"><Icons.Key size={28} /></div>
                                <h3 className="text-xl font-bold text-dark mb-1">ê´€ë¦¬ì ì ‘ì†</h3>
                                <p className="text-sm text-gray-500 mb-6">ê´€ê³„ì ì™¸ ì ‘ê·¼ì„ ê¸ˆí•©ë‹ˆë‹¤.</p>
                                <form onSubmit={(e) => { e.preventDefault(); handleAdminLogin(e.target.id.value, e.target.pw.value); }} className="space-y-3">
                                    <input name="id" type="text" className="w-full p-3 border border-gray-200 rounded-xl text-sm outline-none focus:border-brand transition-colors" placeholder="ì•„ì´ë””" autoFocus autoComplete="off"/>
                                    <input name="pw" type="password" className="w-full p-3 border border-gray-200 rounded-xl text-sm outline-none focus:border-brand transition-colors" placeholder="ë¹„ë°€ë²ˆí˜¸" autoComplete="off"/>
                                    {/* ğŸŒŸ ë²„íŠ¼ ê°€ì‹œì„± ìˆ˜ì • (ë°°ê²½ìƒ‰/ê¸€ììƒ‰ ëª…í™•íˆ ì§€ì •) */}
                                    <button type="submit" className="w-full py-3 bg-[#0f172a] text-white font-bold rounded-xl hover:bg-black transition-colors shadow-lg mt-2">ë¡œê·¸ì¸</button>
                                </form>
                                <button onClick={() => setShowAdminLogin(false)} className="mt-4 text-xs text-gray-400 hover:text-dark underline">ëŒì•„ê°€ê¸°</button>
                            </div>
                        </div>
                    )}

                    {/* ğŸŒŸ ëª¨ë‹¬ë“¤ */}
                    {showSignUpModal === true && (
                        <SignUpModal 
                            onClose={() => {
                                console.log('SignUpModal ë‹«ê¸°');
                                setShowSignUpModal(false);
                            }} 
                            onSignUp={handleSignUp}
                            existingUsers={users}
                        />
                    )}
                    {showLoginModal === true && (
                        <LoginModal 
                            onClose={() => {
                                console.log('LoginModal ë‹«ê¸°');
                                setShowLoginModal(false);
                            }} 
                            onLogin={handleLogin} 
                        />
                    )}
                    {/* ğŸŒŸ ëª¨ë°”ì¼ ë©”ë‰´ ì˜¤ë²„ë ˆì´ */}
                    <MobileMenu isOpen={isMenuOpen} onClose={() => setIsMenuOpen(false)} onNavigate={handleNavigation} menuEnabled={menuEnabled} />

                    {/* í”Œë¡œíŒ… ì†Œì…œ ì•„ì´ì½˜ (ì˜¤ë¥¸ìª½ ê³ ì •, ìŠ¤í¬ë¡¤ ë”°ë¼ë‹¤ë‹˜) */}
                    <div className="fixed right-6 bottom-6 z-50 flex flex-col gap-3">
                        <a
                            href="https://open.kakao.com/o/your-chat-link"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="relative w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl hover:scale-110 transition-all group"
                        >
                            <Icons.MessageSquare className="w-4 h-4 text-white group-hover:scale-110 transition-transform" />
                            <span className="absolute right-full mr-3 px-3 py-1.5 bg-yellow-400 text-black text-xs font-bold rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-200 pointer-events-none">
                                ë¶€ì²­ì‚¬ ì˜¤í”ˆì±„íŒ…ë°©
                                <span className="absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-yellow-400"></span>
                            </span>
                        </a>
                        <a
                            href="https://www.instagram.com/your-instagram"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="relative w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl hover:scale-110 transition-all group"
                        >
                            <Icons.Instagram className="w-4 h-4 text-white group-hover:scale-110 transition-transform" />
                            <span className="absolute right-full mr-3 px-3 py-1.5 bg-gradient-to-br from-purple-600 to-pink-500 text-white text-xs font-bold rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-200 pointer-events-none">
                                ë¶€ì²­ì‚¬ ì¸ìŠ¤íƒ€ê·¸ë¨
                                <span className="absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-purple-600"></span>
                            </span>
                        </a>
                        <a
                            href="https://www.youtube.com/your-channel"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="relative w-10 h-10 bg-red-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl hover:scale-110 transition-all group"
                        >
                            <Icons.Youtube className="w-4 h-4 text-white group-hover:scale-110 transition-transform" />
                            <span className="absolute right-full mr-3 px-3 py-1.5 bg-red-600 text-white text-xs font-bold rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-200 pointer-events-none">
                                ë¶€ì²­ì‚¬ ìœ íŠœë¸Œ
                                <span className="absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-red-600"></span>
                            </span>
                        </a>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html> 